interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop
  response:
    body:
      string: '{"id":24233689,"node_id":"MDEwOlJlcG9zaXRvcnkyNDIzMzY4OQ==","name":"juice-shop","full_name":"juice-shop/juice-shop","private":false,"owner":{"login":"juice-shop","id":83415759,"node_id":"MDEyOk9yZ2FuaXphdGlvbjgzNDE1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/83415759?v=4","gravatar_id":"","url":"https://api.github.com/users/juice-shop","html_url":"https://github.com/juice-shop","followers_url":"https://api.github.com/users/juice-shop/followers","following_url":"https://api.github.com/users/juice-shop/following{/other_user}","gists_url":"https://api.github.com/users/juice-shop/gists{/gist_id}","starred_url":"https://api.github.com/users/juice-shop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juice-shop/subscriptions","organizations_url":"https://api.github.com/users/juice-shop/orgs","repos_url":"https://api.github.com/users/juice-shop/repos","events_url":"https://api.github.com/users/juice-shop/events{/privacy}","received_events_url":"https://api.github.com/users/juice-shop/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/juice-shop/juice-shop","description":"OWASP
        Juice Shop: Probably the most modern and sophisticated insecure web application","fork":false,"url":"https://api.github.com/repos/juice-shop/juice-shop","forks_url":"https://api.github.com/repos/juice-shop/juice-shop/forks","keys_url":"https://api.github.com/repos/juice-shop/juice-shop/keys{/key_id}","collaborators_url":"https://api.github.com/repos/juice-shop/juice-shop/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/juice-shop/juice-shop/teams","hooks_url":"https://api.github.com/repos/juice-shop/juice-shop/hooks","issue_events_url":"https://api.github.com/repos/juice-shop/juice-shop/issues/events{/number}","events_url":"https://api.github.com/repos/juice-shop/juice-shop/events","assignees_url":"https://api.github.com/repos/juice-shop/juice-shop/assignees{/user}","branches_url":"https://api.github.com/repos/juice-shop/juice-shop/branches{/branch}","tags_url":"https://api.github.com/repos/juice-shop/juice-shop/tags","blobs_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/juice-shop/juice-shop/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/juice-shop/juice-shop/git/refs{/sha}","trees_url":"https://api.github.com/repos/juice-shop/juice-shop/git/trees{/sha}","statuses_url":"https://api.github.com/repos/juice-shop/juice-shop/statuses/{sha}","languages_url":"https://api.github.com/repos/juice-shop/juice-shop/languages","stargazers_url":"https://api.github.com/repos/juice-shop/juice-shop/stargazers","contributors_url":"https://api.github.com/repos/juice-shop/juice-shop/contributors","subscribers_url":"https://api.github.com/repos/juice-shop/juice-shop/subscribers","subscription_url":"https://api.github.com/repos/juice-shop/juice-shop/subscription","commits_url":"https://api.github.com/repos/juice-shop/juice-shop/commits{/sha}","git_commits_url":"https://api.github.com/repos/juice-shop/juice-shop/git/commits{/sha}","comments_url":"https://api.github.com/repos/juice-shop/juice-shop/comments{/number}","issue_comment_url":"https://api.github.com/repos/juice-shop/juice-shop/issues/comments{/number}","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/{+path}","compare_url":"https://api.github.com/repos/juice-shop/juice-shop/compare/{base}...{head}","merges_url":"https://api.github.com/repos/juice-shop/juice-shop/merges","archive_url":"https://api.github.com/repos/juice-shop/juice-shop/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/juice-shop/juice-shop/downloads","issues_url":"https://api.github.com/repos/juice-shop/juice-shop/issues{/number}","pulls_url":"https://api.github.com/repos/juice-shop/juice-shop/pulls{/number}","milestones_url":"https://api.github.com/repos/juice-shop/juice-shop/milestones{/number}","notifications_url":"https://api.github.com/repos/juice-shop/juice-shop/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/juice-shop/juice-shop/labels{/name}","releases_url":"https://api.github.com/repos/juice-shop/juice-shop/releases{/id}","deployments_url":"https://api.github.com/repos/juice-shop/juice-shop/deployments","created_at":"2014-09-19T14:53:06Z","updated_at":"2024-09-12T03:41:18Z","pushed_at":"2024-09-11T11:20:34Z","git_url":"git://github.com/juice-shop/juice-shop.git","ssh_url":"git@github.com:juice-shop/juice-shop.git","clone_url":"https://github.com/juice-shop/juice-shop.git","svn_url":"https://github.com/juice-shop/juice-shop","homepage":"https://owasp-juice.shop","size":240302,"stargazers_count":10088,"watchers_count":10088,"language":"TypeScript","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":10349,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":8,"license":{"key":"mit","name":"MIT
        License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["24pullrequests","application-security","appsec","ctf","hacking","hacktoberfest","javascript","owasp","owasp-top-10","owasp-top-ten","pentesting","security","vulnapp","vulnerable"],"visibility":"public","forks":10349,"open_issues":8,"watchers":10088,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true},"custom_properties":{},"organization":{"login":"juice-shop","id":83415759,"node_id":"MDEyOk9yZ2FuaXphdGlvbjgzNDE1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/83415759?v=4","gravatar_id":"","url":"https://api.github.com/users/juice-shop","html_url":"https://github.com/juice-shop","followers_url":"https://api.github.com/users/juice-shop/followers","following_url":"https://api.github.com/users/juice-shop/following{/other_user}","gists_url":"https://api.github.com/users/juice-shop/gists{/gist_id}","starred_url":"https://api.github.com/users/juice-shop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juice-shop/subscriptions","organizations_url":"https://api.github.com/users/juice-shop/orgs","repos_url":"https://api.github.com/users/juice-shop/repos","events_url":"https://api.github.com/users/juice-shop/events{/privacy}","received_events_url":"https://api.github.com/users/juice-shop/received_events","type":"Organization","site_admin":false},"network_count":10349,"subscribers_count":162}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:29 GMT
      ETag:
      - W/"7b8319cf490b0686fe354b5dfd122015a32e8ebf4d7323fcc770e341dce533b7"
      Last-Modified:
      - Thu, 12 Sep 2024 03:41:18 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C380:5F999:2F6E8DE:325BCD3:66E29D81
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4992'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '8'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - metadata=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/pulls/35
  response:
    body:
      string: '{"url":"https://api.github.com/repos/juice-shop/juice-shop/pulls/35","id":23053912,"node_id":"MDExOlB1bGxSZXF1ZXN0MjMwNTM5MTI=","html_url":"https://github.com/juice-shop/juice-shop/pull/35","diff_url":"https://github.com/juice-shop/juice-shop/pull/35.diff","patch_url":"https://github.com/juice-shop/juice-shop/pull/35.patch","issue_url":"https://api.github.com/repos/juice-shop/juice-shop/issues/35","number":35,"state":"closed","locked":true,"title":"minor
        improvements and more tests","user":{"login":"bkimminich","id":3531020,"node_id":"MDQ6VXNlcjM1MzEwMjA=","avatar_url":"https://avatars.githubusercontent.com/u/3531020?v=4","gravatar_id":"","url":"https://api.github.com/users/bkimminich","html_url":"https://github.com/bkimminich","followers_url":"https://api.github.com/users/bkimminich/followers","following_url":"https://api.github.com/users/bkimminich/following{/other_user}","gists_url":"https://api.github.com/users/bkimminich/gists{/gist_id}","starred_url":"https://api.github.com/users/bkimminich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkimminich/subscriptions","organizations_url":"https://api.github.com/users/bkimminich/orgs","repos_url":"https://api.github.com/users/bkimminich/repos","events_url":"https://api.github.com/users/bkimminich/events{/privacy}","received_events_url":"https://api.github.com/users/bkimminich/received_events","type":"User","site_admin":false},"body":"-
        client side tests added (except BasketController)\n- fixed issue with user<->feedback
        association when saving new feedback\n- handle email properly for challenges\n-
        badges fixed up\n- app version shows in navbar\n- ...\n","created_at":"2014-10-20T23:54:21Z","updated_at":"2019-11-05T02:04:53Z","closed_at":"2014-10-20T23:56:09Z","merged_at":"2014-10-20T23:56:09Z","merge_commit_sha":"08274be0e1d56792b7221b3a3f343ce48ea08fab","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/juice-shop/juice-shop/pulls/35/commits","review_comments_url":"https://api.github.com/repos/juice-shop/juice-shop/pulls/35/comments","review_comment_url":"https://api.github.com/repos/juice-shop/juice-shop/pulls/comments{/number}","comments_url":"https://api.github.com/repos/juice-shop/juice-shop/issues/35/comments","statuses_url":"https://api.github.com/repos/juice-shop/juice-shop/statuses/c17a2afaeafc194fc33ec4fcfb3395aa88440204","head":{"label":"juice-shop:develop","ref":"develop","sha":"c17a2afaeafc194fc33ec4fcfb3395aa88440204","user":{"login":"juice-shop","id":83415759,"node_id":"MDEyOk9yZ2FuaXphdGlvbjgzNDE1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/83415759?v=4","gravatar_id":"","url":"https://api.github.com/users/juice-shop","html_url":"https://github.com/juice-shop","followers_url":"https://api.github.com/users/juice-shop/followers","following_url":"https://api.github.com/users/juice-shop/following{/other_user}","gists_url":"https://api.github.com/users/juice-shop/gists{/gist_id}","starred_url":"https://api.github.com/users/juice-shop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juice-shop/subscriptions","organizations_url":"https://api.github.com/users/juice-shop/orgs","repos_url":"https://api.github.com/users/juice-shop/repos","events_url":"https://api.github.com/users/juice-shop/events{/privacy}","received_events_url":"https://api.github.com/users/juice-shop/received_events","type":"Organization","site_admin":false},"repo":{"id":24233689,"node_id":"MDEwOlJlcG9zaXRvcnkyNDIzMzY4OQ==","name":"juice-shop","full_name":"juice-shop/juice-shop","private":false,"owner":{"login":"juice-shop","id":83415759,"node_id":"MDEyOk9yZ2FuaXphdGlvbjgzNDE1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/83415759?v=4","gravatar_id":"","url":"https://api.github.com/users/juice-shop","html_url":"https://github.com/juice-shop","followers_url":"https://api.github.com/users/juice-shop/followers","following_url":"https://api.github.com/users/juice-shop/following{/other_user}","gists_url":"https://api.github.com/users/juice-shop/gists{/gist_id}","starred_url":"https://api.github.com/users/juice-shop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juice-shop/subscriptions","organizations_url":"https://api.github.com/users/juice-shop/orgs","repos_url":"https://api.github.com/users/juice-shop/repos","events_url":"https://api.github.com/users/juice-shop/events{/privacy}","received_events_url":"https://api.github.com/users/juice-shop/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/juice-shop/juice-shop","description":"OWASP
        Juice Shop: Probably the most modern and sophisticated insecure web application","fork":false,"url":"https://api.github.com/repos/juice-shop/juice-shop","forks_url":"https://api.github.com/repos/juice-shop/juice-shop/forks","keys_url":"https://api.github.com/repos/juice-shop/juice-shop/keys{/key_id}","collaborators_url":"https://api.github.com/repos/juice-shop/juice-shop/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/juice-shop/juice-shop/teams","hooks_url":"https://api.github.com/repos/juice-shop/juice-shop/hooks","issue_events_url":"https://api.github.com/repos/juice-shop/juice-shop/issues/events{/number}","events_url":"https://api.github.com/repos/juice-shop/juice-shop/events","assignees_url":"https://api.github.com/repos/juice-shop/juice-shop/assignees{/user}","branches_url":"https://api.github.com/repos/juice-shop/juice-shop/branches{/branch}","tags_url":"https://api.github.com/repos/juice-shop/juice-shop/tags","blobs_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/juice-shop/juice-shop/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/juice-shop/juice-shop/git/refs{/sha}","trees_url":"https://api.github.com/repos/juice-shop/juice-shop/git/trees{/sha}","statuses_url":"https://api.github.com/repos/juice-shop/juice-shop/statuses/{sha}","languages_url":"https://api.github.com/repos/juice-shop/juice-shop/languages","stargazers_url":"https://api.github.com/repos/juice-shop/juice-shop/stargazers","contributors_url":"https://api.github.com/repos/juice-shop/juice-shop/contributors","subscribers_url":"https://api.github.com/repos/juice-shop/juice-shop/subscribers","subscription_url":"https://api.github.com/repos/juice-shop/juice-shop/subscription","commits_url":"https://api.github.com/repos/juice-shop/juice-shop/commits{/sha}","git_commits_url":"https://api.github.com/repos/juice-shop/juice-shop/git/commits{/sha}","comments_url":"https://api.github.com/repos/juice-shop/juice-shop/comments{/number}","issue_comment_url":"https://api.github.com/repos/juice-shop/juice-shop/issues/comments{/number}","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/{+path}","compare_url":"https://api.github.com/repos/juice-shop/juice-shop/compare/{base}...{head}","merges_url":"https://api.github.com/repos/juice-shop/juice-shop/merges","archive_url":"https://api.github.com/repos/juice-shop/juice-shop/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/juice-shop/juice-shop/downloads","issues_url":"https://api.github.com/repos/juice-shop/juice-shop/issues{/number}","pulls_url":"https://api.github.com/repos/juice-shop/juice-shop/pulls{/number}","milestones_url":"https://api.github.com/repos/juice-shop/juice-shop/milestones{/number}","notifications_url":"https://api.github.com/repos/juice-shop/juice-shop/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/juice-shop/juice-shop/labels{/name}","releases_url":"https://api.github.com/repos/juice-shop/juice-shop/releases{/id}","deployments_url":"https://api.github.com/repos/juice-shop/juice-shop/deployments","created_at":"2014-09-19T14:53:06Z","updated_at":"2024-09-12T03:41:18Z","pushed_at":"2024-09-11T11:20:34Z","git_url":"git://github.com/juice-shop/juice-shop.git","ssh_url":"git@github.com:juice-shop/juice-shop.git","clone_url":"https://github.com/juice-shop/juice-shop.git","svn_url":"https://github.com/juice-shop/juice-shop","homepage":"https://owasp-juice.shop","size":240302,"stargazers_count":10088,"watchers_count":10088,"language":"TypeScript","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":10349,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":8,"license":{"key":"mit","name":"MIT
        License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["24pullrequests","application-security","appsec","ctf","hacking","hacktoberfest","javascript","owasp","owasp-top-10","owasp-top-ten","pentesting","security","vulnapp","vulnerable"],"visibility":"public","forks":10349,"open_issues":8,"watchers":10088,"default_branch":"master"}},"base":{"label":"juice-shop:master","ref":"master","sha":"3f3efa28a1993438345d12e37660e10c0fd4f269","user":{"login":"juice-shop","id":83415759,"node_id":"MDEyOk9yZ2FuaXphdGlvbjgzNDE1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/83415759?v=4","gravatar_id":"","url":"https://api.github.com/users/juice-shop","html_url":"https://github.com/juice-shop","followers_url":"https://api.github.com/users/juice-shop/followers","following_url":"https://api.github.com/users/juice-shop/following{/other_user}","gists_url":"https://api.github.com/users/juice-shop/gists{/gist_id}","starred_url":"https://api.github.com/users/juice-shop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juice-shop/subscriptions","organizations_url":"https://api.github.com/users/juice-shop/orgs","repos_url":"https://api.github.com/users/juice-shop/repos","events_url":"https://api.github.com/users/juice-shop/events{/privacy}","received_events_url":"https://api.github.com/users/juice-shop/received_events","type":"Organization","site_admin":false},"repo":{"id":24233689,"node_id":"MDEwOlJlcG9zaXRvcnkyNDIzMzY4OQ==","name":"juice-shop","full_name":"juice-shop/juice-shop","private":false,"owner":{"login":"juice-shop","id":83415759,"node_id":"MDEyOk9yZ2FuaXphdGlvbjgzNDE1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/83415759?v=4","gravatar_id":"","url":"https://api.github.com/users/juice-shop","html_url":"https://github.com/juice-shop","followers_url":"https://api.github.com/users/juice-shop/followers","following_url":"https://api.github.com/users/juice-shop/following{/other_user}","gists_url":"https://api.github.com/users/juice-shop/gists{/gist_id}","starred_url":"https://api.github.com/users/juice-shop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juice-shop/subscriptions","organizations_url":"https://api.github.com/users/juice-shop/orgs","repos_url":"https://api.github.com/users/juice-shop/repos","events_url":"https://api.github.com/users/juice-shop/events{/privacy}","received_events_url":"https://api.github.com/users/juice-shop/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/juice-shop/juice-shop","description":"OWASP
        Juice Shop: Probably the most modern and sophisticated insecure web application","fork":false,"url":"https://api.github.com/repos/juice-shop/juice-shop","forks_url":"https://api.github.com/repos/juice-shop/juice-shop/forks","keys_url":"https://api.github.com/repos/juice-shop/juice-shop/keys{/key_id}","collaborators_url":"https://api.github.com/repos/juice-shop/juice-shop/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/juice-shop/juice-shop/teams","hooks_url":"https://api.github.com/repos/juice-shop/juice-shop/hooks","issue_events_url":"https://api.github.com/repos/juice-shop/juice-shop/issues/events{/number}","events_url":"https://api.github.com/repos/juice-shop/juice-shop/events","assignees_url":"https://api.github.com/repos/juice-shop/juice-shop/assignees{/user}","branches_url":"https://api.github.com/repos/juice-shop/juice-shop/branches{/branch}","tags_url":"https://api.github.com/repos/juice-shop/juice-shop/tags","blobs_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/juice-shop/juice-shop/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/juice-shop/juice-shop/git/refs{/sha}","trees_url":"https://api.github.com/repos/juice-shop/juice-shop/git/trees{/sha}","statuses_url":"https://api.github.com/repos/juice-shop/juice-shop/statuses/{sha}","languages_url":"https://api.github.com/repos/juice-shop/juice-shop/languages","stargazers_url":"https://api.github.com/repos/juice-shop/juice-shop/stargazers","contributors_url":"https://api.github.com/repos/juice-shop/juice-shop/contributors","subscribers_url":"https://api.github.com/repos/juice-shop/juice-shop/subscribers","subscription_url":"https://api.github.com/repos/juice-shop/juice-shop/subscription","commits_url":"https://api.github.com/repos/juice-shop/juice-shop/commits{/sha}","git_commits_url":"https://api.github.com/repos/juice-shop/juice-shop/git/commits{/sha}","comments_url":"https://api.github.com/repos/juice-shop/juice-shop/comments{/number}","issue_comment_url":"https://api.github.com/repos/juice-shop/juice-shop/issues/comments{/number}","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/{+path}","compare_url":"https://api.github.com/repos/juice-shop/juice-shop/compare/{base}...{head}","merges_url":"https://api.github.com/repos/juice-shop/juice-shop/merges","archive_url":"https://api.github.com/repos/juice-shop/juice-shop/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/juice-shop/juice-shop/downloads","issues_url":"https://api.github.com/repos/juice-shop/juice-shop/issues{/number}","pulls_url":"https://api.github.com/repos/juice-shop/juice-shop/pulls{/number}","milestones_url":"https://api.github.com/repos/juice-shop/juice-shop/milestones{/number}","notifications_url":"https://api.github.com/repos/juice-shop/juice-shop/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/juice-shop/juice-shop/labels{/name}","releases_url":"https://api.github.com/repos/juice-shop/juice-shop/releases{/id}","deployments_url":"https://api.github.com/repos/juice-shop/juice-shop/deployments","created_at":"2014-09-19T14:53:06Z","updated_at":"2024-09-12T03:41:18Z","pushed_at":"2024-09-11T11:20:34Z","git_url":"git://github.com/juice-shop/juice-shop.git","ssh_url":"git@github.com:juice-shop/juice-shop.git","clone_url":"https://github.com/juice-shop/juice-shop.git","svn_url":"https://github.com/juice-shop/juice-shop","homepage":"https://owasp-juice.shop","size":240302,"stargazers_count":10088,"watchers_count":10088,"language":"TypeScript","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":10349,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":8,"license":{"key":"mit","name":"MIT
        License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["24pullrequests","application-security","appsec","ctf","hacking","hacktoberfest","javascript","owasp","owasp-top-10","owasp-top-ten","pentesting","security","vulnapp","vulnerable"],"visibility":"public","forks":10349,"open_issues":8,"watchers":10088,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/juice-shop/juice-shop/pulls/35"},"html":{"href":"https://github.com/juice-shop/juice-shop/pull/35"},"issue":{"href":"https://api.github.com/repos/juice-shop/juice-shop/issues/35"},"comments":{"href":"https://api.github.com/repos/juice-shop/juice-shop/issues/35/comments"},"review_comments":{"href":"https://api.github.com/repos/juice-shop/juice-shop/pulls/35/comments"},"review_comment":{"href":"https://api.github.com/repos/juice-shop/juice-shop/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/juice-shop/juice-shop/pulls/35/commits"},"statuses":{"href":"https://api.github.com/repos/juice-shop/juice-shop/statuses/c17a2afaeafc194fc33ec4fcfb3395aa88440204"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null,"merged":true,"mergeable":null,"rebaseable":null,"mergeable_state":"unknown","merged_by":{"login":"bkimminich","id":3531020,"node_id":"MDQ6VXNlcjM1MzEwMjA=","avatar_url":"https://avatars.githubusercontent.com/u/3531020?v=4","gravatar_id":"","url":"https://api.github.com/users/bkimminich","html_url":"https://github.com/bkimminich","followers_url":"https://api.github.com/users/bkimminich/followers","following_url":"https://api.github.com/users/bkimminich/following{/other_user}","gists_url":"https://api.github.com/users/bkimminich/gists{/gist_id}","starred_url":"https://api.github.com/users/bkimminich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkimminich/subscriptions","organizations_url":"https://api.github.com/users/bkimminich/orgs","repos_url":"https://api.github.com/users/bkimminich/repos","events_url":"https://api.github.com/users/bkimminich/events{/privacy}","received_events_url":"https://api.github.com/users/bkimminich/received_events","type":"User","site_admin":false},"comments":1,"review_comments":0,"maintainer_can_modify":false,"commits":24,"additions":1138,"deletions":355,"changed_files":35}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:30 GMT
      ETag:
      - W/"69a77ff897d592ff88b59aa588af1dcad0047d638fc753d9a672cbf508aa69b8"
      Last-Modified:
      - Mon, 09 Sep 2024 07:19:10 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C381:185D0:2B427F3:2E084CA:66E29D82
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4991'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '9'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - pull_requests=read; contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/vnd.github.v3.diff
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: https://github.com/juice-shop/juice-shop/pull/35.diff
  response:
    body:
      string: ''
    headers:
      Cache-Control:
      - no-cache
      Content-Length:
      - '0'
      Content-Security-Policy:
      - 'default-src ''none''; base-uri ''self''; child-src github.com/assets-cdn/worker/
        github.com/webpack/ github.com/assets/ gist.github.com/assets-cdn/worker/;
        connect-src ''self'' uploads.github.com www.githubstatus.com collector.github.com
        raw.githubusercontent.com api.github.com github-cloud.s3.amazonaws.com github-production-repository-file-5c1aeb.s3.amazonaws.com
        github-production-upload-manifest-file-7fdce7.s3.amazonaws.com github-production-user-asset-6210df.s3.amazonaws.com
        *.rel.tunnels.api.visualstudio.com wss://*.rel.tunnels.api.visualstudio.com
        api.githubcopilot.com objects-origin.githubusercontent.com copilot-proxy.githubusercontent.com/v1/engines/github-completion/completions
        proxy.enterprise.githubcopilot.com/v1/engines/github-completion/completions
        *.actions.githubusercontent.com wss://*.actions.githubusercontent.com productionresultssa0.blob.core.windows.net/
        productionresultssa1.blob.core.windows.net/ productionresultssa2.blob.core.windows.net/
        productionresultssa3.blob.core.windows.net/ productionresultssa4.blob.core.windows.net/
        productionresultssa5.blob.core.windows.net/ productionresultssa6.blob.core.windows.net/
        productionresultssa7.blob.core.windows.net/ productionresultssa8.blob.core.windows.net/
        productionresultssa9.blob.core.windows.net/ productionresultssa10.blob.core.windows.net/
        productionresultssa11.blob.core.windows.net/ productionresultssa12.blob.core.windows.net/
        productionresultssa13.blob.core.windows.net/ productionresultssa14.blob.core.windows.net/
        productionresultssa15.blob.core.windows.net/ productionresultssa16.blob.core.windows.net/
        productionresultssa17.blob.core.windows.net/ productionresultssa18.blob.core.windows.net/
        productionresultssa19.blob.core.windows.net/ github-production-repository-image-32fea6.s3.amazonaws.com
        github-production-release-asset-2e65be.s3.amazonaws.com insights.github.com
        wss://alive.github.com; font-src github.githubassets.com; form-action ''self''
        github.com gist.github.com copilot-workspace.githubnext.com objects-origin.githubusercontent.com;
        frame-ancestors ''none''; frame-src viewscreen.githubusercontent.com notebooks.githubusercontent.com;
        img-src ''self'' data: blob: github.githubassets.com media.githubusercontent.com
        camo.githubusercontent.com identicons.github.com avatars.githubusercontent.com
        github-cloud.s3.amazonaws.com objects.githubusercontent.com secured-user-images.githubusercontent.com/
        user-images.githubusercontent.com/ private-user-images.githubusercontent.com
        opengraph.githubassets.com github-production-user-asset-6210df.s3.amazonaws.com
        customer-stories-feed.github.com spotlights-feed.github.com objects-origin.githubusercontent.com
        *.githubusercontent.com; manifest-src ''self''; media-src github.com user-images.githubusercontent.com/
        secured-user-images.githubusercontent.com/ private-user-images.githubusercontent.com
        github-production-user-asset-6210df.s3.amazonaws.com gist.github.com; script-src
        github.githubassets.com; style-src ''unsafe-inline'' github.githubassets.com;
        upgrade-insecure-requests; worker-src github.com/assets-cdn/worker/ github.com/webpack/
        github.com/assets/ gist.github.com/assets-cdn/worker/'
      Content-Type:
      - text/html; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:30 GMT
      Location:
      - https://patch-diff.githubusercontent.com/raw/juice-shop/juice-shop/pull/35.diff
      Referrer-Policy:
      - no-referrer-when-downgrade
      Server:
      - GitHub.com
      Set-Cookie:
      - _gh_sess=EiDHO7cwU6v82H8new4F4ZxsDeIK6PJAQCVOkWL%2FiIOaTE%2F3vh65zSlzzOunBmrLj12yd7fSlQ5PJEfeZwbigb4T528QUvr2Lu4rOTDDaPlTq4C2nWmn2WG0ZsHiVyz6kSV5f5tvBhLD8a1rAnqmJ88hRsOIo%2Bo0zoRh3HPAwFUYCA1Z4%2BEsA0nCgboBkYeFCZ9yUwQxTfqNOzrO8YfxXGWzzxOEojHcE%2Bi77usmgflMYeltLEpoChuc3yJWvPnnqAGW5pRCs%2FJv55Z1PNrGjA%3D%3D--nYlEd7g7ILDhd0d5--ID6w4z4fvZY8pOhHCSHUrQ%3D%3D;
        Path=/; HttpOnly; Secure; SameSite=Lax
      - _octo=GH1.1.304031918.1726127490; Path=/; Domain=github.com; Expires=Fri,
        12 Sep 2025 07:51:30 GMT; Secure; SameSite=Lax
      - logged_in=no; Path=/; Domain=github.com; Expires=Fri, 12 Sep 2025 07:51:30
        GMT; HttpOnly; Secure; SameSite=Lax
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Vary:
      - X-PJAX, X-PJAX-Container, Turbo-Visit, Turbo-Frame, Accept-Encoding, Accept,
        X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Request-Id:
      - C382:8AFB0:3467037:3A07898:66E29D82
      X-XSS-Protection:
      - '0'
    status:
      code: 302
      message: Found
- request:
    body: null
    headers:
      Accept:
      - application/vnd.github.v3.diff
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: https://patch-diff.githubusercontent.com/raw/juice-shop/juice-shop/pull/35.diff
  response:
    body:
      string: "diff --git a/README.md b/README.md\nindex 38793123c25..31d60d1d6c4
        100644\n--- a/README.md\n+++ b/README.md\n@@ -1,5 +1,4 @@\n # Juice Shop\n-[![Nodejitsu
        Deploy Status](https://webhooks.nodejitsu.com/bkimminich/juice-shop.png)](https://webops.nodejitsu.com#bkimminich/juice-shop)\n
        \n An intentionally insecure RIA suitable for pentesting and security awareness
        trainings written in Node, Express and Angular. Inspired by the \"classic\"
        [BodgeIt Store](https://code.google.com/p/bodgeit/) by [@psiinon](https://github.com/psiinon).\n
        \n@@ -45,7 +44,7 @@ You may find it easier to find vulnerabilities using a
        pen test tool. I strongly\n [Zed Attack Proxy](https://code.google.com/p/zaproxy/)
        which is open source and very powerful, yet beginner friendly.\n \n [![endorse](https://api.coderwall.com/bkimminich/endorsecount.png)](https://coderwall.com/bkimminich)\n+[![geeklist](http://img.shields.io/badge/geeklist-%5E5-green.svg)](https://geekli.st/bkimminich/i-built-the-juice-shop-broken-full-js-stack-webapp-for-pentesting-and-security-trainings)\n
        [![Gratipay](http://img.shields.io/gratipay/bkimminich.svg)](https://gratipay.com/bkimminich)\n
        [![Bountysource](https://www.bountysource.com/badge/tracker?tracker_id=6283055)](https://www.bountysource.com/trackers/6283055-juice-shop?utm_source=6283055&utm_medium=shield&utm_campaign=TRACKER_BADGE)\n-[![HuBoard](http://img.shields.io/badge/Hu-Board-blue.svg)](https://huboard.com/bkimminich/juice-shop)\n-\n+[![HuBoard](http://img.shields.io/badge/Hu-Board-blue.svg)](https://huboard.com/bkimminich/juice-shop)\n\\
        No newline at end of file\ndiff --git a/app/index.html b/app/index.html\nindex
        6b9e379b7f9..ab1e42a9924 100644\n--- a/app/index.html\n+++ b/app/index.html\n@@
        -31,7 +31,7 @@\n <nav class=\"navbar navbar-default\" role=\"navigation\">\n
        \    <div class=\"container-fluid\" ng-controller=\"NavbarController\">\n
        \        <div class=\"navbar-header\">\n-            <a class=\"navbar-brand\"
        href=\"#\">Juice Shop</a>\n+            <a class=\"navbar-brand\" href=\"#\">Juice
        Shop <small>{{version}}</small></a>\n         </div>\n         <ul class=\"nav
        navbar-nav navbar-right\">\n             <li class=\"dropdown\" ng-show=\"!isLoggedIn()\">\ndiff
        --git a/app/js/controllers/ContactController.js b/app/js/controllers/ContactController.js\nindex
        49fc008e1e0..c5d2c0ea968 100644\n--- a/app/js/controllers/ContactController.js\n+++
        b/app/js/controllers/ContactController.js\n@@ -1,12 +1,18 @@\n angular.module('myApp').controller('ContactController',
        [\n     '$scope',\n     'FeedbackService',\n-    function ($scope, feedbackService)
        {\n+    'UserService',\n+    function ($scope, feedbackService, userService)
        {\n         'use strict';\n \n+        userService.whoAmI().success(function(data)
        {\n+            $scope.feedback = {};\n+            $scope.feedback.UserId
        = data.id;\n+        });\n+\n         $scope.save = function () {\n-            feedbackService.save($scope.feedback).success(function
        () {\n-                $scope.confirmation = 'Thank you for your feedback'
        + ($scope.feedback.rating === 5 ? ' and your 5-star rating!' : '.');\n+            feedbackService.save($scope.feedback).success(function
        (savedFeedback) {\n+                $scope.confirmation = 'Thank you for your
        feedback' + (savedFeedback.data.rating === 5 ? ' and your 5-star rating!'
        : '.');\n                 $scope.feedback = {};\n                 $scope.form.$setPristine();\n
        \            });\ndiff --git a/app/js/controllers/NavbarController.js b/app/js/controllers/NavbarController.js\nindex
        345e8ac5572..b24cdf86f7f 100644\n--- a/app/js/controllers/NavbarController.js\n+++
        b/app/js/controllers/NavbarController.js\n@@ -1,5 +1,17 @@\n angular.module('myApp').controller('NavbarController',
        [\n-    function () {\n+    '$scope',\n+    'AdministrationService',\n+    function
        ($scope, administrationService) {\n         'use strict';\n \n+        $scope.version
        = '';\n+\n+        administrationService.getApplicationVersion().success(function
        (data) {\n+            if (data && data.version) {\n+                $scope.version
        = 'v'+data.version;\n+            }\n+        }).error(function (err) {\n+
        \           console.log(err);\n+        });\n+\n     }]);\n\\ No newline at
        end of file\ndiff --git a/app/js/controllers/SearchResultController.js b/app/js/controllers/SearchResultController.js\nindex
        edcaf8821f0..051488f038a 100644\n--- a/app/js/controllers/SearchResultController.js\n+++
        b/app/js/controllers/SearchResultController.js\n@@ -9,10 +9,6 @@ angular.module('myApp').controller('SearchResultController',
        [\n     function ($scope, $sce, $window, $modal, $location, productService,
        basketService) {\n         'use strict';\n \n-        function log(data) {\n-
        \           console.log(data);\n-        }\n-\n         $scope.showDetail
        = function (id) {\n \n             $modal.open({\n@@ -64,7 +60,7 @@ angular.module('myApp').controller('SearchResultController',
        [\n                     });\n                 }\n             }).error(function(err)
        {\n-                log(err);\n+                console.log(err);\n             });\n
        \        };\n \n@@ -76,7 +72,7 @@ angular.module('myApp').controller('SearchResultController',
        [\n                 $scope.products[i].description = $sce.trustAsHtml($scope.products[i].description);\n
        \            }\n         }).error(function(err) {\n-            log(err);\n+
        \           console.log(err);\n         });\n \n     }]);\n\\ No newline at
        end of file\ndiff --git a/app/js/controllers/UserController.js b/app/js/controllers/UserController.js\nindex
        ac5b7c01482..ceca2b098e2 100644\n--- a/app/js/controllers/UserController.js\n+++
        b/app/js/controllers/UserController.js\n@@ -1,13 +1,17 @@\n angular.module('myApp').controller('UserController',
        [\n     '$scope',\n     '$modal',\n+    '$sce',\n     'UserService',\n-    function
        ($scope, $modal, userService) {\n+    function ($scope, $modal, $sce, userService)
        {\n         'use strict';\n \n         function findAll() {\n             userService.find().success(function
        (users) {\n                 $scope.users = users.data;\n+                for
        (var i=0; i<$scope.users.length; i++) {\n+                    $scope.users[i].email
        = $sce.trustAsHtml($scope.users[i].email);\n+                }\n             }).error(function
        (err) {\n                 console.log(err);\n             });\ndiff --git
        a/app/js/services/AdministrationService.js b/app/js/services/AdministrationService.js\nnew
        file mode 100644\nindex 00000000000..f9b6aa5b9f1\n--- /dev/null\n+++ b/app/js/services/AdministrationService.js\n@@
        -0,0 +1,14 @@\n+angular.module('myApp').factory('AdministrationService', ['$http',
        function ($http) {\n+    'use strict';\n+\n+    var host = '/rest/admin';\n+\n+
        \   function getApplicationVersion() {\n+        return $http.get(host + '/application-version');\n+
        \   }\n+\n+    return {\n+        getApplicationVersion: getApplicationVersion\n+
        \   };\n+\n+}]);\n\\ No newline at end of file\ndiff --git a/app/js/services/UserService.js
        b/app/js/services/UserService.js\nindex c90348ac36c..2feab669422 100644\n---
        a/app/js/services/UserService.js\n+++ b/app/js/services/UserService.js\n@@
        -25,11 +25,16 @@ angular.module('myApp').factory('UserService', ['$http',
        function ($http) {\n         return $http.get('/rest/user/change-password?current='+
        passwords.current +'&new=' + passwords.new + '&repeat=' + passwords.repeat);\n
        \    }\n \n+    function whoAmI() {\n+        return $http.get('/rest/user/whoami');\n+
        \   }\n+\n     return {\n         find: find,\n         get: get,\n         save:
        save,\n         login: login,\n-        changePassword: changePassword\n+
        \       changePassword: changePassword,\n+        whoAmI: whoAmI\n     };\n
        }]);\n\\ No newline at end of file\ndiff --git a/app/views/Administration.html
        b/app/views/Administration.html\nindex fc648842ae5..c3d34dd62ae 100644\n---
        a/app/views/Administration.html\n+++ b/app/views/Administration.html\n@@ -10,7
        +10,7 @@ <h3 class=\"page-header page-header-sm\">Administration <small>User</small></h3>\n
        \            </tr>\n             <tr data-ng-repeat=\"user in users\">\n                 <td
        class=\"col-md-1\"><span ng-show=\"user.token\" class=\"glyphicon glyphicon-user\"></span></td>\n-
        \               <td>{{user.email}}</td>\n+                <td><div ng-bind-html=\"user.email\"></div></td>\n
        \                <td class=\"col-md-1\">\n                     <div class=\"btn-group\">\n
        \                        <a class=\"btn btn-default btn-xs\" ng-click=\"showDetail(user.id)\"><span
        class=\"glyphicon glyphicon-eye-open\"></span></a>\ndiff --git a/app/views/Contact.html
        b/app/views/Contact.html\nindex 879e57642e6..f8388de1673 100644\n--- a/app/views/Contact.html\n+++
        b/app/views/Contact.html\n@@ -5,6 +5,7 @@ <h3 class=\"page-header page-header-sm\">Contact
        Us</h3>\n         <div ng-controller=\"ContactController\">\n \n             <form
        role=\"form\" name=\"form\" novalidate>\n+                <input type=\"hidden\"
        ng-model=\"feedback.UserId\"/>\n                 <div class=\"alert-info\"
        ng-show=\"confirmation && !form.$dirty\">\n                     <p>{{confirmation}}</p>\n
        \                </div>\ndiff --git a/bower.json b/bower.json\nindex 47a0ac68ee7..e303a249a99
        100644\n--- a/bower.json\n+++ b/bower.json\n@@ -1,7 +1,7 @@\n {\n     \"name\":
        \"juice-shop\",\n     \"description\": \"An intentionally insecure RIA suitable
        for pentesting and security awareness trainings written in Node, Express and
        Angular.\",\n-    \"version\": \"0.2.0\",\n+    \"version\": \"0.3.0\",\n
        \    \"private\": true,\n     \"dependencies\": {\n         \"angular\": \"~1.2\",\ndiff
        --git a/lib/utils.js b/lib/utils.js\nindex 2b6767fac22..302fb573533 100644\n---
        a/lib/utils.js\n+++ b/lib/utils.js\n@@ -1,6 +1,8 @@\n /*jslint node: true
        */\n 'use strict';\n \n+var packageJson = require('../package.json');\n+\n
        exports.queryResultToJson = function(data, status) {\n     var wrappedData
        = {};\n     if (data) {\n@@ -40,4 +42,12 @@ exports.unquote = function(str)
        {\n     else {\n         return str;\n     }\n-};\n\\ No newline at end of
        file\n+};\n+\n+exports.version = function(module) {\n+    if (module) {\n+
        \       return packageJson.dependencies[module];\n+    } else {\n+        return
        packageJson.version;\n+    }\n+}\n\\ No newline at end of file\ndiff --git
        a/package.json b/package.json\nindex 5c8414fc4d6..6edfc0455c7 100644\n---
        a/package.json\n+++ b/package.json\n@@ -1,6 +1,6 @@\n {\n     \"name\": \"juice-shop\",\n-
        \   \"version\": \"0.2.0\",\n+    \"version\": \"0.3.0\",\n     \"description\":
        \"An intentionally insecure RIA suitable for pentesting and security awareness
        trainings written in Node, Express and Angular.\",\n     \"author\": \"Bjoern
        Kimminich\",\n     \"contributors\": [\n@@ -8,14 +8,18 @@\n     ],\n     \"private\":
        true,\n     \"keywords\": [\n-        \"bodgeit\",\n+        \"web security\",\n+
        \       \"web application security\",\n+        \"webappsec\",\n         \"owasp\",\n
        \        \"pentest\",\n         \"pentesting\",\n-        \"web security\",\n
        \        \"security\",\n         \"vulnerable\",\n-        \"vulnerability\"\n+
        \       \"vulnerability\",\n+        \"broken\",\n+        \"bodgeit\"\n+\n
        \    ],\n     \"dependencies\": {\n         \"bower\": \"~1.3\",\ndiff --git
        a/server.js b/server.js\nindex ffddf1fd16c..e13c374344f 100644\n--- a/server.js\n+++
        b/server.js\n@@ -22,7 +22,7 @@ var application_root = __dirname.replace(/\\\\/g,
        '/'),\n     insecurity = require('./lib/insecurity'),\n     app = express();\n
        \n-errorhandler.title = 'Juice Shop (Express ' + require('./package.json').dependencies.express
        + ')';\n+errorhandler.title = 'Juice Shop (Express ' + utils.version('express')
        + ')';\n \n /* Delete old order PDFs */\n glob(__dirname + '/app/public/ftp/*.pdf',
        function (err, files) {\n@@ -132,7 +132,7 @@ var redirectChallenge, easterEggLevelOneChallenge,
        easterEggLevelTwoChallenge, d\n     loginAdminChallenge, loginJimChallenge,
        loginBenderChallenge, changeProductChallenge, csrfChallenge,\n     errorHandlingChallenge,
        knownVulnerableComponentChallenge, negativeOrderChallenge, persistedXssChallengeFeedback,\n
        \    persistedXssChallengeUser, localXssChallenge, restfulXssChallenge,basketChallenge,
        weakPasswordChallenge,\n-    adminSectionChallenge, scoreBoardChallenge, feedbackChallenge,
        unionSqlInjectionChallenge;\n+    adminSectionChallenge, scoreBoardChallenge,
        feedbackChallenge, unionSqlInjectionChallenge, forgedFeedbackChallenge;\n
        \n /* Entities relevant for challenges */\n \n@@ -213,6 +213,12 @@ sequelize.sync().success(function
        () {\n     }).success(function(challenge) {\n         feedbackChallenge =
        challenge;\n     });\n+    Challenge.create({\n+        description: 'Post
        some feedback in another users name.',\n+        solved: false\n+    }).success(function(challenge)
        {\n+        forgedFeedbackChallenge = challenge;\n+    });\n     Challenge.create({\n
        \        description: 'Wherever you go, there you are.',\n         solved:
        false\n@@ -451,15 +457,20 @@ app.use('/rest/user/authentication-details',
        insecurity.isAuthorized());\n app.use('/rest/basket/:id', insecurity.isAuthorized());\n
        app.use('/rest/basket/:id/order', insecurity.isAuthorized());\n \n+/* Challenge
        evaluation before sequelize-restful takes over */\n+app.post('/api/Feedbacks',
        verifyForgedFeedbackChallenge());\n+\n /* Sequelize Restful APIs */\n app.use(restful(sequelize,
        { endpoint: '/api', allowed: ['Users', 'Products', 'Feedbacks', 'BasketItems',
        'Challenges'] }));\n /* Custom Restful API */\n app.post('/rest/user/login',
        loginUser());\n app.get('/rest/user/change-password', changePassword());\n
        app.get('/rest/user/authentication-details', retrieveUserList());\n+app.get('/rest/user/whoami',
        retrieveLoggedInUsersId());\n app.get('/rest/product/search', searchProducts());\n
        app.get('/rest/basket/:id', retrieveBasket());\n app.post('/rest/basket/:id/order',
        createOrderPdf());\n+app.get('/rest/admin/application-version', retrieveAppVersion());\n
        app.get('/redirect', performRedirect());\n /* File Serving */\n app.get('/the/devs/are/so/funny/they/hid/an/easter/egg/within/the/easter/egg',
        serveEasterEgg());\n@@ -487,6 +498,19 @@ exports.close = function (exitCode)
        {\n     }\n };\n \n+function verifyForgedFeedbackChallenge() {\n+    return
        function(req, res, next) {\n+        if (notSolved(forgedFeedbackChallenge))
        {\n+            var user = insecurity.authenticatedUsers.from(req);\n+            var
        userId = user ? user.data.id : undefined;\n+            if (req.body.UserId
        && req.body.UserId != userId) {\n+                solve(forgedFeedbackChallenge);\n+
        \           }\n+        }\n+        next();\n+    }\n+}\n+\n function verifyAccessControlChallenges()
        {\n     return function (req, res, next) {\n         if (notSolved(scoreBoardChallenge)
        && utils.endsWith(req.url, '/scoreboard.png')) {\n@@ -498,6 +522,19 @@ function
        verifyAccessControlChallenges() {\n     };\n }\n \n+function retrieveLoggedInUsersId()
        {\n+    return function (req, res) {\n+        var user = insecurity.authenticatedUsers.from(req);\n+
        \       res.json({id: (user ? user.data.id : undefined), email: (user ? user.data.email
        : undefined)});\n+    };\n+}\n+\n+function retrieveAppVersion() {\n+    return
        function (req, res) {\n+        res.json({version: utils.version()});\n+    };\n+}\n+\n
        function serveAngularClient() {\n     return function (req, res, next) {\n
        \        if (!utils.startsWith(req.url, '/api') && !utils.startsWith(req.url,
        '/rest')) {\ndiff --git a/test/client/aboutControllerSpec.js b/test/client/aboutControllerSpec.js\nnew
        file mode 100644\nindex 00000000000..8bf50040652\n--- /dev/null\n+++ b/test/client/aboutControllerSpec.js\n@@
        -0,0 +1,18 @@\n+describe('controllers', function () {\n+    var scope, controller;\n+\n+
        \   beforeEach(module('myApp'));\n+    describe('AboutController', function
        () {\n+        beforeEach(inject(function ($rootScope, $controller) {\n+            scope
        = $rootScope.$new();\n+            controller = $controller('AboutController',
        {\n+                '$scope': scope\n+            });\n+        }));\n+\n+
        \       it('should be defined', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+
        \       }));\n+    });\n+\n+});\ndiff --git a/test/client/administrationControllerSpec.js
        b/test/client/administrationControllerSpec.js\nnew file mode 100644\nindex
        00000000000..79828710c8f\n--- /dev/null\n+++ b/test/client/administrationControllerSpec.js\n@@
        -0,0 +1,19 @@\n+describe('controllers', function () {\n+    var scope, controller;\n+\n+
        \   beforeEach(module('myApp'));\n+\n+    describe('AdministrationController',
        function () {\n+        beforeEach(inject(function ($rootScope, $controller)
        {\n+            scope = $rootScope.$new();\n+            controller = $controller('AdministrationController',
        {\n+                '$scope': scope\n+            });\n+        }));\n+\n+
        \       it('should be defined', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+
        \       }));\n+    });\n+\n+});\ndiff --git a/test/client/basketControllerSpec.js
        b/test/client/basketControllerSpec.js\nnew file mode 100644\nindex 00000000000..164eb5fc9e9\n---
        /dev/null\n+++ b/test/client/basketControllerSpec.js\n@@ -0,0 +1,26 @@\n+describe('controllers',
        function () {\n+    var scope, location, controller, window, cookieStore,
        $httpBackend;\n+\n+    beforeEach(module('myApp'));\n+    beforeEach(inject(function($injector)
        {\n+        $httpBackend = $injector.get('$httpBackend');\n+    }));\n+\n+
        \   describe('BasketController', function () {\n+        beforeEach(inject(function
        ($rootScope, $controller) {\n+            scope = $rootScope.$new();\n+            controller
        = $controller('BasketController', {\n+                '$scope': scope\n+            });\n+
        \       }));\n+\n+        it('should be defined', inject(function ($controller)
        {\n+            expect(controller).toBeDefined();\n+            expect(scope.delete).toBeDefined();\n+
        \           expect(scope.order).toBeDefined();\n+            expect(scope.inc).toBeDefined();\n+
        \           expect(scope.dec).toBeDefined();\n+        }));\n+    });\n+\n+});\ndiff
        --git a/test/client/challengeControllerSpec.js b/test/client/challengeControllerSpec.js\nnew
        file mode 100644\nindex 00000000000..ca8a4c66fe7\n--- /dev/null\n+++ b/test/client/challengeControllerSpec.js\n@@
        -0,0 +1,59 @@\n+describe('controllers', function () {\n+    var scope, controller,
        $httpBackend, $sce;\n+\n+    beforeEach(module('myApp'));\n+    beforeEach(inject(function($injector)
        {\n+        $httpBackend = $injector.get('$httpBackend');\n+        $sce =
        $injector.get('$sce');\n+    }));\n+\n+    describe('ChallengeController',
        function () {\n+        beforeEach(inject(function ($rootScope, $controller)
        {\n+            scope = $rootScope.$new();\n+            controller = $controller('ChallengeController',
        {\n+                '$scope': scope\n+            });\n+        }));\n+\n+
        \       it('should be defined', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+
        \       }));\n+\n+        it('should hold existing challenges', inject(function
        ($controller) {\n+            $httpBackend.whenGET('/api/Challenges/').respond(200,
        {data: [{description: 'XSS'},{description: 'CSRF'}]});\n+\n+            $httpBackend.flush();\n+\n+
        \           expect(scope.challenges.length).toBe(2);\n+            expect(scope.challenges[0].description).toBeDefined();\n+
        \           expect(scope.challenges[1].description).toBeDefined();\n+        }));\n+\n+
        \       it('should consider challenge description as trusted HTML', inject(function
        ($controller) {\n+            $httpBackend.whenGET('/api/Challenges/').respond(200,
        {data: [{description: '<a src=\"link\">Link</a>'}]});\n+            spyOn($sce,
        'trustAsHtml');\n+\n+            $httpBackend.flush();\n+\n+            expect($sce.trustAsHtml).toHaveBeenCalledWith('<a
        src=\"link\">Link</a>');\n+        }));\n+\n+        it('should hold nothing
        when no challenges exists', inject(function ($controller) {\n+            $httpBackend.whenGET('/api/Challenges/').respond(200,
        {data: {}});\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.challenges).toEqual({});\n+
        \       }));\n+\n+        it('should hold nothing on error from backend API',
        inject(function ($controller) {\n+            $httpBackend.whenGET('/api/Challenges/').respond(500);\n+\n+
        \           $httpBackend.flush();\n+\n+            expect(scope.challenges).toBeUndefined();\n+
        \       }));\n+\n+    });\n+\n+});\ndiff --git a/test/client/changepasswordControllerSpec.js
        b/test/client/changepasswordControllerSpec.js\nnew file mode 100644\nindex
        00000000000..359288cf749\n--- /dev/null\n+++ b/test/client/changepasswordControllerSpec.js\n@@
        -0,0 +1,49 @@\n+describe('controllers', function () {\n+    var scope, location,
        controller, $httpBackend;\n+\n+    beforeEach(module('myApp'));\n+        beforeEach(inject(function($injector)
        {\n+        $httpBackend = $injector.get('$httpBackend');\n+    }));\n+\n+
        \   describe('ChangePasswordController', function () {\n+        beforeEach(inject(function
        ($rootScope, $location, $controller) {\n+            scope = $rootScope.$new();\n+
        \           location = $location;\n+            controller = $controller('ChangePasswordController',
        {\n+                '$scope': scope\n+            });\n+        }));\n+\n+
        \       it('should be defined', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+
        \           expect(scope.changePassword).toBeDefined();\n+        }));\n+\n+
        \       it('should forward to main page after changing password', inject(function
        ($controller) {\n+            $httpBackend.whenGET('/rest/user/change-password?current=old&new=foobar&repeat=foobar').respond(200);\n+
        \           scope.currentPassword = 'old';\n+            scope.newPassword
        = 'foobar';\n+            scope.newPasswordRepeat = 'foobar';\n+\n+            scope.changePassword();\n+
        \           $httpBackend.flush();\n+\n+            expect(location.path()).toBe('/');\n+
        \       }));\n+\n+        it('should gracefully handle error on password change',
        inject(function ($controller) {\n+            $httpBackend.whenGET('/rest/user/change-password?current=old&new=foobar&repeat=foobar').respond(500,
        'error');\n+            scope.currentPassword = 'old';\n+            scope.newPassword
        = 'foobar';\n+            scope.newPasswordRepeat = 'foobar';\n+\n+            scope.changePassword();\n+
        \           $httpBackend.flush();\n+\n+            expect(scope.error).toBe('error');\n+
        \       }));\n+\n+    });\n+\n+});\ndiff --git a/test/client/contactControllerSpec.js
        b/test/client/contactControllerSpec.js\nnew file mode 100644\nindex 00000000000..a8d01dd5962\n---
        /dev/null\n+++ b/test/client/contactControllerSpec.js\n@@ -0,0 +1,81 @@\n+describe('controllers',
        function () {\n+    var scope, controller, $httpBackend;\n+\n+    beforeEach(module('myApp'));\n+
        \   beforeEach(inject(function($injector) {\n+        $httpBackend = $injector.get('$httpBackend');\n+
        \   }));\n+\n+    describe('ContactController', function () {\n+        beforeEach(inject(function
        ($rootScope, $controller) {\n+            scope = $rootScope.$new();\n+            controller
        = $controller('ContactController', {\n+                '$scope': scope\n+
        \           });\n+        }));\n+\n+        it('should be defined', inject(function
        ($controller) {\n+            expect(controller).toBeDefined();\n+            expect(scope.save).toBeDefined();\n+
        \       }));\n+\n+        it('should hold the user id of the currently logged
        in user', inject(function ($controller) {\n+            $httpBackend.whenGET('/rest/user/whoami').respond(200,
        {id: 42});\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.feedback.UserId).toBe(42);\n+\n+
        \       }));\n+\n+        it('should hold no user id if current user is not
        logged in', inject(function ($controller) {\n+            $httpBackend.whenGET('/rest/user/whoami').respond(200,
        {});\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.feedback.UserId).toBeUndefined();\n+\n+
        \       }));\n+\n+        it('should hold no user id if retrieving currently
        logged in user fails', inject(function ($controller) {\n+            $httpBackend.whenGET('/rest/user/whoami').respond(500);\n+\n+
        \           $httpBackend.flush();\n+\n+            expect(scope.feedback).toBeUndefined();\n+\n+
        \       }));\n+\n+        it('should display thank-you message and reset feedback
        form on saving feedback', inject(function ($controller) {\n+            $httpBackend.whenGET('/rest/user/whoami').respond(200,
        {});\n+\n+            $httpBackend.whenPOST('/api/Feedbacks/').respond(200,
        {data: {comment: 'Test', rating: 4}});\n+            scope.feedback = {comment:
        'Test', rating: 4}\n+            scope.form = {$setPristine: function() {}};\n+\n+
        \           scope.save();\n+            $httpBackend.flush();\n+\n+            expect(scope.feedback).toEqual({});\n+
        \           expect(scope.confirmation).toBe('Thank you for your feedback.');\n+\n+
        \       }));\n+\n+        it('should display 5-star thank-you message and
        reset feedback form on saving 5-star feedback', inject(function ($controller)
        {\n+            $httpBackend.whenGET('/rest/user/whoami').respond(200, {});\n+\n+
        \           $httpBackend.whenPOST('/api/Feedbacks/').respond(200, {data: {comment:
        'Praise', rating: 5}});\n+            scope.feedback = {comment: 'Praise',
        rating: 5}\n+            scope.form = {$setPristine: function() {}};\n+\n+
        \           scope.save();\n+            $httpBackend.flush();\n+\n+            expect(scope.feedback).toEqual({});\n+
        \           expect(scope.confirmation).toBe('Thank you for your feedback and
        your 5-star rating!');\n+\n+        }));\n+\n+    });\n+\n+});\ndiff --git
        a/test/client/controllersSpec.js b/test/client/controllersSpec.js\ndeleted
        file mode 100644\nindex b625ba23750..00000000000\n--- a/test/client/controllersSpec.js\n+++
        /dev/null\n@@ -1,329 +0,0 @@\n-describe('controllers', function () {\n-    var
        scope, location, controller, window, cookieStore, $httpBackend;\n-\n-    beforeEach(module('myApp'));\n-
        \   beforeEach(inject(function($injector) {\n-        $httpBackend = $injector.get('$httpBackend');\n-
        \   }));\n-\n-    describe('UserController', function () {\n-        beforeEach(inject(function
        ($rootScope, $controller) {\n-            scope = $rootScope.$new();\n-            controller
        = $controller('UserController', {\n-                '$scope': scope\n-            });\n-
        \       }));\n-\n-        it('should be defined', inject(function ($controller)
        {\n-            expect(controller).toBeDefined();\n-            expect(scope.showDetail).toBeDefined();\n-
        \       }));\n-    });\n-\n-    describe('AdministrationController', function
        () {\n-        beforeEach(inject(function ($rootScope, $controller) {\n-            scope
        = $rootScope.$new();\n-            controller = $controller('AdministrationController',
        {\n-                '$scope': scope\n-            });\n-        }));\n-\n-
        \       it('should be defined', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-
        \       }));\n-    });\n-\n-    describe('AboutController', function () {\n-
        \       beforeEach(inject(function ($rootScope, $controller) {\n-            scope
        = $rootScope.$new();\n-            controller = $controller('AboutController',
        {\n-                '$scope': scope\n-            });\n-        }));\n-\n-
        \       it('should be defined', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-
        \       }));\n-    });\n-\n-    describe('FeedbackController', function ()
        {\n-        beforeEach(inject(function ($rootScope, $controller) {\n-            scope
        = $rootScope.$new();\n-            controller = $controller('FeedbackController',
        {\n-                '$scope': scope\n-            });\n-        }));\n-\n-
        \       it('should be defined', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-
        \           expect(scope.delete).toBeDefined();\n-        }));\n-    });\n-\n-
        \   describe('ContactController', function () {\n-        beforeEach(inject(function
        ($rootScope, $controller) {\n-            scope = $rootScope.$new();\n-            controller
        = $controller('ContactController', {\n-                '$scope': scope\n-
        \           });\n-        }));\n-\n-        it('should be defined', inject(function
        ($controller) {\n-            expect(controller).toBeDefined();\n-            expect(scope.save).toBeDefined();\n-
        \       }));\n-    });\n-\n-    describe('LoginController', function () {\n-
        \       beforeEach(inject(function ($rootScope, $window, $location, $cookieStore,
        $controller) {\n-            scope = $rootScope.$new();\n-            location
        = $location;\n-            window = $window;\n-            cookieStore = $cookieStore;\n-
        \           controller = $controller('LoginController', {\n-                '$scope':
        scope\n-            });\n-            scope.form = {$setPristine : function()
        {}};\n-        }));\n-\n-        it('should be defined', inject(function ($controller)
        {\n-            expect(controller).toBeDefined();\n-            expect(scope.login).toBeDefined();\n-
        \       }));\n-\n-        it('forwards to main page after successful login',
        inject(function ($controller) {\n-            $httpBackend.whenPOST('/rest/user/login').respond(200,
        {token: 'auth_token'});\n-\n-            scope.login();\n-            $httpBackend.flush();\n-\n-
        \           expect(location.path()).toBe('/');\n-        }));\n-\n-        it('sets
        the returned authentication token as session cookie', inject(function ($controller)
        {\n-            $httpBackend.whenPOST('/rest/user/login').respond(200, {token:
        'auth_token'});\n-\n-            scope.login();\n-            $httpBackend.flush();\n-\n-
        \           expect(cookieStore.get('token')).toBe('auth_token');\n-        }));\n-\n-
        \       it('puts the returned basket id into browser session storage', inject(function
        ($controller) {\n-            $httpBackend.whenPOST('/rest/user/login').respond(200,
        {bid: 4711});\n-\n-            scope.login();\n-            $httpBackend.flush();\n-\n-
        \           expect(window.sessionStorage.bid).toBe('4711');\n-        }));\n-\n-
        \       it('removes authentication token and basket id on failed login attempt',
        inject(function ($controller) {\n-            $httpBackend.whenPOST('/rest/user/login').respond(401);\n-\n-
        \           scope.login();\n-            $httpBackend.flush();\n-\n-            expect(cookieStore.get('token')).toBeUndefined;\n-
        \           expect(window.sessionStorage.bid).toBeUndefined;\n-        }));\n-\n-
        \       it('returns error message from server to client on failed login attempt',
        inject(function ($controller) {\n-            $httpBackend.whenPOST('/rest/user/login').respond(401,
        'error');\n-\n-            scope.login();\n-            $httpBackend.flush();\n-\n-
        \           expect(scope.error).toBe('error');\n-        }));\n-\n-    });\n-\n-
        \   describe('LogoutController', function () {\n-        beforeEach(inject(function
        ($rootScope, $controller, $window, $location, $cookieStore) {\n-            scope
        = $rootScope.$new();\n-            window = $window;\n-            location
        = $location;\n-            cookieStore = $cookieStore;\n-            controller
        = $controller('LogoutController', {\n-                '$scope': scope\n-            });\n-
        \       }));\n-\n-        it('should be defined', inject(function ($controller)
        {\n-            expect(controller).toBeDefined();\n-        }));\n-\n-        it('should
        remove authentication token from cookies', inject(function ($controller) {\n-
        \           expect(cookieStore.get('token')).toBeUndefined();\n-        }));\n-\n-
        \       it('should remove basket id from session storage', inject(function
        ($controller) {\n-            expect(window.sessionStorage.bid).toBeUndefined();\n-
        \       }));\n-\n-        it('should forward to main page', inject(function
        ($controller) {\n-            expect(location.path()).toBe('/');\n-        }));\n-\n-
        \   });\n-\n-    describe('RegisterController', function () {\n-        beforeEach(inject(function
        ($rootScope, $controller, $location) {\n-            scope = $rootScope.$new();\n-
        \           location = $location;\n-            controller = $controller('RegisterController',
        {\n-                '$scope': scope\n-            });\n-        }));\n-\n-
        \       it('should be defined', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-
        \           expect(scope.save).toBeDefined();\n-        }));\n-\n-        it('resets
        the registration form and redirects to login page after user registration',
        inject(function ($controller) {\n-            $httpBackend.whenPOST('/api/Users/').respond(200);\n-\n-
        \           scope.save();\n-            $httpBackend.flush();\n-\n-            expect(scope.user).toEqual({});\n-
        \           expect(location.path()).toBe('/login');\n-        }));\n-\n-    });\n-\n-
        \   describe('SearchController', function () {\n-        beforeEach(inject(function
        ($rootScope, $location, $controller) {\n-            scope = $rootScope.$new();\n-
        \           location = $location;\n-            controller = $controller('SearchController',
        {\n-                '$scope': scope\n-            });\n-        }));\n-\n-
        \       it('should be defined', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-
        \           expect(scope.search).toBeDefined();\n-        }));\n-\n-        it('forwards
        to search result with search query as URL parameter', inject(function ($controller)
        {\n-            scope.searchQuery = 'lemon juice';\n-            scope.search();\n-
        \           expect(location.path()).toBe('/search');\n-            expect(location.search()).toEqual({q:
        'lemon juice'});\n-        }));\n-\n-        it('forwards to search result
        with empty search criteria if no search query is present', inject(function
        ($controller) {\n-            scope.searchQuery = undefined;\n-            scope.search();\n-
        \           expect(location.path()).toBe('/search');\n-            expect(location.search()).toEqual({q:
        ''});\n-        }));\n-\n-    });\n-\n-    describe('SearchResultController',
        function () {\n-        beforeEach(inject(function ($rootScope, $controller)
        {\n-            scope = $rootScope.$new();\n-            controller = $controller('SearchResultController',
        {\n-                '$scope': scope\n-            });\n-        }));\n-\n-
        \       it('should be defined', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-
        \           expect(scope.showDetail).toBeDefined();\n-            expect(scope.addToBasket).toBeDefined();\n-
        \       }));\n-    });\n-\n-    describe('NavbarController', function () {\n-
        \       beforeEach(inject(function ($rootScope, $controller) {\n-            scope
        = $rootScope.$new();\n-            controller = $controller('NavbarController',
        {\n-                '$scope': scope\n-            });\n-        }));\n-\n-
        \       it('should be defined', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-
        \       }));\n-    });\n-\n-    describe('BasketController', function () {\n-
        \       beforeEach(inject(function ($rootScope, $controller) {\n-            scope
        = $rootScope.$new();\n-            controller = $controller('BasketController',
        {\n-                '$scope': scope\n-            });\n-        }));\n-\n-
        \       it('should be defined', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-
        \           expect(scope.delete).toBeDefined();\n-            expect(scope.order).toBeDefined();\n-
        \           expect(scope.inc).toBeDefined();\n-            expect(scope.dec).toBeDefined();\n-
        \       }));\n-    });\n-\n-    describe('ChallengeController', function ()
        {\n-        beforeEach(inject(function ($rootScope, $controller) {\n-            scope
        = $rootScope.$new();\n-            controller = $controller('ChallengeController',
        {\n-                '$scope': scope\n-            });\n-        }));\n-\n-
        \       it('should be defined', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-
        \       }));\n-    });\n-\n-    describe('ChangePasswordController', function
        () {\n-        beforeEach(inject(function ($rootScope, $controller) {\n-            scope
        = $rootScope.$new();\n-            controller = $controller('ChangePasswordController',
        {\n-                '$scope': scope\n-            });\n-        }));\n-\n-
        \       it('should be defined', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-
        \           expect(scope.changePassword).toBeDefined();\n-        }));\n-
        \   });\n-\n-    describe('ProductDetailsController', function () {\n-        beforeEach(inject(function
        ($rootScope, $controller) {\n-            scope = $rootScope.$new();\n-            var
        id;\n-            controller = $controller('ProductDetailsController', {\n-
        \               '$scope': scope,\n-                'id': id\n-            });\n-
        \       }));\n-\n-        it('should be defined', inject(function ($controller)
        {\n-            expect(controller).toBeDefined();\n-        }));\n-    });\n-\n-
        \   describe('UserDetailsController', function () {\n-        beforeEach(inject(function
        ($rootScope, $controller) {\n-            scope = $rootScope.$new();\n-            var
        id;\n-            controller = $controller('UserDetailsController', {\n-                '$scope':
        scope,\n-                'id': id\n-            });\n-        }));\n-\n-        it('should
        be defined', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-
        \       }));\n-    });\n-\n-});\ndiff --git a/test/client/feedbackControllerSpec.js
        b/test/client/feedbackControllerSpec.js\nnew file mode 100644\nindex 00000000000..86105e4e734\n---
        /dev/null\n+++ b/test/client/feedbackControllerSpec.js\n@@ -0,0 +1,84 @@\n+describe('controllers',
        function () {\n+    var scope, controller, $httpBackend, $sce;\n+\n+    beforeEach(module('myApp'));\n+
        \   beforeEach(inject(function($injector) {\n+        $httpBackend = $injector.get('$httpBackend');\n+
        \       $sce = $injector.get('$sce');\n+    }));\n+\n+    describe('FeedbackController',
        function () {\n+        beforeEach(inject(function ($rootScope, $controller)
        {\n+            scope = $rootScope.$new();\n+            controller = $controller('FeedbackController',
        {\n+                '$scope': scope\n+            });\n+        }));\n+\n+
        \       it('should be defined', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+
        \           expect(scope.delete).toBeDefined();\n+        }));\n+\n+        it('should
        hold existing feedback', inject(function ($controller) {\n+            $httpBackend.whenGET('/api/Feedbacks/').respond(200,
        {data: [{comment: 'a'},{comment: 'b'}]});\n+\n+            $httpBackend.flush();\n+\n+
        \           expect(scope.feedbacks.length).toBe(2);\n+            expect(scope.feedbacks[0].comment).toBeDefined();\n+
        \           expect(scope.feedbacks[1].comment).toBeDefined();\n+        }));\n+\n+
        \       it('should add an image to feedback', inject(function ($controller)
        {\n+            $httpBackend.whenGET('/api/Feedbacks/').respond(200, {data:
        [{}]});\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.feedbacks[0].image).toBeDefined();\n+
        \       }));\n+\n+        it('should consider feedback comment as trusted
        HTML', inject(function ($controller) {\n+            $httpBackend.whenGET('/api/Feedbacks/').respond(200,
        {data: [{comment: '<script>alert(\"XSS3\")</script>'}]});\n+            spyOn($sce,
        'trustAsHtml');\n+\n+            $httpBackend.flush();\n+\n+            expect($sce.trustAsHtml).toHaveBeenCalledWith('<script>alert(\"XSS3\")</script>');\n+
        \       }));\n+\n+        it('should hold nothing when no feedback exists',
        inject(function ($controller) {\n+            $httpBackend.whenGET('/api/Feedbacks/').respond(200,
        {data: {}});\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.feedbacks).toEqual({});\n+
        \       }));\n+\n+        it('should hold nothing on error from backend API',
        inject(function ($controller) {\n+            $httpBackend.whenGET('/api/Feedbacks/').respond(500);\n+\n+
        \           $httpBackend.flush();\n+\n+            expect(scope.feedbacks).toBeUndefined();\n+
        \       }));\n+\n+        it('should pass delete request for feedback to backend
        API', inject(function ($controller) {\n+            $httpBackend.whenGET('/api/Feedbacks/').respond(200,
        {data: [{id: 42}]});\n+            $httpBackend.whenDELETE('/api/Feedbacks/42').respond(200);\n+\n+
        \           scope.delete(42);\n+            $httpBackend.flush();\n+        }));\n+\n+
        \       it('should gracefully handle error while deleting feedback', inject(function
        ($controller) {\n+            $httpBackend.whenGET('/api/Feedbacks/').respond(200,
        {data: [{id: 42}]});\n+            $httpBackend.whenDELETE('/api/Feedbacks/4711').respond(500);\n+\n+
        \           scope.delete(4711);\n+            $httpBackend.flush();\n+        }));\n+\n+
        \   });\n+\n+});\ndiff --git a/test/client/loginControllerSpec.js b/test/client/loginControllerSpec.js\nnew
        file mode 100644\nindex 00000000000..d8771612ca4\n--- /dev/null\n+++ b/test/client/loginControllerSpec.js\n@@
        -0,0 +1,74 @@\n+describe('controllers', function () {\n+    var scope, location,
        controller, window, cookieStore, $httpBackend;\n+\n+    beforeEach(module('myApp'));\n+
        \   beforeEach(inject(function($injector) {\n+        $httpBackend = $injector.get('$httpBackend');\n+
        \   }));\n+\n+    describe('LoginController', function () {\n+        beforeEach(inject(function
        ($rootScope, $window, $location, $cookieStore, $controller) {\n+            scope
        = $rootScope.$new();\n+            location = $location;\n+            window
        = $window;\n+            cookieStore = $cookieStore;\n+            controller
        = $controller('LoginController', {\n+                '$scope': scope\n+            });\n+
        \           scope.form = {$setPristine : function() {}};\n+        }));\n+\n+
        \       it('should be defined', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+
        \           expect(scope.login).toBeDefined();\n+        }));\n+\n+        it('forwards
        to main page after successful login', inject(function ($controller) {\n+            $httpBackend.whenPOST('/rest/user/login').respond(200,
        {token: 'auth_token'});\n+\n+            scope.login();\n+            $httpBackend.flush();\n+\n+
        \           expect(location.path()).toBe('/');\n+        }));\n+\n+        it('sets
        the returned authentication token as session cookie', inject(function ($controller)
        {\n+            $httpBackend.whenPOST('/rest/user/login').respond(200, {token:
        'auth_token'});\n+\n+            scope.login();\n+            $httpBackend.flush();\n+\n+
        \           expect(cookieStore.get('token')).toBe('auth_token');\n+        }));\n+\n+
        \       it('puts the returned basket id into browser session storage', inject(function
        ($controller) {\n+            $httpBackend.whenPOST('/rest/user/login').respond(200,
        {bid: 4711});\n+\n+            scope.login();\n+            $httpBackend.flush();\n+\n+
        \           expect(window.sessionStorage.bid).toBe('4711');\n+        }));\n+\n+
        \       it('removes authentication token and basket id on failed login attempt',
        inject(function ($controller) {\n+            $httpBackend.whenPOST('/rest/user/login').respond(401);\n+\n+
        \           scope.login();\n+            $httpBackend.flush();\n+\n+            expect(cookieStore.get('token')).toBeUndefined;\n+
        \           expect(window.sessionStorage.bid).toBeUndefined;\n+        }));\n+\n+
        \       it('returns error message from server to client on failed login attempt',
        inject(function ($controller) {\n+            $httpBackend.whenPOST('/rest/user/login').respond(401,
        'error');\n+\n+            scope.login();\n+            $httpBackend.flush();\n+\n+
        \           expect(scope.error).toBe('error');\n+        }));\n+\n+    });\n+\n+});\ndiff
        --git a/test/client/logoutControllerSpec.js b/test/client/logoutControllerSpec.js\nnew
        file mode 100644\nindex 00000000000..e5209a25188\n--- /dev/null\n+++ b/test/client/logoutControllerSpec.js\n@@
        -0,0 +1,35 @@\n+describe('controllers', function () {\n+    var scope, location,
        controller, window, cookieStore;\n+\n+    beforeEach(module('myApp'));\n+\n+
        \   describe('LogoutController', function () {\n+        beforeEach(inject(function
        ($rootScope, $controller, $window, $location, $cookieStore) {\n+            scope
        = $rootScope.$new();\n+            window = $window;\n+            location
        = $location;\n+            cookieStore = $cookieStore;\n+            controller
        = $controller('LogoutController', {\n+                '$scope': scope\n+            });\n+
        \       }));\n+\n+        it('should be defined', inject(function ($controller)
        {\n+            expect(controller).toBeDefined();\n+        }));\n+\n+        it('should
        remove authentication token from cookies', inject(function ($controller) {\n+
        \           expect(cookieStore.get('token')).toBeUndefined();\n+        }));\n+\n+
        \       it('should remove basket id from session storage', inject(function
        ($controller) {\n+            expect(window.sessionStorage.bid).toBeUndefined();\n+
        \       }));\n+\n+        it('should forward to main page', inject(function
        ($controller) {\n+            expect(location.path()).toBe('/');\n+        }));\n+\n+
        \   });\n+\n+});\ndiff --git a/test/client/navbarControllerSpec.js b/test/client/navbarControllerSpec.js\nnew
        file mode 100644\nindex 00000000000..de62a604400\n--- /dev/null\n+++ b/test/client/navbarControllerSpec.js\n@@
        -0,0 +1,47 @@\n+describe('controllers', function () {\n+    var scope, controller,
        $httpBackend;\n+\n+    beforeEach(module('myApp'));\n+    beforeEach(inject(function($injector)
        {\n+        $httpBackend = $injector.get('$httpBackend');\n+    }));\n+\n+
        \   describe('NavbarController', function () {\n+        beforeEach(inject(function
        ($rootScope, $controller) {\n+            scope = $rootScope.$new();\n+            controller
        = $controller('NavbarController', {\n+                '$scope': scope\n+            });\n+
        \       }));\n+\n+        it('should be defined', inject(function ($controller)
        {\n+            expect(controller).toBeDefined();\n+        }));\n+\n+        it('should
        hold application version', inject(function ($controller) {\n+            $httpBackend.whenGET('/rest/admin/application-version').respond(200,
        {version: 'x.y.z'});\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.version).toBe('vx.y.z');\n+
        \       }));\n+\n+        it('should show nothing on missing application version',
        inject(function ($controller) {\n+            $httpBackend.whenGET('/rest/admin/application-version').respond(200,
        {});\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.version).toBe('');\n+
        \       }));\n+\n+        it('should show nothing on error retrieving application
        version', inject(function ($controller) {\n+            $httpBackend.whenGET('/rest/admin/application-version').respond(500);\n+\n+
        \           $httpBackend.flush();\n+\n+            expect(scope.version).toBe('');\n+
        \       }));\n+\n+    });\n+\n+});\ndiff --git a/test/client/productdetailsControllerSpec.js
        b/test/client/productdetailsControllerSpec.js\nnew file mode 100644\nindex
        00000000000..b52a89ba85d\n--- /dev/null\n+++ b/test/client/productdetailsControllerSpec.js\n@@
        -0,0 +1,51 @@\n+describe('controllers', function () {\n+    var scope, controller,
        $httpBackend, $sce;\n+\n+    beforeEach(module('myApp'));\n+    beforeEach(inject(function($injector)
        {\n+        $httpBackend = $injector.get('$httpBackend');\n+        $sce =
        $injector.get('$sce');\n+    }));\n+\n+    describe('ProductDetailsController',
        function () {\n+        beforeEach(inject(function ($rootScope, $controller)
        {\n+            scope = $rootScope.$new();\n+            controller = $controller('ProductDetailsController',
        {\n+                '$scope': scope,\n+                'id': 42\n+            });\n+
        \       }));\n+\n+        it('should be defined', inject(function ($controller)
        {\n+            expect(controller).toBeDefined();\n+        }));\n+\n+        it('should
        hold single product with given id', inject(function ($controller) {\n+            $httpBackend.whenGET('/api/Products/42').respond(200,
        {data: {name: 'Test Juice'}});\n+\n+            $httpBackend.flush();\n+\n+
        \           expect(scope.product).toBeDefined();\n+            expect(scope.product.name).toBe('Test
        Juice');\n+        }));\n+\n+        it('should render product description
        as trusted HTML', inject(function ($controller) {\n+            $httpBackend.whenGET('/api/Products/42').respond(200,
        {data: {description: '<script>alert(\"XSS4\")</script>'}});\n+            spyOn($sce,
        'trustAsHtml');\n+\n+            $httpBackend.flush();\n+\n+            expect($sce.trustAsHtml).toHaveBeenCalledWith('<script>alert(\"XSS4\")</script>');\n+
        \       }));\n+\n+        it('should hold no product if API call fails', inject(function
        ($controller) {\n+            $httpBackend.whenGET('/api/Products/42').respond(500);\n+\n+
        \           $httpBackend.flush();\n+\n+            expect(scope.product).toBeUndefined();\n+
        \       }));\n+\n+    });\n+\n+});\ndiff --git a/test/client/registerControllerSpec.js
        b/test/client/registerControllerSpec.js\nnew file mode 100644\nindex 00000000000..59a5d8335f0\n---
        /dev/null\n+++ b/test/client/registerControllerSpec.js\n@@ -0,0 +1,35 @@\n+describe('controllers',
        function () {\n+    var scope, location, controller, $httpBackend;\n+\n+    beforeEach(module('myApp'));\n+
        \   beforeEach(inject(function($injector) {\n+        $httpBackend = $injector.get('$httpBackend');\n+
        \   }));\n+\n+    describe('RegisterController', function () {\n+        beforeEach(inject(function
        ($rootScope, $controller, $location) {\n+            scope = $rootScope.$new();\n+
        \           location = $location;\n+            controller = $controller('RegisterController',
        {\n+                '$scope': scope\n+            });\n+        }));\n+\n+
        \       it('should be defined', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+
        \           expect(scope.save).toBeDefined();\n+        }));\n+\n+        it('resets
        the registration form and redirects to login page after user registration',
        inject(function ($controller) {\n+            $httpBackend.whenPOST('/api/Users/').respond(200);\n+\n+
        \           scope.save();\n+            $httpBackend.flush();\n+\n+            expect(scope.user).toEqual({});\n+
        \           expect(location.path()).toBe('/login');\n+        }));\n+\n+    });\n+\n+});\ndiff
        --git a/test/client/searchControllerSpec.js b/test/client/searchControllerSpec.js\nnew
        file mode 100644\nindex 00000000000..8141856c87e\n--- /dev/null\n+++ b/test/client/searchControllerSpec.js\n@@
        -0,0 +1,36 @@\n+describe('controllers', function () {\n+    var scope, location,
        controller;\n+\n+    beforeEach(module('myApp'));\n+\n+    describe('SearchController',
        function () {\n+        beforeEach(inject(function ($rootScope, $location,
        $controller) {\n+            scope = $rootScope.$new();\n+            location
        = $location;\n+            controller = $controller('SearchController', {\n+
        \               '$scope': scope\n+            });\n+        }));\n+\n+        it('should
        be defined', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+
        \           expect(scope.search).toBeDefined();\n+        }));\n+\n+        it('forwards
        to search result with search query as URL parameter', inject(function ($controller)
        {\n+            scope.searchQuery = 'lemon juice';\n+            scope.search();\n+
        \           expect(location.path()).toBe('/search');\n+            expect(location.search()).toEqual({q:
        'lemon juice'});\n+        }));\n+\n+        it('forwards to search result
        with empty search criteria if no search query is present', inject(function
        ($controller) {\n+            scope.searchQuery = undefined;\n+            scope.search();\n+
        \           expect(location.path()).toBe('/search');\n+            expect(location.search()).toEqual({q:
        ''});\n+        }));\n+\n+    });\n+\n+});\ndiff --git a/test/client/searchresultControllerSpec.js
        b/test/client/searchresultControllerSpec.js\nnew file mode 100644\nindex 00000000000..4507ae54457\n---
        /dev/null\n+++ b/test/client/searchresultControllerSpec.js\n@@ -0,0 +1,178
        @@\n+describe('controllers', function () {\n+    var scope, location, controller,
        $httpBackend, $sce, $modal, window;\n+\n+    beforeEach(module('myApp'));\n+
        \   beforeEach(inject(function($injector) {\n+        $httpBackend = $injector.get('$httpBackend');\n+
        \       $sce = $injector.get('$sce');\n+        $modal = $injector.get('$modal');\n+
        \   }));\n+\n+    describe('SearchResultController', function () {\n+        beforeEach(inject(function
        ($rootScope, $location, $window, $controller) {\n+            scope = $rootScope.$new();\n+
        \           location = $location;\n+            window = $window;\n+            controller
        = $controller('SearchResultController', {\n+                '$scope': scope\n+
        \           });\n+        }));\n+\n+        it('should be defined', inject(function
        ($controller) {\n+            expect(controller).toBeDefined();\n+            expect(scope.showDetail).toBeDefined();\n+
        \           expect(scope.addToBasket).toBeDefined();\n+        }));\n+\n+
        \       xit('should render user search query as trusted HTML', inject(function
        ($controller, $location) {\n+            $httpBackend.whenGET('/rest/product/search?q=<script>alert(\"XSS1\")</script>').respond(200,
        {data: []});\n+            spyOn(location, 'search').andReturn( {q : '<script>alert(\"XSS1\")</script>'}
        ); // TODO Mocking location fails\n+            spyOn($sce, 'trustAsHtml');\n+\n+
        \           $httpBackend.flush();\n+\n+            expect(scope.searchQuery).toBeDefined();\n+
        \           expect($sce.trustAsHtml).toHaveBeenCalledWith('<script>alert(\"XSS1\")</script>');\n+
        \       }));\n+\n+        it('should render product descriptions as trusted
        HTML', inject(function ($controller, $location) {\n+            $httpBackend.whenGET('/rest/product/search?q=undefined').respond(200,
        {data: [{description: '<script>alert(\"XSS4\")</script>'}]});\n+            spyOn($sce,
        'trustAsHtml');\n+\n+            $httpBackend.flush();\n+\n+            expect($sce.trustAsHtml).toHaveBeenCalledWith('<script>alert(\"XSS4\")</script>');\n+
        \       }));\n+\n+        it('should hold no products when product search
        API call fails', inject(function ($controller, $location) {\n+            $httpBackend.whenGET('/rest/product/search?q=undefined').respond(500);\n+\n+
        \           $httpBackend.flush();\n+\n+            expect(scope.products).toBeUndefined();\n+
        \       }));\n+\n+        it('should open a modal dialog with product details',
        inject(function ($controller) {\n+            spyOn($modal, 'open');\n+\n+
        \           scope.showDetail();\n+\n+            expect($modal.open).toHaveBeenCalled();\n+
        \       }));\n+\n+        it('should add new product to basket', inject(function
        ($controller) {\n+            $httpBackend.whenGET('/rest/product/search?q=undefined').respond(200,
        {data: []});\n+\n+            window.sessionStorage.bid = 4711;\n+            $httpBackend.whenGET('/rest/basket/4711').respond(200,
        {data: {products: []}});\n+            $httpBackend.whenPOST('/api/BasketItems/').respond(200,
        {data: {ProductId: 1}});\n+            $httpBackend.whenGET('/api/Products/1').respond(200,
        {data: {name: 'Cherry Juice'}});\n+\n+            scope.addToBasket(1);\n+
        \           $httpBackend.flush();\n+\n+            expect(scope.confirmation).toBe('Placed
        Cherry Juice into basket.');\n+        }));\n+\n+        it('should add similar
        product to basket', inject(function ($controller) {\n+            $httpBackend.whenGET('/rest/product/search?q=undefined').respond(200,
        {data: []});\n+\n+            window.sessionStorage.bid = 4711;\n+            $httpBackend.whenGET('/rest/basket/4711').respond(200,
        {data: {products: [{id : 1}, {id : 2, name: 'Tomato Juice', basketItem: {id:
        42}}]}});\n+            $httpBackend.whenGET('/api/BasketItems/42').respond(200,
        {data: {id: 42, quantity: 5}});\n+            $httpBackend.whenPUT('/api/BasketItems/42').respond(200,
        {data: {ProductId: 2}});\n+            $httpBackend.whenGET('/api/Products/2').respond(200,
        {data: {name: 'Tomato Juice'}});\n+\n+            scope.addToBasket(2);\n+
        \           $httpBackend.flush();\n+\n+            expect(scope.confirmation).toBe('Added
        another Tomato Juice to basket.');\n+        }));\n+\n+        it('should
        not add anything to basket on error retrieving basket', inject(function ($controller)
        {\n+            $httpBackend.whenGET('/rest/product/search?q=undefined').respond(200,
        {data: []});\n+\n+            window.sessionStorage.bid = 815;\n+            $httpBackend.whenGET('/rest/basket/815').respond(500);\n+\n+
        \           scope.addToBasket();\n+            $httpBackend.flush();\n+\n+
        \           expect(scope.confirmation).toBeUndefined();\n+        }));\n+\n+
        \       it('should not add anything to basket on error retrieving existing
        basket item', inject(function ($controller) {\n+            $httpBackend.whenGET('/rest/product/search?q=undefined').respond(200,
        {data: []});\n+\n+            window.sessionStorage.bid = 4711;\n+            $httpBackend.whenGET('/rest/basket/4711').respond(200,
        {data: {products: [{id : 1}, {id : 2, name: 'Tomato Juice', basketItem: {id:
        42}}]}});\n+            $httpBackend.whenGET('/api/BasketItems/42').respond(500);\n+\n+
        \           scope.addToBasket(2);\n+            $httpBackend.flush();\n+\n+
        \           expect(scope.confirmation).toBeUndefined();\n+\n+        }));\n+\n+
        \       it('should not add anything to basket on error updating basket item',
        inject(function ($controller) {\n+            $httpBackend.whenGET('/rest/product/search?q=undefined').respond(200,
        {data: []});\n+\n+            window.sessionStorage.bid = 4711;\n+            $httpBackend.whenGET('/rest/basket/4711').respond(200,
        {data: {products: [{id : 1}, {id : 2, name: 'Tomato Juice', basketItem: {id:
        42}}]}});\n+            $httpBackend.whenGET('/api/BasketItems/42').respond(200,
        {data: {id: 42, quantity: 5}});\n+            $httpBackend.whenPUT('/api/BasketItems/42').respond(500);\n+\n+
        \           scope.addToBasket(2);\n+            $httpBackend.flush();\n+\n+
        \           expect(scope.confirmation).toBeUndefined();\n+\n+        }));\n+\n+
        \       it('should not add anything to basket on error retrieving product
        associated with basket item', inject(function ($controller) {\n+            $httpBackend.whenGET('/rest/product/search?q=undefined').respond(200,
        {data: []});\n+\n+            window.sessionStorage.bid = 4711;\n+            $httpBackend.whenGET('/rest/basket/4711').respond(200,
        {data: {products: [{id : 1}, {id : 2, name: 'Tomato Juice', basketItem: {id:
        42}}]}});\n+            $httpBackend.whenGET('/api/BasketItems/42').respond(200,
        {data: {id: 42, quantity: 5}});\n+            $httpBackend.whenPUT('/api/BasketItems/42').respond(200,
        {data: {ProductId: 2}});\n+            $httpBackend.whenGET('/api/Products/2').respond(500);\n+\n+
        \           scope.addToBasket(2);\n+            $httpBackend.flush();\n+\n+
        \           expect(scope.confirmation).toBeUndefined();\n+\n+        }));\n+\n+
        \       it('should not add anything on error creating new basket item', inject(function
        ($controller) {\n+            $httpBackend.whenGET('/rest/product/search?q=undefined').respond(200,
        {data: []});\n+\n+            window.sessionStorage.bid = 4711;\n+            $httpBackend.whenGET('/rest/basket/4711').respond(200,
        {data: {products: []}});\n+            $httpBackend.whenPOST('/api/BasketItems/').respond(500);\n+\n+
        \           scope.addToBasket(1);\n+            $httpBackend.flush();\n+\n+
        \           expect(scope.confirmation).toBeUndefined();\n+        }));\n+\n+
        \       it('should not add anything on error retrieving product after creating
        new basket item', inject(function ($controller) {\n+            $httpBackend.whenGET('/rest/product/search?q=undefined').respond(200,
        {data: []});\n+\n+            window.sessionStorage.bid = 4711;\n+            $httpBackend.whenGET('/rest/basket/4711').respond(200,
        {data: {products: []}});\n+            $httpBackend.whenPOST('/api/BasketItems/').respond(200,
        {data: {ProductId: 1}});\n+            $httpBackend.whenGET('/api/Products/1').respond(500);\n+\n+
        \           scope.addToBasket(1);\n+            $httpBackend.flush();\n+\n+
        \           expect(scope.confirmation).toBeUndefined();\n+        }));\n+\n+
        \   });\n+\n+});\ndiff --git a/test/client/servicesSpec.js b/test/client/servicesSpec.js\nindex
        4fc9b31a878..a15518eaebd 100644\n--- a/test/client/servicesSpec.js\n+++ b/test/client/servicesSpec.js\n@@
        -13,6 +13,7 @@ describe('services', function () {\n             expect(UserService.find).toBeDefined();\n
        \            expect(UserService.get).toBeDefined();\n             expect(UserService.changePassword).toBeDefined();\n+
        \           expect(UserService.whoAmI).toBeDefined();\n         }));\n \n
        \        it('should get all users directly from the rest api', inject(function
        (UserService) {\n@@ -60,6 +61,15 @@ describe('services', function () {\n             expect(result).toBe('apiResponse');\n
        \        }));\n \n+        it('should return the logged-in users identity
        directly from the rest api', inject(function (UserService) {\n+            $httpBackend.whenGET('/rest/user/whoami').respond(200,
        'apiResponse');\n+\n+            UserService.whoAmI().success(function (data)
        { result = data; });\n+            $httpBackend.flush();\n+\n+            expect(result).toBe('apiResponse');\n+
        \       }));\n+\n     });\n \n     describe('ProductService', function ()
        {\n@@ -208,6 +218,21 @@ describe('services', function () {\n \n     });\n
        \n+    describe('AdministrationService', function () {\n+        it('should
        be defined', inject(function (AdministrationService) {\n+            expect(AdministrationService).toBeDefined();\n+
        \           expect(AdministrationService.getApplicationVersion).toBeDefined();\n+
        \       }));\n+\n+        it('should get application version directly from
        the rest api', inject(function (AdministrationService) {\n+            $httpBackend.whenGET('/rest/admin/application-version').respond(200,
        'apiResponse');\n+\n+            AdministrationService.getApplicationVersion().success(function
        (data) { result = data; });\n+            $httpBackend.flush();\n \n+            expect(result).toBe('apiResponse');\n+
        \       }));\n+\n+    });\n \n });\ndiff --git a/test/client/userControllerSpec.js
        b/test/client/userControllerSpec.js\nnew file mode 100644\nindex 00000000000..1d7007c59bd\n---
        /dev/null\n+++ b/test/client/userControllerSpec.js\n@@ -0,0 +1,69 @@\n+describe('controllers',
        function () {\n+    var scope, controller, $httpBackend, $sce, $modal;\n+\n+
        \   beforeEach(module('myApp'));\n+    beforeEach(inject(function($injector)
        {\n+        $httpBackend = $injector.get('$httpBackend');\n+        $sce =
        $injector.get('$sce');\n+        $modal = $injector.get('$modal');\n+    }));\n+\n+
        \   describe('UserController', function () {\n+        beforeEach(inject(function
        ($rootScope, $controller) {\n+            scope = $rootScope.$new();\n+            controller
        = $controller('UserController', {\n+                '$scope': scope\n+            });\n+
        \       }));\n+\n+        it('should be defined', inject(function ($controller)
        {\n+            expect(controller).toBeDefined();\n+            expect(scope.showDetail).toBeDefined();\n+
        \       }));\n+\n+        it('should hold all users', inject(function ($controller)
        {\n+            $httpBackend.whenGET('/rest/user/authentication-details/').respond(200,
        {data: [{email: 'a@a.de'},{email: 'b@b.de'}]});\n+\n+            $httpBackend.flush();\n+\n+
        \           expect(scope.users.length).toBe(2);\n+            expect(scope.users[0].email).toBeDefined();\n+
        \           expect(scope.users[1].email).toBeDefined();\n+        }));\n+\n+
        \       it('should consider user email as trusted HTML', inject(function ($controller)
        {\n+            $httpBackend.whenGET('/rest/user/authentication-details/').respond(200,
        {data: [{email: 'bjoern@<script>alert(\"XSS2\")</script>.de'}]});\n+            spyOn($sce,
        'trustAsHtml');\n+\n+            $httpBackend.flush();\n+\n+            expect($sce.trustAsHtml).toHaveBeenCalledWith('bjoern@<script>alert(\"XSS2\")</script>.de');\n+
        \       }));\n+\n+        it('should hold nothing when no users exist', inject(function
        ($controller) {\n+            $httpBackend.whenGET('/rest/user/authentication-details/').respond(200,
        {data: {}});\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.users).toEqual({});\n+
        \       }));\n+\n+        it('should hold nothing on error from backend API',
        inject(function ($controller) {\n+            $httpBackend.whenGET('/rest/user/authentication-details/').respond(500);\n+\n+
        \           $httpBackend.flush();\n+\n+            expect(scope.users).toBeUndefined();\n+
        \       }));\n+\n+        it('should open a modal dialog with user details',
        inject(function ($controller) {\n+            spyOn($modal, 'open');\n+\n+
        \           scope.showDetail(42);\n+\n+            expect($modal.open).toHaveBeenCalled();\n+
        \       }));\n+\n+    });\n+\n+});\ndiff --git a/test/client/userdetailsControllerSpec.js
        b/test/client/userdetailsControllerSpec.js\nnew file mode 100644\nindex 00000000000..a70c5be195e\n---
        /dev/null\n+++ b/test/client/userdetailsControllerSpec.js\n@@ -0,0 +1,41 @@\n+describe('controllers',
        function () {\n+    var scope, controller, $httpBackend;\n+\n+    beforeEach(module('myApp'));\n+
        \   beforeEach(inject(function($injector) {\n+        $httpBackend = $injector.get('$httpBackend');\n+
        \   }));\n+\n+    describe('UserDetailsController', function () {\n+        beforeEach(inject(function
        ($rootScope, $controller) {\n+            scope = $rootScope.$new();\n+            controller
        = $controller('UserDetailsController', {\n+                '$scope': scope,\n+
        \               'id': 42\n+            });\n+        }));\n+\n+        it('should
        be defined', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+
        \       }));\n+\n+        it('should hold single product with given id', inject(function
        ($controller) {\n+            $httpBackend.whenGET('/api/Users/42').respond(200,
        {data: {email: 'test@juice-sh.op'}});\n+\n+            $httpBackend.flush();\n+\n+
        \           expect(scope.user).toBeDefined();\n+            expect(scope.user.email).toBe('test@juice-sh.op');\n+
        \       }));\n+\n+        it('should hold no product if API call fails', inject(function
        ($controller) {\n+            $httpBackend.whenGET('/api/Users/42').respond(500);\n+\n+
        \           $httpBackend.flush();\n+\n+            expect(scope.user).toBeUndefined();\n+
        \       }));\n+\n+    });\n+\n+});\ndiff --git a/test/server/administrationApiSpec.js
        b/test/server/administrationApiSpec.js\nnew file mode 100644\nindex 00000000000..530fa56eb4b\n---
        /dev/null\n+++ b/test/server/administrationApiSpec.js\n@@ -0,0 +1,14 @@\n+/*jslint
        node: true */\n+\n+var frisby = require('frisby');\n+\n+var REST_URL = 'http://localhost:3000/rest/admin';\n+\n+frisby.create('GET
        application version from package.json')\n+    .get(REST_URL + \"/application-version\")\n+
        \   .expectStatus(200)\n+    .expectHeaderContains('content-type', 'application/json')\n+
        \   .expectJSON({\n+        version: '0.3.0'\n+    })\n+    .toss();\n\\ No
        newline at end of file\ndiff --git a/test/server/feedbackApiSpec.js b/test/server/feedbackApiSpec.js\nindex
        d61fd4699f9..3a14ef541ef 100644\n--- a/test/server/feedbackApiSpec.js\n+++
        b/test/server/feedbackApiSpec.js\n@@ -64,7 +64,7 @@ frisby.create('DELETE
        existing feedback is forbidden via public API')\n     .expectStatus(401)\n
        \    .toss();\n \n-frisby.create('DELETE existing 5-start feedback')\n+frisby.create('DELETE
        existing feedback')\n     .delete(API_URL + '/Feedbacks/1')\n     .addHeaders(authHeader)\n
        \    .expectStatus(200)\n@@ -102,3 +102,27 @@ frisby.create('POST fails to
        sanitize masked XSS-attack by not applying sanitiza\n         comment: 'But
        basically its the fault htmlparser2 in version 3.3.0 which sanitize-html 1.4.2
        depends on: <script>alert(\"XSS3\")</script>'\n     })\n     .toss();\n+\n+frisby.create('POST
        feedback in another users name as anonymous user')\n+    .post(API_URL + '/Feedbacks',
        {\n+        comment: 'Lousy crap!',\n+        rating: 1,\n+        UserId:
        3\n+    }, {json: true})\n+    .expectStatus(200)\n+    .expectHeaderContains('content-type',
        'application/json')\n+    .expectJSON('data', {\n+        UserId: 3\n+    }).toss();\n+\n+frisby.create('POST
        feedback in a non-existing users name as anonymous user')\n+    .post(API_URL
        + '/Feedbacks', {\n+        comment: 'When juice fails...',\n+        rating:
        2,\n+        UserId: 4711\n+    }, {json: true})\n+    .expectStatus(200)\n+
        \   .expectHeaderContains('content-type', 'application/json')\n+    .expectJSON('data',
        {\n+        UserId: 4711\n+    }).toss();\ndiff --git a/test/server/userApiSpec.js
        b/test/server/userApiSpec.js\nindex 48e146283cd..dc91d970ed9 100644\n--- a/test/server/userApiSpec.js\n+++
        b/test/server/userApiSpec.js\n@@ -35,6 +35,18 @@ frisby.create('POST new user')\n
        \                token: String\n             })\n             .afterJSON(function(auth)
        {\n+                frisby.create('GET own user id and email on who-am-i request')\n+
        \                   .get(REST_URL + '/user/whoami')\n+                    .addHeaders({'Authorization':
        'Bearer ' + auth.token})\n+                    .expectStatus(200)\n+                    .expectHeaderContains('content-type',
        'application/json')\n+                    .expectJSONTypes({\n+                        id:
        Number\n+                    })\n+                    .expectJSON({\n+                        email:
        'horst@horstma.nn'\n+                    })\n+                    .toss();\n
        \                frisby.create('GET password change with recognized token
        as cookie')\n                     .get(REST_URL + '/user/change-password?new=foo&repeat=foo')\n
        \                    .addHeaders({ 'Cookie': 'token=' + auth.token })\n@@
        -54,6 +66,32 @@ frisby.create('POST new user')\n                         id:
        2\n                     })\n                     .toss();\n+                frisby.create('POST
        feedback is associated with current user')\n+                    .addHeaders({'Authorization':
        'Bearer ' + auth.token})\n+                    .post(API_URL + '/Feedbacks',
        {\n+                        comment: 'Horst\\'s choice award!',\n+                        rating:
        5,\n+                        UserId: 4\n+                    }, {json: true})\n+
        \                   .expectStatus(200)\n+                    .expectHeaderContains('content-type',
        'application/json')\n+                    .expectJSON('data', {\n+                        UserId:
        4\n+                    })\n+                    .toss();\n+                frisby.create('POST
        feedback is associated with any passed user id')\n+                    .addHeaders({'Authorization':
        'Bearer ' + auth.token})\n+                    .post(API_URL + '/Feedbacks',
        {\n+                        comment: 'Bender\\'s choice award!',\n+                        rating:
        2,\n+                        UserId: 3\n+                    }, {json: true})\n+
        \                   .expectStatus(200)\n+                    .expectHeaderContains('content-type',
        'application/json')\n+                    .expectJSON('data', {\n+                        UserId:
        3\n+                    })\n+                    .toss();\n     }).toss();\n
        \n         frisby.create('GET existing user by id')\n@@ -248,3 +286,24 @@
        frisby.create('POST new user with XSS attack in email address')\n     .expectJSON('data',
        {\n         email: '<script>alert(\"XSS2\")</script>'\n     }).toss();\n+\n+frisby.create('GET
        who-am-i request returns nothing on missing auth token')\n+    .get(REST_URL
        + '/user/whoami')\n+    .expectStatus(200)\n+    .expectHeaderContains('content-type',
        'application/json')\n+    .expectJSONTypes({\n+        id: undefined,\n+        email:
        undefined\n+    })\n+    .toss();\n+\n+frisby.create('GET who-am-i request
        returns nothing on invalid auth token')\n+    .get(REST_URL + '/user/whoami')\n+
        \   .addHeaders(authHeader)\n+    .expectStatus(200)\n+    .expectHeaderContains('content-type',
        'application/json')\n+    .expectJSONTypes({\n+        id: undefined,\n+        email:
        undefined\n+    })\n+    .toss();\n"
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - 'default-src ''none''; base-uri ''self''; child-src github.com/assets-cdn/worker/
        github.com/webpack/ github.com/assets/ gist.github.com/assets-cdn/worker/;
        connect-src ''self'' uploads.github.com www.githubstatus.com collector.github.com
        raw.githubusercontent.com api.github.com github-cloud.s3.amazonaws.com github-production-repository-file-5c1aeb.s3.amazonaws.com
        github-production-upload-manifest-file-7fdce7.s3.amazonaws.com github-production-user-asset-6210df.s3.amazonaws.com
        *.rel.tunnels.api.visualstudio.com wss://*.rel.tunnels.api.visualstudio.com
        api.githubcopilot.com objects-origin.githubusercontent.com copilot-proxy.githubusercontent.com/v1/engines/github-completion/completions
        proxy.enterprise.githubcopilot.com/v1/engines/github-completion/completions
        *.actions.githubusercontent.com wss://*.actions.githubusercontent.com productionresultssa0.blob.core.windows.net/
        productionresultssa1.blob.core.windows.net/ productionresultssa2.blob.core.windows.net/
        productionresultssa3.blob.core.windows.net/ productionresultssa4.blob.core.windows.net/
        productionresultssa5.blob.core.windows.net/ productionresultssa6.blob.core.windows.net/
        productionresultssa7.blob.core.windows.net/ productionresultssa8.blob.core.windows.net/
        productionresultssa9.blob.core.windows.net/ productionresultssa10.blob.core.windows.net/
        productionresultssa11.blob.core.windows.net/ productionresultssa12.blob.core.windows.net/
        productionresultssa13.blob.core.windows.net/ productionresultssa14.blob.core.windows.net/
        productionresultssa15.blob.core.windows.net/ productionresultssa16.blob.core.windows.net/
        productionresultssa17.blob.core.windows.net/ productionresultssa18.blob.core.windows.net/
        productionresultssa19.blob.core.windows.net/ github-production-repository-image-32fea6.s3.amazonaws.com
        github-production-release-asset-2e65be.s3.amazonaws.com insights.github.com
        wss://alive.github.com; font-src github.githubassets.com; form-action ''self''
        github.com gist.github.com copilot-workspace.githubnext.com objects-origin.githubusercontent.com;
        frame-ancestors ''none''; frame-src viewscreen.githubusercontent.com notebooks.githubusercontent.com;
        img-src ''self'' data: blob: github.githubassets.com media.githubusercontent.com
        camo.githubusercontent.com identicons.github.com avatars.githubusercontent.com
        github-cloud.s3.amazonaws.com objects.githubusercontent.com secured-user-images.githubusercontent.com/
        user-images.githubusercontent.com/ private-user-images.githubusercontent.com
        opengraph.githubassets.com github-production-user-asset-6210df.s3.amazonaws.com
        customer-stories-feed.github.com spotlights-feed.github.com objects-origin.githubusercontent.com
        *.githubusercontent.com; manifest-src ''self''; media-src github.com user-images.githubusercontent.com/
        secured-user-images.githubusercontent.com/ private-user-images.githubusercontent.com
        github-production-user-asset-6210df.s3.amazonaws.com gist.github.com; script-src
        github.githubassets.com; style-src ''unsafe-inline'' github.githubassets.com;
        upgrade-insecure-requests; worker-src github.com/assets-cdn/worker/ github.com/webpack/
        github.com/assets/ gist.github.com/assets-cdn/worker/'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:31 GMT
      ETag:
      - W/"7dc548569a075ad33d5c97f633dd96da"
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - GitHub.com
      Set-Cookie:
      - logged_in=no; domain=github.com; path=/; expires=Fri, 12 Sep 2025 07:51:31
        GMT; secure; HttpOnly; SameSite=Lax
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - X-PJAX, X-PJAX-Container, Turbo-Visit, Turbo-Frame
      - Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Request-Id:
      - C383:1EF5F3:42F42BE:4A59C98:66E29D83
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/pulls/35/files
  response:
    body:
      string: '[{"sha":"31d60d1d6c421d3b7efe2fa89787f19da80c6500","filename":"README.md","status":"modified","additions":2,"deletions":3,"changes":5,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/README.md","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/README.md","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/README.md?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -1,5 +1,4 @@\n # Juice Shop\n-[![Nodejitsu Deploy Status](https://webhooks.nodejitsu.com/bkimminich/juice-shop.png)](https://webops.nodejitsu.com#bkimminich/juice-shop)\n
        \n An intentionally insecure RIA suitable for pentesting and security awareness
        trainings written in Node, Express and Angular. Inspired by the \"classic\"
        [BodgeIt Store](https://code.google.com/p/bodgeit/) by [@psiinon](https://github.com/psiinon).\n
        \n@@ -45,7 +44,7 @@ You may find it easier to find vulnerabilities using a
        pen test tool. I strongly\n [Zed Attack Proxy](https://code.google.com/p/zaproxy/)
        which is open source and very powerful, yet beginner friendly.\n \n [![endorse](https://api.coderwall.com/bkimminich/endorsecount.png)](https://coderwall.com/bkimminich)\n+[![geeklist](http://img.shields.io/badge/geeklist-%5E5-green.svg)](https://geekli.st/bkimminich/i-built-the-juice-shop-broken-full-js-stack-webapp-for-pentesting-and-security-trainings)\n
        [![Gratipay](http://img.shields.io/gratipay/bkimminich.svg)](https://gratipay.com/bkimminich)\n
        [![Bountysource](https://www.bountysource.com/badge/tracker?tracker_id=6283055)](https://www.bountysource.com/trackers/6283055-juice-shop?utm_source=6283055&utm_medium=shield&utm_campaign=TRACKER_BADGE)\n-[![HuBoard](http://img.shields.io/badge/Hu-Board-blue.svg)](https://huboard.com/bkimminich/juice-shop)\n-\n+[![HuBoard](http://img.shields.io/badge/Hu-Board-blue.svg)](https://huboard.com/bkimminich/juice-shop)\n\\
        No newline at end of file"},{"sha":"ab1e42a99240bf569655d478271ac914f0fd0a01","filename":"app/index.html","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app%2Findex.html","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app%2Findex.html","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/app%2Findex.html?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -31,7 +31,7 @@\n <nav class=\"navbar navbar-default\" role=\"navigation\">\n     <div
        class=\"container-fluid\" ng-controller=\"NavbarController\">\n         <div
        class=\"navbar-header\">\n-            <a class=\"navbar-brand\" href=\"#\">Juice
        Shop</a>\n+            <a class=\"navbar-brand\" href=\"#\">Juice Shop <small>{{version}}</small></a>\n         </div>\n         <ul
        class=\"nav navbar-nav navbar-right\">\n             <li class=\"dropdown\"
        ng-show=\"!isLoggedIn()\">"},{"sha":"c5d2c0ea968fb4ae781bb208eefbb515ece0957c","filename":"app/js/controllers/ContactController.js","status":"modified","additions":9,"deletions":3,"changes":12,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app%2Fjs%2Fcontrollers%2FContactController.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app%2Fjs%2Fcontrollers%2FContactController.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/app%2Fjs%2Fcontrollers%2FContactController.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -1,12 +1,18 @@\n angular.module(''myApp'').controller(''ContactController'',
        [\n     ''$scope'',\n     ''FeedbackService'',\n-    function ($scope, feedbackService)
        {\n+    ''UserService'',\n+    function ($scope, feedbackService, userService)
        {\n         ''use strict'';\n \n+        userService.whoAmI().success(function(data)
        {\n+            $scope.feedback = {};\n+            $scope.feedback.UserId
        = data.id;\n+        });\n+\n         $scope.save = function () {\n-            feedbackService.save($scope.feedback).success(function
        () {\n-                $scope.confirmation = ''Thank you for your feedback''
        + ($scope.feedback.rating === 5 ? '' and your 5-star rating!'' : ''.'');\n+            feedbackService.save($scope.feedback).success(function
        (savedFeedback) {\n+                $scope.confirmation = ''Thank you for
        your feedback'' + (savedFeedback.data.rating === 5 ? '' and your 5-star rating!''
        : ''.'');\n                 $scope.feedback = {};\n                 $scope.form.$setPristine();\n             });"},{"sha":"b24cdf86f7fea0afa618a2c8a067f6e0f570dc0d","filename":"app/js/controllers/NavbarController.js","status":"modified","additions":13,"deletions":1,"changes":14,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app%2Fjs%2Fcontrollers%2FNavbarController.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app%2Fjs%2Fcontrollers%2FNavbarController.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/app%2Fjs%2Fcontrollers%2FNavbarController.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -1,5 +1,17 @@\n angular.module(''myApp'').controller(''NavbarController'',
        [\n-    function () {\n+    ''$scope'',\n+    ''AdministrationService'',\n+    function
        ($scope, administrationService) {\n         ''use strict'';\n \n+        $scope.version
        = '''';\n+\n+        administrationService.getApplicationVersion().success(function
        (data) {\n+            if (data && data.version) {\n+                $scope.version
        = ''v''+data.version;\n+            }\n+        }).error(function (err) {\n+            console.log(err);\n+        });\n+\n     }]);\n\\
        No newline at end of file"},{"sha":"051488f038a827a9d15b8d127e1a1ca7ea033541","filename":"app/js/controllers/SearchResultController.js","status":"modified","additions":2,"deletions":6,"changes":8,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app%2Fjs%2Fcontrollers%2FSearchResultController.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app%2Fjs%2Fcontrollers%2FSearchResultController.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/app%2Fjs%2Fcontrollers%2FSearchResultController.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -9,10 +9,6 @@ angular.module(''myApp'').controller(''SearchResultController'',
        [\n     function ($scope, $sce, $window, $modal, $location, productService,
        basketService) {\n         ''use strict'';\n \n-        function log(data)
        {\n-            console.log(data);\n-        }\n-\n         $scope.showDetail
        = function (id) {\n \n             $modal.open({\n@@ -64,7 +60,7 @@ angular.module(''myApp'').controller(''SearchResultController'',
        [\n                     });\n                 }\n             }).error(function(err)
        {\n-                log(err);\n+                console.log(err);\n             });\n         };\n
        \n@@ -76,7 +72,7 @@ angular.module(''myApp'').controller(''SearchResultController'',
        [\n                 $scope.products[i].description = $sce.trustAsHtml($scope.products[i].description);\n             }\n         }).error(function(err)
        {\n-            log(err);\n+            console.log(err);\n         });\n
        \n     }]);\n\\ No newline at end of file"},{"sha":"ceca2b098e22913544ddd5a90c641f1293f98f40","filename":"app/js/controllers/UserController.js","status":"modified","additions":5,"deletions":1,"changes":6,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app%2Fjs%2Fcontrollers%2FUserController.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app%2Fjs%2Fcontrollers%2FUserController.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/app%2Fjs%2Fcontrollers%2FUserController.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -1,13 +1,17 @@\n angular.module(''myApp'').controller(''UserController'',
        [\n     ''$scope'',\n     ''$modal'',\n+    ''$sce'',\n     ''UserService'',\n-    function
        ($scope, $modal, userService) {\n+    function ($scope, $modal, $sce, userService)
        {\n         ''use strict'';\n \n         function findAll() {\n             userService.find().success(function
        (users) {\n                 $scope.users = users.data;\n+                for
        (var i=0; i<$scope.users.length; i++) {\n+                    $scope.users[i].email
        = $sce.trustAsHtml($scope.users[i].email);\n+                }\n             }).error(function
        (err) {\n                 console.log(err);\n             });"},{"sha":"f9b6aa5b9f13ef67a94bd79964b146e8ad8f114a","filename":"app/js/services/AdministrationService.js","status":"added","additions":14,"deletions":0,"changes":14,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app%2Fjs%2Fservices%2FAdministrationService.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app%2Fjs%2Fservices%2FAdministrationService.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/app%2Fjs%2Fservices%2FAdministrationService.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -0,0 +1,14 @@\n+angular.module(''myApp'').factory(''AdministrationService'',
        [''$http'', function ($http) {\n+    ''use strict'';\n+\n+    var host = ''/rest/admin'';\n+\n+    function
        getApplicationVersion() {\n+        return $http.get(host + ''/application-version'');\n+    }\n+\n+    return
        {\n+        getApplicationVersion: getApplicationVersion\n+    };\n+\n+}]);\n\\
        No newline at end of file"},{"sha":"2feab669422770e88341cd2f45d2d38bcd61abbd","filename":"app/js/services/UserService.js","status":"modified","additions":6,"deletions":1,"changes":7,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app%2Fjs%2Fservices%2FUserService.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app%2Fjs%2Fservices%2FUserService.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/app%2Fjs%2Fservices%2FUserService.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -25,11 +25,16 @@ angular.module(''myApp'').factory(''UserService'', [''$http'',
        function ($http) {\n         return $http.get(''/rest/user/change-password?current=''+
        passwords.current +''&new='' + passwords.new + ''&repeat='' + passwords.repeat);\n     }\n
        \n+    function whoAmI() {\n+        return $http.get(''/rest/user/whoami'');\n+    }\n+\n     return
        {\n         find: find,\n         get: get,\n         save: save,\n         login:
        login,\n-        changePassword: changePassword\n+        changePassword:
        changePassword,\n+        whoAmI: whoAmI\n     };\n }]);\n\\ No newline at
        end of file"},{"sha":"c3d34dd62aeb3f29cd4a8fd8ad42b1bac9684ee3","filename":"app/views/Administration.html","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app%2Fviews%2FAdministration.html","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app%2Fviews%2FAdministration.html","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/app%2Fviews%2FAdministration.html?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -10,7 +10,7 @@ <h3 class=\"page-header page-header-sm\">Administration <small>User</small></h3>\n             </tr>\n             <tr
        data-ng-repeat=\"user in users\">\n                 <td class=\"col-md-1\"><span
        ng-show=\"user.token\" class=\"glyphicon glyphicon-user\"></span></td>\n-                <td>{{user.email}}</td>\n+                <td><div
        ng-bind-html=\"user.email\"></div></td>\n                 <td class=\"col-md-1\">\n                     <div
        class=\"btn-group\">\n                         <a class=\"btn btn-default
        btn-xs\" ng-click=\"showDetail(user.id)\"><span class=\"glyphicon glyphicon-eye-open\"></span></a>"},{"sha":"f8388de16736ce57d7517a0ea2e3cb676bf8d366","filename":"app/views/Contact.html","status":"modified","additions":1,"deletions":0,"changes":1,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app%2Fviews%2FContact.html","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app%2Fviews%2FContact.html","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/app%2Fviews%2FContact.html?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -5,6 +5,7 @@ <h3 class=\"page-header page-header-sm\">Contact Us</h3>\n         <div
        ng-controller=\"ContactController\">\n \n             <form role=\"form\"
        name=\"form\" novalidate>\n+                <input type=\"hidden\" ng-model=\"feedback.UserId\"/>\n                 <div
        class=\"alert-info\" ng-show=\"confirmation && !form.$dirty\">\n                     <p>{{confirmation}}</p>\n                 </div>"},{"sha":"e303a249a997e0d5daa386729d8095ce2f40e9ae","filename":"bower.json","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/bower.json","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/bower.json","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/bower.json?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -1,7 +1,7 @@\n {\n     \"name\": \"juice-shop\",\n     \"description\": \"An
        intentionally insecure RIA suitable for pentesting and security awareness
        trainings written in Node, Express and Angular.\",\n-    \"version\": \"0.2.0\",\n+    \"version\":
        \"0.3.0\",\n     \"private\": true,\n     \"dependencies\": {\n         \"angular\":
        \"~1.2\","},{"sha":"302fb5735331b0df182770155739adb32954c216","filename":"lib/utils.js","status":"modified","additions":11,"deletions":1,"changes":12,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/lib%2Futils.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/lib%2Futils.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/lib%2Futils.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -1,6 +1,8 @@\n /*jslint node: true */\n ''use strict'';\n \n+var packageJson
        = require(''../package.json'');\n+\n exports.queryResultToJson = function(data,
        status) {\n     var wrappedData = {};\n     if (data) {\n@@ -40,4 +42,12 @@
        exports.unquote = function(str) {\n     else {\n         return str;\n     }\n-};\n\\
        No newline at end of file\n+};\n+\n+exports.version = function(module) {\n+    if
        (module) {\n+        return packageJson.dependencies[module];\n+    } else
        {\n+        return packageJson.version;\n+    }\n+}\n\\ No newline at end
        of file"},{"sha":"6edfc0455c7848c8a4b22beece9300e2335587ce","filename":"package.json","status":"modified","additions":8,"deletions":4,"changes":12,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/package.json","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/package.json","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/package.json?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -1,21 +1,25 @@\n {\n     \"name\": \"juice-shop\",\n-    \"version\": \"0.2.0\",\n+    \"version\":
        \"0.3.0\",\n     \"description\": \"An intentionally insecure RIA suitable
        for pentesting and security awareness trainings written in Node, Express and
        Angular.\",\n     \"author\": \"Bjoern Kimminich\",\n     \"contributors\":
        [\n         \"Bjoern Kimminich\"\n     ],\n     \"private\": true,\n     \"keywords\":
        [\n-        \"bodgeit\",\n+        \"web security\",\n+        \"web application
        security\",\n+        \"webappsec\",\n         \"owasp\",\n         \"pentest\",\n         \"pentesting\",\n-        \"web
        security\",\n         \"security\",\n         \"vulnerable\",\n-        \"vulnerability\"\n+        \"vulnerability\",\n+        \"broken\",\n+        \"bodgeit\"\n+\n     ],\n     \"dependencies\":
        {\n         \"bower\": \"~1.3\","},{"sha":"e13c374344f225626fb9154bd58e68322a0e3f16","filename":"server.js","status":"modified","additions":39,"deletions":2,"changes":41,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/server.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/server.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/server.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -22,7 +22,7 @@ var application_root = __dirname.replace(/\\\\/g, ''/''),\n     insecurity
        = require(''./lib/insecurity''),\n     app = express();\n \n-errorhandler.title
        = ''Juice Shop (Express '' + require(''./package.json'').dependencies.express
        + '')'';\n+errorhandler.title = ''Juice Shop (Express '' + utils.version(''express'')
        + '')'';\n \n /* Delete old order PDFs */\n glob(__dirname + ''/app/public/ftp/*.pdf'',
        function (err, files) {\n@@ -132,7 +132,7 @@ var redirectChallenge, easterEggLevelOneChallenge,
        easterEggLevelTwoChallenge, d\n     loginAdminChallenge, loginJimChallenge,
        loginBenderChallenge, changeProductChallenge, csrfChallenge,\n     errorHandlingChallenge,
        knownVulnerableComponentChallenge, negativeOrderChallenge, persistedXssChallengeFeedback,\n     persistedXssChallengeUser,
        localXssChallenge, restfulXssChallenge,basketChallenge, weakPasswordChallenge,\n-    adminSectionChallenge,
        scoreBoardChallenge, feedbackChallenge, unionSqlInjectionChallenge;\n+    adminSectionChallenge,
        scoreBoardChallenge, feedbackChallenge, unionSqlInjectionChallenge, forgedFeedbackChallenge;\n
        \n /* Entities relevant for challenges */\n \n@@ -213,6 +213,12 @@ sequelize.sync().success(function
        () {\n     }).success(function(challenge) {\n         feedbackChallenge =
        challenge;\n     });\n+    Challenge.create({\n+        description: ''Post
        some feedback in another users name.'',\n+        solved: false\n+    }).success(function(challenge)
        {\n+        forgedFeedbackChallenge = challenge;\n+    });\n     Challenge.create({\n         description:
        ''Wherever you go, there you are.'',\n         solved: false\n@@ -451,15 +457,20
        @@ app.use(''/rest/user/authentication-details'', insecurity.isAuthorized());\n
        app.use(''/rest/basket/:id'', insecurity.isAuthorized());\n app.use(''/rest/basket/:id/order'',
        insecurity.isAuthorized());\n \n+/* Challenge evaluation before sequelize-restful
        takes over */\n+app.post(''/api/Feedbacks'', verifyForgedFeedbackChallenge());\n+\n
        /* Sequelize Restful APIs */\n app.use(restful(sequelize, { endpoint: ''/api'',
        allowed: [''Users'', ''Products'', ''Feedbacks'', ''BasketItems'', ''Challenges'']
        }));\n /* Custom Restful API */\n app.post(''/rest/user/login'', loginUser());\n
        app.get(''/rest/user/change-password'', changePassword());\n app.get(''/rest/user/authentication-details'',
        retrieveUserList());\n+app.get(''/rest/user/whoami'', retrieveLoggedInUsersId());\n
        app.get(''/rest/product/search'', searchProducts());\n app.get(''/rest/basket/:id'',
        retrieveBasket());\n app.post(''/rest/basket/:id/order'', createOrderPdf());\n+app.get(''/rest/admin/application-version'',
        retrieveAppVersion());\n app.get(''/redirect'', performRedirect());\n /* File
        Serving */\n app.get(''/the/devs/are/so/funny/they/hid/an/easter/egg/within/the/easter/egg'',
        serveEasterEgg());\n@@ -487,6 +498,19 @@ exports.close = function (exitCode)
        {\n     }\n };\n \n+function verifyForgedFeedbackChallenge() {\n+    return
        function(req, res, next) {\n+        if (notSolved(forgedFeedbackChallenge))
        {\n+            var user = insecurity.authenticatedUsers.from(req);\n+            var
        userId = user ? user.data.id : undefined;\n+            if (req.body.UserId
        && req.body.UserId != userId) {\n+                solve(forgedFeedbackChallenge);\n+            }\n+        }\n+        next();\n+    }\n+}\n+\n
        function verifyAccessControlChallenges() {\n     return function (req, res,
        next) {\n         if (notSolved(scoreBoardChallenge) && utils.endsWith(req.url,
        ''/scoreboard.png'')) {\n@@ -498,6 +522,19 @@ function verifyAccessControlChallenges()
        {\n     };\n }\n \n+function retrieveLoggedInUsersId() {\n+    return function
        (req, res) {\n+        var user = insecurity.authenticatedUsers.from(req);\n+        res.json({id:
        (user ? user.data.id : undefined), email: (user ? user.data.email : undefined)});\n+    };\n+}\n+\n+function
        retrieveAppVersion() {\n+    return function (req, res) {\n+        res.json({version:
        utils.version()});\n+    };\n+}\n+\n function serveAngularClient() {\n     return
        function (req, res, next) {\n         if (!utils.startsWith(req.url, ''/api'')
        && !utils.startsWith(req.url, ''/rest'')) {"},{"sha":"8bf5004065236d3ad1941e5f95e2189fe85af486","filename":"test/client/aboutControllerSpec.js","status":"added","additions":18,"deletions":0,"changes":18,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FaboutControllerSpec.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FaboutControllerSpec.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test%2Fclient%2FaboutControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -0,0 +1,18 @@\n+describe(''controllers'', function () {\n+    var scope, controller;\n+\n+    beforeEach(module(''myApp''));\n+    describe(''AboutController'',
        function () {\n+        beforeEach(inject(function ($rootScope, $controller)
        {\n+            scope = $rootScope.$new();\n+            controller = $controller(''AboutController'',
        {\n+                ''$scope'': scope\n+            });\n+        }));\n+\n+        it(''should
        be defined'', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+        }));\n+    });\n+\n+});"},{"sha":"79828710c8f54a4ae9eb0a697585bc118b850b4d","filename":"test/client/administrationControllerSpec.js","status":"added","additions":19,"deletions":0,"changes":19,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FadministrationControllerSpec.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FadministrationControllerSpec.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test%2Fclient%2FadministrationControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -0,0 +1,19 @@\n+describe(''controllers'', function () {\n+    var scope, controller;\n+\n+    beforeEach(module(''myApp''));\n+\n+    describe(''AdministrationController'',
        function () {\n+        beforeEach(inject(function ($rootScope, $controller)
        {\n+            scope = $rootScope.$new();\n+            controller = $controller(''AdministrationController'',
        {\n+                ''$scope'': scope\n+            });\n+        }));\n+\n+        it(''should
        be defined'', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+        }));\n+    });\n+\n+});"},{"sha":"164eb5fc9e9a4c1f49e5189be118e25783e07138","filename":"test/client/basketControllerSpec.js","status":"added","additions":26,"deletions":0,"changes":26,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FbasketControllerSpec.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FbasketControllerSpec.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test%2Fclient%2FbasketControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -0,0 +1,26 @@\n+describe(''controllers'', function () {\n+    var scope, location,
        controller, window, cookieStore, $httpBackend;\n+\n+    beforeEach(module(''myApp''));\n+    beforeEach(inject(function($injector)
        {\n+        $httpBackend = $injector.get(''$httpBackend'');\n+    }));\n+\n+    describe(''BasketController'',
        function () {\n+        beforeEach(inject(function ($rootScope, $controller)
        {\n+            scope = $rootScope.$new();\n+            controller = $controller(''BasketController'',
        {\n+                ''$scope'': scope\n+            });\n+        }));\n+\n+        it(''should
        be defined'', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+            expect(scope.delete).toBeDefined();\n+            expect(scope.order).toBeDefined();\n+            expect(scope.inc).toBeDefined();\n+            expect(scope.dec).toBeDefined();\n+        }));\n+    });\n+\n+});"},{"sha":"ca8a4c66fe7ccabb3af5f3642ef55a185b18b6e8","filename":"test/client/challengeControllerSpec.js","status":"added","additions":59,"deletions":0,"changes":59,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FchallengeControllerSpec.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FchallengeControllerSpec.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test%2Fclient%2FchallengeControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -0,0 +1,59 @@\n+describe(''controllers'', function () {\n+    var scope, controller,
        $httpBackend, $sce;\n+\n+    beforeEach(module(''myApp''));\n+    beforeEach(inject(function($injector)
        {\n+        $httpBackend = $injector.get(''$httpBackend'');\n+        $sce
        = $injector.get(''$sce'');\n+    }));\n+\n+    describe(''ChallengeController'',
        function () {\n+        beforeEach(inject(function ($rootScope, $controller)
        {\n+            scope = $rootScope.$new();\n+            controller = $controller(''ChallengeController'',
        {\n+                ''$scope'': scope\n+            });\n+        }));\n+\n+        it(''should
        be defined'', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+        }));\n+\n+        it(''should
        hold existing challenges'', inject(function ($controller) {\n+            $httpBackend.whenGET(''/api/Challenges/'').respond(200,
        {data: [{description: ''XSS''},{description: ''CSRF''}]});\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.challenges.length).toBe(2);\n+            expect(scope.challenges[0].description).toBeDefined();\n+            expect(scope.challenges[1].description).toBeDefined();\n+        }));\n+\n+        it(''should
        consider challenge description as trusted HTML'', inject(function ($controller)
        {\n+            $httpBackend.whenGET(''/api/Challenges/'').respond(200, {data:
        [{description: ''<a src=\"link\">Link</a>''}]});\n+            spyOn($sce,
        ''trustAsHtml'');\n+\n+            $httpBackend.flush();\n+\n+            expect($sce.trustAsHtml).toHaveBeenCalledWith(''<a
        src=\"link\">Link</a>'');\n+        }));\n+\n+        it(''should hold nothing
        when no challenges exists'', inject(function ($controller) {\n+            $httpBackend.whenGET(''/api/Challenges/'').respond(200,
        {data: {}});\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.challenges).toEqual({});\n+        }));\n+\n+        it(''should
        hold nothing on error from backend API'', inject(function ($controller) {\n+            $httpBackend.whenGET(''/api/Challenges/'').respond(500);\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.challenges).toBeUndefined();\n+        }));\n+\n+    });\n+\n+});"},{"sha":"359288cf7496d32e5b8cfab01aec854d08f6fdd5","filename":"test/client/changepasswordControllerSpec.js","status":"added","additions":49,"deletions":0,"changes":49,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FchangepasswordControllerSpec.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FchangepasswordControllerSpec.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test%2Fclient%2FchangepasswordControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -0,0 +1,49 @@\n+describe(''controllers'', function () {\n+    var scope, location,
        controller, $httpBackend;\n+\n+    beforeEach(module(''myApp''));\n+        beforeEach(inject(function($injector)
        {\n+        $httpBackend = $injector.get(''$httpBackend'');\n+    }));\n+\n+    describe(''ChangePasswordController'',
        function () {\n+        beforeEach(inject(function ($rootScope, $location,
        $controller) {\n+            scope = $rootScope.$new();\n+            location
        = $location;\n+            controller = $controller(''ChangePasswordController'',
        {\n+                ''$scope'': scope\n+            });\n+        }));\n+\n+        it(''should
        be defined'', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+            expect(scope.changePassword).toBeDefined();\n+        }));\n+\n+        it(''should
        forward to main page after changing password'', inject(function ($controller)
        {\n+            $httpBackend.whenGET(''/rest/user/change-password?current=old&new=foobar&repeat=foobar'').respond(200);\n+            scope.currentPassword
        = ''old'';\n+            scope.newPassword = ''foobar'';\n+            scope.newPasswordRepeat
        = ''foobar'';\n+\n+            scope.changePassword();\n+            $httpBackend.flush();\n+\n+            expect(location.path()).toBe(''/'');\n+        }));\n+\n+        it(''should
        gracefully handle error on password change'', inject(function ($controller)
        {\n+            $httpBackend.whenGET(''/rest/user/change-password?current=old&new=foobar&repeat=foobar'').respond(500,
        ''error'');\n+            scope.currentPassword = ''old'';\n+            scope.newPassword
        = ''foobar'';\n+            scope.newPasswordRepeat = ''foobar'';\n+\n+            scope.changePassword();\n+            $httpBackend.flush();\n+\n+            expect(scope.error).toBe(''error'');\n+        }));\n+\n+    });\n+\n+});"},{"sha":"a8d01dd59629b9284cefdf7404ae1e51842f7645","filename":"test/client/contactControllerSpec.js","status":"added","additions":81,"deletions":0,"changes":81,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FcontactControllerSpec.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FcontactControllerSpec.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test%2Fclient%2FcontactControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -0,0 +1,81 @@\n+describe(''controllers'', function () {\n+    var scope, controller,
        $httpBackend;\n+\n+    beforeEach(module(''myApp''));\n+    beforeEach(inject(function($injector)
        {\n+        $httpBackend = $injector.get(''$httpBackend'');\n+    }));\n+\n+    describe(''ContactController'',
        function () {\n+        beforeEach(inject(function ($rootScope, $controller)
        {\n+            scope = $rootScope.$new();\n+            controller = $controller(''ContactController'',
        {\n+                ''$scope'': scope\n+            });\n+        }));\n+\n+        it(''should
        be defined'', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+            expect(scope.save).toBeDefined();\n+        }));\n+\n+        it(''should
        hold the user id of the currently logged in user'', inject(function ($controller)
        {\n+            $httpBackend.whenGET(''/rest/user/whoami'').respond(200, {id:
        42});\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.feedback.UserId).toBe(42);\n+\n+        }));\n+\n+        it(''should
        hold no user id if current user is not logged in'', inject(function ($controller)
        {\n+            $httpBackend.whenGET(''/rest/user/whoami'').respond(200, {});\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.feedback.UserId).toBeUndefined();\n+\n+        }));\n+\n+        it(''should
        hold no user id if retrieving currently logged in user fails'', inject(function
        ($controller) {\n+            $httpBackend.whenGET(''/rest/user/whoami'').respond(500);\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.feedback).toBeUndefined();\n+\n+        }));\n+\n+        it(''should
        display thank-you message and reset feedback form on saving feedback'', inject(function
        ($controller) {\n+            $httpBackend.whenGET(''/rest/user/whoami'').respond(200,
        {});\n+\n+            $httpBackend.whenPOST(''/api/Feedbacks/'').respond(200,
        {data: {comment: ''Test'', rating: 4}});\n+            scope.feedback = {comment:
        ''Test'', rating: 4}\n+            scope.form = {$setPristine: function()
        {}};\n+\n+            scope.save();\n+            $httpBackend.flush();\n+\n+            expect(scope.feedback).toEqual({});\n+            expect(scope.confirmation).toBe(''Thank
        you for your feedback.'');\n+\n+        }));\n+\n+        it(''should display
        5-star thank-you message and reset feedback form on saving 5-star feedback'',
        inject(function ($controller) {\n+            $httpBackend.whenGET(''/rest/user/whoami'').respond(200,
        {});\n+\n+            $httpBackend.whenPOST(''/api/Feedbacks/'').respond(200,
        {data: {comment: ''Praise'', rating: 5}});\n+            scope.feedback =
        {comment: ''Praise'', rating: 5}\n+            scope.form = {$setPristine:
        function() {}};\n+\n+            scope.save();\n+            $httpBackend.flush();\n+\n+            expect(scope.feedback).toEqual({});\n+            expect(scope.confirmation).toBe(''Thank
        you for your feedback and your 5-star rating!'');\n+\n+        }));\n+\n+    });\n+\n+});"},{"sha":"b625ba23750036cc65baa91af171160ce59283d3","filename":"test/client/controllersSpec.js","status":"removed","additions":0,"deletions":329,"changes":329,"blob_url":"https://github.com/juice-shop/juice-shop/blob/3f3efa28a1993438345d12e37660e10c0fd4f269/test%2Fclient%2FcontrollersSpec.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/3f3efa28a1993438345d12e37660e10c0fd4f269/test%2Fclient%2FcontrollersSpec.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test%2Fclient%2FcontrollersSpec.js?ref=3f3efa28a1993438345d12e37660e10c0fd4f269","patch":"@@
        -1,329 +0,0 @@\n-describe(''controllers'', function () {\n-    var scope,
        location, controller, window, cookieStore, $httpBackend;\n-\n-    beforeEach(module(''myApp''));\n-    beforeEach(inject(function($injector)
        {\n-        $httpBackend = $injector.get(''$httpBackend'');\n-    }));\n-\n-    describe(''UserController'',
        function () {\n-        beforeEach(inject(function ($rootScope, $controller)
        {\n-            scope = $rootScope.$new();\n-            controller = $controller(''UserController'',
        {\n-                ''$scope'': scope\n-            });\n-        }));\n-\n-        it(''should
        be defined'', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-            expect(scope.showDetail).toBeDefined();\n-        }));\n-    });\n-\n-    describe(''AdministrationController'',
        function () {\n-        beforeEach(inject(function ($rootScope, $controller)
        {\n-            scope = $rootScope.$new();\n-            controller = $controller(''AdministrationController'',
        {\n-                ''$scope'': scope\n-            });\n-        }));\n-\n-        it(''should
        be defined'', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-        }));\n-    });\n-\n-    describe(''AboutController'',
        function () {\n-        beforeEach(inject(function ($rootScope, $controller)
        {\n-            scope = $rootScope.$new();\n-            controller = $controller(''AboutController'',
        {\n-                ''$scope'': scope\n-            });\n-        }));\n-\n-        it(''should
        be defined'', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-        }));\n-    });\n-\n-    describe(''FeedbackController'',
        function () {\n-        beforeEach(inject(function ($rootScope, $controller)
        {\n-            scope = $rootScope.$new();\n-            controller = $controller(''FeedbackController'',
        {\n-                ''$scope'': scope\n-            });\n-        }));\n-\n-        it(''should
        be defined'', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-            expect(scope.delete).toBeDefined();\n-        }));\n-    });\n-\n-    describe(''ContactController'',
        function () {\n-        beforeEach(inject(function ($rootScope, $controller)
        {\n-            scope = $rootScope.$new();\n-            controller = $controller(''ContactController'',
        {\n-                ''$scope'': scope\n-            });\n-        }));\n-\n-        it(''should
        be defined'', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-            expect(scope.save).toBeDefined();\n-        }));\n-    });\n-\n-    describe(''LoginController'',
        function () {\n-        beforeEach(inject(function ($rootScope, $window, $location,
        $cookieStore, $controller) {\n-            scope = $rootScope.$new();\n-            location
        = $location;\n-            window = $window;\n-            cookieStore = $cookieStore;\n-            controller
        = $controller(''LoginController'', {\n-                ''$scope'': scope\n-            });\n-            scope.form
        = {$setPristine : function() {}};\n-        }));\n-\n-        it(''should
        be defined'', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-            expect(scope.login).toBeDefined();\n-        }));\n-\n-        it(''forwards
        to main page after successful login'', inject(function ($controller) {\n-            $httpBackend.whenPOST(''/rest/user/login'').respond(200,
        {token: ''auth_token''});\n-\n-            scope.login();\n-            $httpBackend.flush();\n-\n-            expect(location.path()).toBe(''/'');\n-        }));\n-\n-        it(''sets
        the returned authentication token as session cookie'', inject(function ($controller)
        {\n-            $httpBackend.whenPOST(''/rest/user/login'').respond(200, {token:
        ''auth_token''});\n-\n-            scope.login();\n-            $httpBackend.flush();\n-\n-            expect(cookieStore.get(''token'')).toBe(''auth_token'');\n-        }));\n-\n-        it(''puts
        the returned basket id into browser session storage'', inject(function ($controller)
        {\n-            $httpBackend.whenPOST(''/rest/user/login'').respond(200, {bid:
        4711});\n-\n-            scope.login();\n-            $httpBackend.flush();\n-\n-            expect(window.sessionStorage.bid).toBe(''4711'');\n-        }));\n-\n-        it(''removes
        authentication token and basket id on failed login attempt'', inject(function
        ($controller) {\n-            $httpBackend.whenPOST(''/rest/user/login'').respond(401);\n-\n-            scope.login();\n-            $httpBackend.flush();\n-\n-            expect(cookieStore.get(''token'')).toBeUndefined;\n-            expect(window.sessionStorage.bid).toBeUndefined;\n-        }));\n-\n-        it(''returns
        error message from server to client on failed login attempt'', inject(function
        ($controller) {\n-            $httpBackend.whenPOST(''/rest/user/login'').respond(401,
        ''error'');\n-\n-            scope.login();\n-            $httpBackend.flush();\n-\n-            expect(scope.error).toBe(''error'');\n-        }));\n-\n-    });\n-\n-    describe(''LogoutController'',
        function () {\n-        beforeEach(inject(function ($rootScope, $controller,
        $window, $location, $cookieStore) {\n-            scope = $rootScope.$new();\n-            window
        = $window;\n-            location = $location;\n-            cookieStore =
        $cookieStore;\n-            controller = $controller(''LogoutController'',
        {\n-                ''$scope'': scope\n-            });\n-        }));\n-\n-        it(''should
        be defined'', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-        }));\n-\n-        it(''should
        remove authentication token from cookies'', inject(function ($controller)
        {\n-            expect(cookieStore.get(''token'')).toBeUndefined();\n-        }));\n-\n-        it(''should
        remove basket id from session storage'', inject(function ($controller) {\n-            expect(window.sessionStorage.bid).toBeUndefined();\n-        }));\n-\n-        it(''should
        forward to main page'', inject(function ($controller) {\n-            expect(location.path()).toBe(''/'');\n-        }));\n-\n-    });\n-\n-    describe(''RegisterController'',
        function () {\n-        beforeEach(inject(function ($rootScope, $controller,
        $location) {\n-            scope = $rootScope.$new();\n-            location
        = $location;\n-            controller = $controller(''RegisterController'',
        {\n-                ''$scope'': scope\n-            });\n-        }));\n-\n-        it(''should
        be defined'', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-            expect(scope.save).toBeDefined();\n-        }));\n-\n-        it(''resets
        the registration form and redirects to login page after user registration'',
        inject(function ($controller) {\n-            $httpBackend.whenPOST(''/api/Users/'').respond(200);\n-\n-            scope.save();\n-            $httpBackend.flush();\n-\n-            expect(scope.user).toEqual({});\n-            expect(location.path()).toBe(''/login'');\n-        }));\n-\n-    });\n-\n-    describe(''SearchController'',
        function () {\n-        beforeEach(inject(function ($rootScope, $location,
        $controller) {\n-            scope = $rootScope.$new();\n-            location
        = $location;\n-            controller = $controller(''SearchController'',
        {\n-                ''$scope'': scope\n-            });\n-        }));\n-\n-        it(''should
        be defined'', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-            expect(scope.search).toBeDefined();\n-        }));\n-\n-        it(''forwards
        to search result with search query as URL parameter'', inject(function ($controller)
        {\n-            scope.searchQuery = ''lemon juice'';\n-            scope.search();\n-            expect(location.path()).toBe(''/search'');\n-            expect(location.search()).toEqual({q:
        ''lemon juice''});\n-        }));\n-\n-        it(''forwards to search result
        with empty search criteria if no search query is present'', inject(function
        ($controller) {\n-            scope.searchQuery = undefined;\n-            scope.search();\n-            expect(location.path()).toBe(''/search'');\n-            expect(location.search()).toEqual({q:
        ''''});\n-        }));\n-\n-    });\n-\n-    describe(''SearchResultController'',
        function () {\n-        beforeEach(inject(function ($rootScope, $controller)
        {\n-            scope = $rootScope.$new();\n-            controller = $controller(''SearchResultController'',
        {\n-                ''$scope'': scope\n-            });\n-        }));\n-\n-        it(''should
        be defined'', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-            expect(scope.showDetail).toBeDefined();\n-            expect(scope.addToBasket).toBeDefined();\n-        }));\n-    });\n-\n-    describe(''NavbarController'',
        function () {\n-        beforeEach(inject(function ($rootScope, $controller)
        {\n-            scope = $rootScope.$new();\n-            controller = $controller(''NavbarController'',
        {\n-                ''$scope'': scope\n-            });\n-        }));\n-\n-        it(''should
        be defined'', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-        }));\n-    });\n-\n-    describe(''BasketController'',
        function () {\n-        beforeEach(inject(function ($rootScope, $controller)
        {\n-            scope = $rootScope.$new();\n-            controller = $controller(''BasketController'',
        {\n-                ''$scope'': scope\n-            });\n-        }));\n-\n-        it(''should
        be defined'', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-            expect(scope.delete).toBeDefined();\n-            expect(scope.order).toBeDefined();\n-            expect(scope.inc).toBeDefined();\n-            expect(scope.dec).toBeDefined();\n-        }));\n-    });\n-\n-    describe(''ChallengeController'',
        function () {\n-        beforeEach(inject(function ($rootScope, $controller)
        {\n-            scope = $rootScope.$new();\n-            controller = $controller(''ChallengeController'',
        {\n-                ''$scope'': scope\n-            });\n-        }));\n-\n-        it(''should
        be defined'', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-        }));\n-    });\n-\n-    describe(''ChangePasswordController'',
        function () {\n-        beforeEach(inject(function ($rootScope, $controller)
        {\n-            scope = $rootScope.$new();\n-            controller = $controller(''ChangePasswordController'',
        {\n-                ''$scope'': scope\n-            });\n-        }));\n-\n-        it(''should
        be defined'', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-            expect(scope.changePassword).toBeDefined();\n-        }));\n-    });\n-\n-    describe(''ProductDetailsController'',
        function () {\n-        beforeEach(inject(function ($rootScope, $controller)
        {\n-            scope = $rootScope.$new();\n-            var id;\n-            controller
        = $controller(''ProductDetailsController'', {\n-                ''$scope'':
        scope,\n-                ''id'': id\n-            });\n-        }));\n-\n-        it(''should
        be defined'', inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-        }));\n-    });\n-\n-    describe(''UserDetailsController'',
        function () {\n-        beforeEach(inject(function ($rootScope, $controller)
        {\n-            scope = $rootScope.$new();\n-            var id;\n-            controller
        = $controller(''UserDetailsController'', {\n-                ''$scope'': scope,\n-                ''id'':
        id\n-            });\n-        }));\n-\n-        it(''should be defined'',
        inject(function ($controller) {\n-            expect(controller).toBeDefined();\n-        }));\n-    });\n-\n-});"},{"sha":"86105e4e734fed3ca03967b42d59856efafb60a7","filename":"test/client/feedbackControllerSpec.js","status":"added","additions":84,"deletions":0,"changes":84,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FfeedbackControllerSpec.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FfeedbackControllerSpec.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test%2Fclient%2FfeedbackControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -0,0 +1,84 @@\n+describe(''controllers'', function () {\n+    var scope, controller,
        $httpBackend, $sce;\n+\n+    beforeEach(module(''myApp''));\n+    beforeEach(inject(function($injector)
        {\n+        $httpBackend = $injector.get(''$httpBackend'');\n+        $sce
        = $injector.get(''$sce'');\n+    }));\n+\n+    describe(''FeedbackController'',
        function () {\n+        beforeEach(inject(function ($rootScope, $controller)
        {\n+            scope = $rootScope.$new();\n+            controller = $controller(''FeedbackController'',
        {\n+                ''$scope'': scope\n+            });\n+        }));\n+\n+        it(''should
        be defined'', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+            expect(scope.delete).toBeDefined();\n+        }));\n+\n+        it(''should
        hold existing feedback'', inject(function ($controller) {\n+            $httpBackend.whenGET(''/api/Feedbacks/'').respond(200,
        {data: [{comment: ''a''},{comment: ''b''}]});\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.feedbacks.length).toBe(2);\n+            expect(scope.feedbacks[0].comment).toBeDefined();\n+            expect(scope.feedbacks[1].comment).toBeDefined();\n+        }));\n+\n+        it(''should
        add an image to feedback'', inject(function ($controller) {\n+            $httpBackend.whenGET(''/api/Feedbacks/'').respond(200,
        {data: [{}]});\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.feedbacks[0].image).toBeDefined();\n+        }));\n+\n+        it(''should
        consider feedback comment as trusted HTML'', inject(function ($controller)
        {\n+            $httpBackend.whenGET(''/api/Feedbacks/'').respond(200, {data:
        [{comment: ''<script>alert(\"XSS3\")</script>''}]});\n+            spyOn($sce,
        ''trustAsHtml'');\n+\n+            $httpBackend.flush();\n+\n+            expect($sce.trustAsHtml).toHaveBeenCalledWith(''<script>alert(\"XSS3\")</script>'');\n+        }));\n+\n+        it(''should
        hold nothing when no feedback exists'', inject(function ($controller) {\n+            $httpBackend.whenGET(''/api/Feedbacks/'').respond(200,
        {data: {}});\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.feedbacks).toEqual({});\n+        }));\n+\n+        it(''should
        hold nothing on error from backend API'', inject(function ($controller) {\n+            $httpBackend.whenGET(''/api/Feedbacks/'').respond(500);\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.feedbacks).toBeUndefined();\n+        }));\n+\n+        it(''should
        pass delete request for feedback to backend API'', inject(function ($controller)
        {\n+            $httpBackend.whenGET(''/api/Feedbacks/'').respond(200, {data:
        [{id: 42}]});\n+            $httpBackend.whenDELETE(''/api/Feedbacks/42'').respond(200);\n+\n+            scope.delete(42);\n+            $httpBackend.flush();\n+        }));\n+\n+        it(''should
        gracefully handle error while deleting feedback'', inject(function ($controller)
        {\n+            $httpBackend.whenGET(''/api/Feedbacks/'').respond(200, {data:
        [{id: 42}]});\n+            $httpBackend.whenDELETE(''/api/Feedbacks/4711'').respond(500);\n+\n+            scope.delete(4711);\n+            $httpBackend.flush();\n+        }));\n+\n+    });\n+\n+});"},{"sha":"d8771612ca4ab5fa6ac672a27c048079fe6e0788","filename":"test/client/loginControllerSpec.js","status":"added","additions":74,"deletions":0,"changes":74,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FloginControllerSpec.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FloginControllerSpec.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test%2Fclient%2FloginControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -0,0 +1,74 @@\n+describe(''controllers'', function () {\n+    var scope, location,
        controller, window, cookieStore, $httpBackend;\n+\n+    beforeEach(module(''myApp''));\n+    beforeEach(inject(function($injector)
        {\n+        $httpBackend = $injector.get(''$httpBackend'');\n+    }));\n+\n+    describe(''LoginController'',
        function () {\n+        beforeEach(inject(function ($rootScope, $window, $location,
        $cookieStore, $controller) {\n+            scope = $rootScope.$new();\n+            location
        = $location;\n+            window = $window;\n+            cookieStore = $cookieStore;\n+            controller
        = $controller(''LoginController'', {\n+                ''$scope'': scope\n+            });\n+            scope.form
        = {$setPristine : function() {}};\n+        }));\n+\n+        it(''should
        be defined'', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+            expect(scope.login).toBeDefined();\n+        }));\n+\n+        it(''forwards
        to main page after successful login'', inject(function ($controller) {\n+            $httpBackend.whenPOST(''/rest/user/login'').respond(200,
        {token: ''auth_token''});\n+\n+            scope.login();\n+            $httpBackend.flush();\n+\n+            expect(location.path()).toBe(''/'');\n+        }));\n+\n+        it(''sets
        the returned authentication token as session cookie'', inject(function ($controller)
        {\n+            $httpBackend.whenPOST(''/rest/user/login'').respond(200, {token:
        ''auth_token''});\n+\n+            scope.login();\n+            $httpBackend.flush();\n+\n+            expect(cookieStore.get(''token'')).toBe(''auth_token'');\n+        }));\n+\n+        it(''puts
        the returned basket id into browser session storage'', inject(function ($controller)
        {\n+            $httpBackend.whenPOST(''/rest/user/login'').respond(200, {bid:
        4711});\n+\n+            scope.login();\n+            $httpBackend.flush();\n+\n+            expect(window.sessionStorage.bid).toBe(''4711'');\n+        }));\n+\n+        it(''removes
        authentication token and basket id on failed login attempt'', inject(function
        ($controller) {\n+            $httpBackend.whenPOST(''/rest/user/login'').respond(401);\n+\n+            scope.login();\n+            $httpBackend.flush();\n+\n+            expect(cookieStore.get(''token'')).toBeUndefined;\n+            expect(window.sessionStorage.bid).toBeUndefined;\n+        }));\n+\n+        it(''returns
        error message from server to client on failed login attempt'', inject(function
        ($controller) {\n+            $httpBackend.whenPOST(''/rest/user/login'').respond(401,
        ''error'');\n+\n+            scope.login();\n+            $httpBackend.flush();\n+\n+            expect(scope.error).toBe(''error'');\n+        }));\n+\n+    });\n+\n+});"},{"sha":"e5209a25188c9b3a921c89e5a926faae51172855","filename":"test/client/logoutControllerSpec.js","status":"added","additions":35,"deletions":0,"changes":35,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FlogoutControllerSpec.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FlogoutControllerSpec.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test%2Fclient%2FlogoutControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -0,0 +1,35 @@\n+describe(''controllers'', function () {\n+    var scope, location,
        controller, window, cookieStore;\n+\n+    beforeEach(module(''myApp''));\n+\n+    describe(''LogoutController'',
        function () {\n+        beforeEach(inject(function ($rootScope, $controller,
        $window, $location, $cookieStore) {\n+            scope = $rootScope.$new();\n+            window
        = $window;\n+            location = $location;\n+            cookieStore =
        $cookieStore;\n+            controller = $controller(''LogoutController'',
        {\n+                ''$scope'': scope\n+            });\n+        }));\n+\n+        it(''should
        be defined'', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+        }));\n+\n+        it(''should
        remove authentication token from cookies'', inject(function ($controller)
        {\n+            expect(cookieStore.get(''token'')).toBeUndefined();\n+        }));\n+\n+        it(''should
        remove basket id from session storage'', inject(function ($controller) {\n+            expect(window.sessionStorage.bid).toBeUndefined();\n+        }));\n+\n+        it(''should
        forward to main page'', inject(function ($controller) {\n+            expect(location.path()).toBe(''/'');\n+        }));\n+\n+    });\n+\n+});"},{"sha":"de62a60440019e9fdaee82cdf1888363f71f7892","filename":"test/client/navbarControllerSpec.js","status":"added","additions":47,"deletions":0,"changes":47,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FnavbarControllerSpec.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FnavbarControllerSpec.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test%2Fclient%2FnavbarControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -0,0 +1,47 @@\n+describe(''controllers'', function () {\n+    var scope, controller,
        $httpBackend;\n+\n+    beforeEach(module(''myApp''));\n+    beforeEach(inject(function($injector)
        {\n+        $httpBackend = $injector.get(''$httpBackend'');\n+    }));\n+\n+    describe(''NavbarController'',
        function () {\n+        beforeEach(inject(function ($rootScope, $controller)
        {\n+            scope = $rootScope.$new();\n+            controller = $controller(''NavbarController'',
        {\n+                ''$scope'': scope\n+            });\n+        }));\n+\n+        it(''should
        be defined'', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+        }));\n+\n+        it(''should
        hold application version'', inject(function ($controller) {\n+            $httpBackend.whenGET(''/rest/admin/application-version'').respond(200,
        {version: ''x.y.z''});\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.version).toBe(''vx.y.z'');\n+        }));\n+\n+        it(''should
        show nothing on missing application version'', inject(function ($controller)
        {\n+            $httpBackend.whenGET(''/rest/admin/application-version'').respond(200,
        {});\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.version).toBe('''');\n+        }));\n+\n+        it(''should
        show nothing on error retrieving application version'', inject(function ($controller)
        {\n+            $httpBackend.whenGET(''/rest/admin/application-version'').respond(500);\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.version).toBe('''');\n+        }));\n+\n+    });\n+\n+});"},{"sha":"b52a89ba85de1dd72420e5c08e68e01a69426d80","filename":"test/client/productdetailsControllerSpec.js","status":"added","additions":51,"deletions":0,"changes":51,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FproductdetailsControllerSpec.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FproductdetailsControllerSpec.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test%2Fclient%2FproductdetailsControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -0,0 +1,51 @@\n+describe(''controllers'', function () {\n+    var scope, controller,
        $httpBackend, $sce;\n+\n+    beforeEach(module(''myApp''));\n+    beforeEach(inject(function($injector)
        {\n+        $httpBackend = $injector.get(''$httpBackend'');\n+        $sce
        = $injector.get(''$sce'');\n+    }));\n+\n+    describe(''ProductDetailsController'',
        function () {\n+        beforeEach(inject(function ($rootScope, $controller)
        {\n+            scope = $rootScope.$new();\n+            controller = $controller(''ProductDetailsController'',
        {\n+                ''$scope'': scope,\n+                ''id'': 42\n+            });\n+        }));\n+\n+        it(''should
        be defined'', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+        }));\n+\n+        it(''should
        hold single product with given id'', inject(function ($controller) {\n+            $httpBackend.whenGET(''/api/Products/42'').respond(200,
        {data: {name: ''Test Juice''}});\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.product).toBeDefined();\n+            expect(scope.product.name).toBe(''Test
        Juice'');\n+        }));\n+\n+        it(''should render product description
        as trusted HTML'', inject(function ($controller) {\n+            $httpBackend.whenGET(''/api/Products/42'').respond(200,
        {data: {description: ''<script>alert(\"XSS4\")</script>''}});\n+            spyOn($sce,
        ''trustAsHtml'');\n+\n+            $httpBackend.flush();\n+\n+            expect($sce.trustAsHtml).toHaveBeenCalledWith(''<script>alert(\"XSS4\")</script>'');\n+        }));\n+\n+        it(''should
        hold no product if API call fails'', inject(function ($controller) {\n+            $httpBackend.whenGET(''/api/Products/42'').respond(500);\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.product).toBeUndefined();\n+        }));\n+\n+    });\n+\n+});"},{"sha":"59a5d8335f0b80de10b041fe95424b41b82c2758","filename":"test/client/registerControllerSpec.js","status":"added","additions":35,"deletions":0,"changes":35,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FregisterControllerSpec.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FregisterControllerSpec.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test%2Fclient%2FregisterControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -0,0 +1,35 @@\n+describe(''controllers'', function () {\n+    var scope, location,
        controller, $httpBackend;\n+\n+    beforeEach(module(''myApp''));\n+    beforeEach(inject(function($injector)
        {\n+        $httpBackend = $injector.get(''$httpBackend'');\n+    }));\n+\n+    describe(''RegisterController'',
        function () {\n+        beforeEach(inject(function ($rootScope, $controller,
        $location) {\n+            scope = $rootScope.$new();\n+            location
        = $location;\n+            controller = $controller(''RegisterController'',
        {\n+                ''$scope'': scope\n+            });\n+        }));\n+\n+        it(''should
        be defined'', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+            expect(scope.save).toBeDefined();\n+        }));\n+\n+        it(''resets
        the registration form and redirects to login page after user registration'',
        inject(function ($controller) {\n+            $httpBackend.whenPOST(''/api/Users/'').respond(200);\n+\n+            scope.save();\n+            $httpBackend.flush();\n+\n+            expect(scope.user).toEqual({});\n+            expect(location.path()).toBe(''/login'');\n+        }));\n+\n+    });\n+\n+});"},{"sha":"8141856c87eb9bf2ae83f0d410ead890048f3766","filename":"test/client/searchControllerSpec.js","status":"added","additions":36,"deletions":0,"changes":36,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FsearchControllerSpec.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FsearchControllerSpec.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test%2Fclient%2FsearchControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -0,0 +1,36 @@\n+describe(''controllers'', function () {\n+    var scope, location,
        controller;\n+\n+    beforeEach(module(''myApp''));\n+\n+    describe(''SearchController'',
        function () {\n+        beforeEach(inject(function ($rootScope, $location,
        $controller) {\n+            scope = $rootScope.$new();\n+            location
        = $location;\n+            controller = $controller(''SearchController'',
        {\n+                ''$scope'': scope\n+            });\n+        }));\n+\n+        it(''should
        be defined'', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+            expect(scope.search).toBeDefined();\n+        }));\n+\n+        it(''forwards
        to search result with search query as URL parameter'', inject(function ($controller)
        {\n+            scope.searchQuery = ''lemon juice'';\n+            scope.search();\n+            expect(location.path()).toBe(''/search'');\n+            expect(location.search()).toEqual({q:
        ''lemon juice''});\n+        }));\n+\n+        it(''forwards to search result
        with empty search criteria if no search query is present'', inject(function
        ($controller) {\n+            scope.searchQuery = undefined;\n+            scope.search();\n+            expect(location.path()).toBe(''/search'');\n+            expect(location.search()).toEqual({q:
        ''''});\n+        }));\n+\n+    });\n+\n+});"},{"sha":"4507ae54457904235a5f5c690aa503b9e00b884a","filename":"test/client/searchresultControllerSpec.js","status":"added","additions":178,"deletions":0,"changes":178,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FsearchresultControllerSpec.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FsearchresultControllerSpec.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test%2Fclient%2FsearchresultControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -0,0 +1,178 @@\n+describe(''controllers'', function () {\n+    var scope,
        location, controller, $httpBackend, $sce, $modal, window;\n+\n+    beforeEach(module(''myApp''));\n+    beforeEach(inject(function($injector)
        {\n+        $httpBackend = $injector.get(''$httpBackend'');\n+        $sce
        = $injector.get(''$sce'');\n+        $modal = $injector.get(''$modal'');\n+    }));\n+\n+    describe(''SearchResultController'',
        function () {\n+        beforeEach(inject(function ($rootScope, $location,
        $window, $controller) {\n+            scope = $rootScope.$new();\n+            location
        = $location;\n+            window = $window;\n+            controller = $controller(''SearchResultController'',
        {\n+                ''$scope'': scope\n+            });\n+        }));\n+\n+        it(''should
        be defined'', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+            expect(scope.showDetail).toBeDefined();\n+            expect(scope.addToBasket).toBeDefined();\n+        }));\n+\n+        xit(''should
        render user search query as trusted HTML'', inject(function ($controller,
        $location) {\n+            $httpBackend.whenGET(''/rest/product/search?q=<script>alert(\"XSS1\")</script>'').respond(200,
        {data: []});\n+            spyOn(location, ''search'').andReturn( {q : ''<script>alert(\"XSS1\")</script>''}
        ); // TODO Mocking location fails\n+            spyOn($sce, ''trustAsHtml'');\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.searchQuery).toBeDefined();\n+            expect($sce.trustAsHtml).toHaveBeenCalledWith(''<script>alert(\"XSS1\")</script>'');\n+        }));\n+\n+        it(''should
        render product descriptions as trusted HTML'', inject(function ($controller,
        $location) {\n+            $httpBackend.whenGET(''/rest/product/search?q=undefined'').respond(200,
        {data: [{description: ''<script>alert(\"XSS4\")</script>''}]});\n+            spyOn($sce,
        ''trustAsHtml'');\n+\n+            $httpBackend.flush();\n+\n+            expect($sce.trustAsHtml).toHaveBeenCalledWith(''<script>alert(\"XSS4\")</script>'');\n+        }));\n+\n+        it(''should
        hold no products when product search API call fails'', inject(function ($controller,
        $location) {\n+            $httpBackend.whenGET(''/rest/product/search?q=undefined'').respond(500);\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.products).toBeUndefined();\n+        }));\n+\n+        it(''should
        open a modal dialog with product details'', inject(function ($controller)
        {\n+            spyOn($modal, ''open'');\n+\n+            scope.showDetail();\n+\n+            expect($modal.open).toHaveBeenCalled();\n+        }));\n+\n+        it(''should
        add new product to basket'', inject(function ($controller) {\n+            $httpBackend.whenGET(''/rest/product/search?q=undefined'').respond(200,
        {data: []});\n+\n+            window.sessionStorage.bid = 4711;\n+            $httpBackend.whenGET(''/rest/basket/4711'').respond(200,
        {data: {products: []}});\n+            $httpBackend.whenPOST(''/api/BasketItems/'').respond(200,
        {data: {ProductId: 1}});\n+            $httpBackend.whenGET(''/api/Products/1'').respond(200,
        {data: {name: ''Cherry Juice''}});\n+\n+            scope.addToBasket(1);\n+            $httpBackend.flush();\n+\n+            expect(scope.confirmation).toBe(''Placed
        Cherry Juice into basket.'');\n+        }));\n+\n+        it(''should add
        similar product to basket'', inject(function ($controller) {\n+            $httpBackend.whenGET(''/rest/product/search?q=undefined'').respond(200,
        {data: []});\n+\n+            window.sessionStorage.bid = 4711;\n+            $httpBackend.whenGET(''/rest/basket/4711'').respond(200,
        {data: {products: [{id : 1}, {id : 2, name: ''Tomato Juice'', basketItem:
        {id: 42}}]}});\n+            $httpBackend.whenGET(''/api/BasketItems/42'').respond(200,
        {data: {id: 42, quantity: 5}});\n+            $httpBackend.whenPUT(''/api/BasketItems/42'').respond(200,
        {data: {ProductId: 2}});\n+            $httpBackend.whenGET(''/api/Products/2'').respond(200,
        {data: {name: ''Tomato Juice''}});\n+\n+            scope.addToBasket(2);\n+            $httpBackend.flush();\n+\n+            expect(scope.confirmation).toBe(''Added
        another Tomato Juice to basket.'');\n+        }));\n+\n+        it(''should
        not add anything to basket on error retrieving basket'', inject(function ($controller)
        {\n+            $httpBackend.whenGET(''/rest/product/search?q=undefined'').respond(200,
        {data: []});\n+\n+            window.sessionStorage.bid = 815;\n+            $httpBackend.whenGET(''/rest/basket/815'').respond(500);\n+\n+            scope.addToBasket();\n+            $httpBackend.flush();\n+\n+            expect(scope.confirmation).toBeUndefined();\n+        }));\n+\n+        it(''should
        not add anything to basket on error retrieving existing basket item'', inject(function
        ($controller) {\n+            $httpBackend.whenGET(''/rest/product/search?q=undefined'').respond(200,
        {data: []});\n+\n+            window.sessionStorage.bid = 4711;\n+            $httpBackend.whenGET(''/rest/basket/4711'').respond(200,
        {data: {products: [{id : 1}, {id : 2, name: ''Tomato Juice'', basketItem:
        {id: 42}}]}});\n+            $httpBackend.whenGET(''/api/BasketItems/42'').respond(500);\n+\n+            scope.addToBasket(2);\n+            $httpBackend.flush();\n+\n+            expect(scope.confirmation).toBeUndefined();\n+\n+        }));\n+\n+        it(''should
        not add anything to basket on error updating basket item'', inject(function
        ($controller) {\n+            $httpBackend.whenGET(''/rest/product/search?q=undefined'').respond(200,
        {data: []});\n+\n+            window.sessionStorage.bid = 4711;\n+            $httpBackend.whenGET(''/rest/basket/4711'').respond(200,
        {data: {products: [{id : 1}, {id : 2, name: ''Tomato Juice'', basketItem:
        {id: 42}}]}});\n+            $httpBackend.whenGET(''/api/BasketItems/42'').respond(200,
        {data: {id: 42, quantity: 5}});\n+            $httpBackend.whenPUT(''/api/BasketItems/42'').respond(500);\n+\n+            scope.addToBasket(2);\n+            $httpBackend.flush();\n+\n+            expect(scope.confirmation).toBeUndefined();\n+\n+        }));\n+\n+        it(''should
        not add anything to basket on error retrieving product associated with basket
        item'', inject(function ($controller) {\n+            $httpBackend.whenGET(''/rest/product/search?q=undefined'').respond(200,
        {data: []});\n+\n+            window.sessionStorage.bid = 4711;\n+            $httpBackend.whenGET(''/rest/basket/4711'').respond(200,
        {data: {products: [{id : 1}, {id : 2, name: ''Tomato Juice'', basketItem:
        {id: 42}}]}});\n+            $httpBackend.whenGET(''/api/BasketItems/42'').respond(200,
        {data: {id: 42, quantity: 5}});\n+            $httpBackend.whenPUT(''/api/BasketItems/42'').respond(200,
        {data: {ProductId: 2}});\n+            $httpBackend.whenGET(''/api/Products/2'').respond(500);\n+\n+            scope.addToBasket(2);\n+            $httpBackend.flush();\n+\n+            expect(scope.confirmation).toBeUndefined();\n+\n+        }));\n+\n+        it(''should
        not add anything on error creating new basket item'', inject(function ($controller)
        {\n+            $httpBackend.whenGET(''/rest/product/search?q=undefined'').respond(200,
        {data: []});\n+\n+            window.sessionStorage.bid = 4711;\n+            $httpBackend.whenGET(''/rest/basket/4711'').respond(200,
        {data: {products: []}});\n+            $httpBackend.whenPOST(''/api/BasketItems/'').respond(500);\n+\n+            scope.addToBasket(1);\n+            $httpBackend.flush();\n+\n+            expect(scope.confirmation).toBeUndefined();\n+        }));\n+\n+        it(''should
        not add anything on error retrieving product after creating new basket item'',
        inject(function ($controller) {\n+            $httpBackend.whenGET(''/rest/product/search?q=undefined'').respond(200,
        {data: []});\n+\n+            window.sessionStorage.bid = 4711;\n+            $httpBackend.whenGET(''/rest/basket/4711'').respond(200,
        {data: {products: []}});\n+            $httpBackend.whenPOST(''/api/BasketItems/'').respond(200,
        {data: {ProductId: 1}});\n+            $httpBackend.whenGET(''/api/Products/1'').respond(500);\n+\n+            scope.addToBasket(1);\n+            $httpBackend.flush();\n+\n+            expect(scope.confirmation).toBeUndefined();\n+        }));\n+\n+    });\n+\n+});"},{"sha":"a15518eaebd8a1a5cc46f5ba53fc4a9424ef7348","filename":"test/client/servicesSpec.js","status":"modified","additions":25,"deletions":0,"changes":25,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FservicesSpec.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FservicesSpec.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test%2Fclient%2FservicesSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -13,6 +13,7 @@ describe(''services'', function () {\n             expect(UserService.find).toBeDefined();\n             expect(UserService.get).toBeDefined();\n             expect(UserService.changePassword).toBeDefined();\n+            expect(UserService.whoAmI).toBeDefined();\n         }));\n
        \n         it(''should get all users directly from the rest api'', inject(function
        (UserService) {\n@@ -60,6 +61,15 @@ describe(''services'', function () {\n             expect(result).toBe(''apiResponse'');\n         }));\n
        \n+        it(''should return the logged-in users identity directly from the
        rest api'', inject(function (UserService) {\n+            $httpBackend.whenGET(''/rest/user/whoami'').respond(200,
        ''apiResponse'');\n+\n+            UserService.whoAmI().success(function (data)
        { result = data; });\n+            $httpBackend.flush();\n+\n+            expect(result).toBe(''apiResponse'');\n+        }));\n+\n     });\n
        \n     describe(''ProductService'', function () {\n@@ -208,6 +218,21 @@ describe(''services'',
        function () {\n \n     });\n \n+    describe(''AdministrationService'', function
        () {\n+        it(''should be defined'', inject(function (AdministrationService)
        {\n+            expect(AdministrationService).toBeDefined();\n+            expect(AdministrationService.getApplicationVersion).toBeDefined();\n+        }));\n+\n+        it(''should
        get application version directly from the rest api'', inject(function (AdministrationService)
        {\n+            $httpBackend.whenGET(''/rest/admin/application-version'').respond(200,
        ''apiResponse'');\n+\n+            AdministrationService.getApplicationVersion().success(function
        (data) { result = data; });\n+            $httpBackend.flush();\n \n+            expect(result).toBe(''apiResponse'');\n+        }));\n+\n+    });\n
        \n });"}]'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:31 GMT
      ETag:
      - W/"20e3e2fcade920a5ed67bae3bf789953e986212551b620acde5ed636fa7a7115"
      Last-Modified:
      - Mon, 09 Sep 2024 07:19:10 GMT
      Link:
      - <https://api.github.com/repositories/24233689/pulls/35/files?page=2>; rel="next",
        <https://api.github.com/repositories/24233689/pulls/35/files?page=2>; rel="last"
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C384:8AACB:258DD5A:27ECBDE:66E29D83
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4990'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '10'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - pull_requests=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/app/js/controllers/ContactController.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"ContactController.js","path":"app/js/controllers/ContactController.js","sha":"c5d2c0ea968fb4ae781bb208eefbb515ece0957c","size":717,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/app/js/controllers/ContactController.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app/js/controllers/ContactController.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/c5d2c0ea968fb4ae781bb208eefbb515ece0957c","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app/js/controllers/ContactController.js","type":"file","content":"YW5ndWxhci5tb2R1bGUoJ215QXBwJykuY29udHJvbGxlcignQ29udGFjdENv\nbnRyb2xsZXInLCBbCiAgICAnJHNjb3BlJywKICAgICdGZWVkYmFja1NlcnZp\nY2UnLAogICAgJ1VzZXJTZXJ2aWNlJywKICAgIGZ1bmN0aW9uICgkc2NvcGUs\nIGZlZWRiYWNrU2VydmljZSwgdXNlclNlcnZpY2UpIHsKICAgICAgICAndXNl\nIHN0cmljdCc7CgogICAgICAgIHVzZXJTZXJ2aWNlLndob0FtSSgpLnN1Y2Nl\nc3MoZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgICAkc2NvcGUuZmVlZGJh\nY2sgPSB7fTsKICAgICAgICAgICAgJHNjb3BlLmZlZWRiYWNrLlVzZXJJZCA9\nIGRhdGEuaWQ7CiAgICAgICAgfSk7CgogICAgICAgICRzY29wZS5zYXZlID0g\nZnVuY3Rpb24gKCkgewogICAgICAgICAgICBmZWVkYmFja1NlcnZpY2Uuc2F2\nZSgkc2NvcGUuZmVlZGJhY2spLnN1Y2Nlc3MoZnVuY3Rpb24gKHNhdmVkRmVl\nZGJhY2spIHsKICAgICAgICAgICAgICAgICRzY29wZS5jb25maXJtYXRpb24g\nPSAnVGhhbmsgeW91IGZvciB5b3VyIGZlZWRiYWNrJyArIChzYXZlZEZlZWRi\nYWNrLmRhdGEucmF0aW5nID09PSA1ID8gJyBhbmQgeW91ciA1LXN0YXIgcmF0\naW5nIScgOiAnLicpOwogICAgICAgICAgICAgICAgJHNjb3BlLmZlZWRiYWNr\nID0ge307CiAgICAgICAgICAgICAgICAkc2NvcGUuZm9ybS4kc2V0UHJpc3Rp\nbmUoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICB9XSk7\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/app/js/controllers/ContactController.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/c5d2c0ea968fb4ae781bb208eefbb515ece0957c","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app/js/controllers/ContactController.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:32 GMT
      ETag:
      - W/"c5d2c0ea968fb4ae781bb208eefbb515ece0957c"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C385:1EF05C:32C1C1C:35DF6F4:66E29D84
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4989'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '11'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/app/js/controllers/NavbarController.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"NavbarController.js","path":"app/js/controllers/NavbarController.js","sha":"b24cdf86f7fea0afa618a2c8a067f6e0f570dc0d","size":470,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/app/js/controllers/NavbarController.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app/js/controllers/NavbarController.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/b24cdf86f7fea0afa618a2c8a067f6e0f570dc0d","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app/js/controllers/NavbarController.js","type":"file","content":"YW5ndWxhci5tb2R1bGUoJ215QXBwJykuY29udHJvbGxlcignTmF2YmFyQ29u\ndHJvbGxlcicsIFsKICAgICckc2NvcGUnLAogICAgJ0FkbWluaXN0cmF0aW9u\nU2VydmljZScsCiAgICBmdW5jdGlvbiAoJHNjb3BlLCBhZG1pbmlzdHJhdGlv\nblNlcnZpY2UpIHsKICAgICAgICAndXNlIHN0cmljdCc7CgogICAgICAgICRz\nY29wZS52ZXJzaW9uID0gJyc7CgogICAgICAgIGFkbWluaXN0cmF0aW9uU2Vy\ndmljZS5nZXRBcHBsaWNhdGlvblZlcnNpb24oKS5zdWNjZXNzKGZ1bmN0aW9u\nIChkYXRhKSB7CiAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEudmVyc2lv\nbikgewogICAgICAgICAgICAgICAgJHNjb3BlLnZlcnNpb24gPSAndicrZGF0\nYS52ZXJzaW9uOwogICAgICAgICAgICB9CiAgICAgICAgfSkuZXJyb3IoZnVu\nY3Rpb24gKGVycikgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwog\nICAgICAgIH0pOwoKICAgIH1dKTs=\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/app/js/controllers/NavbarController.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/b24cdf86f7fea0afa618a2c8a067f6e0f570dc0d","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app/js/controllers/NavbarController.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:33 GMT
      ETag:
      - W/"b24cdf86f7fea0afa618a2c8a067f6e0f570dc0d"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C386:5E8E2:293192D:2BC13B1:66E29D84
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4988'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '12'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/app/js/controllers/SearchResultController.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"SearchResultController.js","path":"app/js/controllers/SearchResultController.js","sha":"051488f038a827a9d15b8d127e1a1ca7ea033541","size":3277,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/app/js/controllers/SearchResultController.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app/js/controllers/SearchResultController.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/051488f038a827a9d15b8d127e1a1ca7ea033541","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app/js/controllers/SearchResultController.js","type":"file","content":"YW5ndWxhci5tb2R1bGUoJ215QXBwJykuY29udHJvbGxlcignU2VhcmNoUmVz\ndWx0Q29udHJvbGxlcicsIFsKICAgICckc2NvcGUnLAogICAgJyRzY2UnLAog\nICAgJyR3aW5kb3cnLAogICAgJyRtb2RhbCcsCiAgICAnJGxvY2F0aW9uJywK\nICAgICdQcm9kdWN0U2VydmljZScsCiAgICAnQmFza2V0U2VydmljZScsCiAg\nICBmdW5jdGlvbiAoJHNjb3BlLCAkc2NlLCAkd2luZG93LCAkbW9kYWwsICRs\nb2NhdGlvbiwgcHJvZHVjdFNlcnZpY2UsIGJhc2tldFNlcnZpY2UpIHsKICAg\nICAgICAndXNlIHN0cmljdCc7CgogICAgICAgICRzY29wZS5zaG93RGV0YWls\nID0gZnVuY3Rpb24gKGlkKSB7CgogICAgICAgICAgICAkbW9kYWwub3Blbih7\nCiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL1Byb2R1Y3RE\nZXRhaWwuaHRtbCcsCiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnUHJv\nZHVjdERldGFpbHNDb250cm9sbGVyJywKICAgICAgICAgICAgICAgIHNpemU6\nICdsZycsCiAgICAgICAgICAgICAgICByZXNvbHZlOiB7CiAgICAgICAgICAg\nICAgICAgICAgaWQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAg\nICAgICAgcmV0dXJuIGlkOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAg\nICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAg\nICAgJHNjb3BlLmFkZFRvQmFza2V0ID0gZnVuY3Rpb24oaWQpIHsKCiAgICAg\nICAgICAgIGJhc2tldFNlcnZpY2UuZmluZCgkd2luZG93LnNlc3Npb25TdG9y\nYWdlLmJpZCkuc3VjY2VzcyhmdW5jdGlvbiAoYmFza2V0KSB7CiAgICAgICAg\nICAgICAgICB2YXIgcHJvZHVjdHNJbkJhc2tldCA9IGJhc2tldC5kYXRhLnBy\nb2R1Y3RzOwogICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7CiAg\nICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb2R1Y3RzSW5C\nYXNrZXQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAo\ncHJvZHVjdHNJbkJhc2tldFtpXS5pZCA9PT0gaWQpIHsKICAgICAgICAgICAg\nICAgICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAg\nICAgICBiYXNrZXRTZXJ2aWNlLmdldChwcm9kdWN0c0luQmFza2V0W2ldLmJh\nc2tldEl0ZW0uaWQpLnN1Y2Nlc3MoZnVuY3Rpb24gKGV4aXN0aW5nQmFza2V0\nSXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1F1\nYW50aXR5ID0gZXhpc3RpbmdCYXNrZXRJdGVtLmRhdGEucXVhbnRpdHkgKyAx\nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFza2V0U2VydmljZS5w\ndXQoZXhpc3RpbmdCYXNrZXRJdGVtLmRhdGEuaWQsIHtxdWFudGl0eTogbmV3\nUXVhbnRpdHl9KS5zdWNjZXNzKGZ1bmN0aW9uICh1cGRhdGVkQmFza2V0SXRl\nbSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RT\nZXJ2aWNlLmdldCh1cGRhdGVkQmFza2V0SXRlbS5kYXRhLlByb2R1Y3RJZCku\nc3VjY2VzcyhmdW5jdGlvbihwcm9kdWN0KSB7CiAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICRzY29wZS5jb25maXJtYXRpb24gPSAnQWRk\nZWQgYW5vdGhlciAnICsgcHJvZHVjdC5kYXRhLm5hbWUgICsgJyB0byBiYXNr\nZXQuJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5lcnJv\ncihmdW5jdGlvbihlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAg\nIH0pLmVycm9yKGZ1bmN0aW9uKGVycikgewogICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgICAg\nICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSku\nZXJyb3IoZnVuY3Rpb24oZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAg\nICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICAgICAgICAgICAg\nICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAg\nICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAg\nICAgaWYgKCFmb3VuZCkgewogICAgICAgICAgICAgICAgICAgIGJhc2tldFNl\ncnZpY2Uuc2F2ZSh7UHJvZHVjdElkOiBpZCwgQmFza2V0SWQ6ICR3aW5kb3cu\nc2Vzc2lvblN0b3JhZ2UuYmlkLCBxdWFudGl0eTogMX0pLnN1Y2Nlc3MoZnVu\nY3Rpb24gKG5ld0Jhc2tldEl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICAg\nICAgcHJvZHVjdFNlcnZpY2UuZ2V0KG5ld0Jhc2tldEl0ZW0uZGF0YS5Qcm9k\ndWN0SWQpLnN1Y2Nlc3MoZnVuY3Rpb24ocHJvZHVjdCkgewogICAgICAgICAg\nICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvbmZpcm1hdGlvbiA9ICdQbGFj\nZWQgJyArIHByb2R1Y3QuZGF0YS5uYW1lICArICcgaW50byBiYXNrZXQuJzsK\nICAgICAgICAgICAgICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24oZXJy\nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhl\ncnIpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAg\nICAgICAgICB9KS5lcnJvcihmdW5jdGlvbihlcnIpIHsKICAgICAgICAgICAg\nICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgICAg\nICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuZXJy\nb3IoZnVuY3Rpb24oZXJyKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxv\nZyhlcnIpOwogICAgICAgICAgICB9KTsKICAgICAgICB9OwoKICAgICAgICAk\nc2NvcGUuc2VhcmNoUXVlcnkgPSAkc2NlLnRydXN0QXNIdG1sKCRsb2NhdGlv\nbi5zZWFyY2goKS5xKTsKCiAgICAgICAgcHJvZHVjdFNlcnZpY2Uuc2VhcmNo\nKCRzY29wZS5zZWFyY2hRdWVyeSkuc3VjY2VzcyhmdW5jdGlvbiAocHJvZHVj\ndHMpIHsKICAgICAgICAgICAgJHNjb3BlLnByb2R1Y3RzID0gcHJvZHVjdHMu\nZGF0YTsKICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPCRzY29wZS5wcm9k\ndWN0cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgJHNjb3BlLnBy\nb2R1Y3RzW2ldLmRlc2NyaXB0aW9uID0gJHNjZS50cnVzdEFzSHRtbCgkc2Nv\ncGUucHJvZHVjdHNbaV0uZGVzY3JpcHRpb24pOwogICAgICAgICAgICB9CiAg\nICAgICAgfSkuZXJyb3IoZnVuY3Rpb24oZXJyKSB7CiAgICAgICAgICAgIGNv\nbnNvbGUubG9nKGVycik7CiAgICAgICAgfSk7CgogICAgfV0pOw==\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/app/js/controllers/SearchResultController.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/051488f038a827a9d15b8d127e1a1ca7ea033541","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app/js/controllers/SearchResultController.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:33 GMT
      ETag:
      - W/"051488f038a827a9d15b8d127e1a1ca7ea033541"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C387:372E56:1CD1FB2:1E7D307:66E29D85
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4987'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '13'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/app/js/controllers/UserController.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"UserController.js","path":"app/js/controllers/UserController.js","sha":"ceca2b098e22913544ddd5a90c641f1293f98f40","size":981,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/app/js/controllers/UserController.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app/js/controllers/UserController.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/ceca2b098e22913544ddd5a90c641f1293f98f40","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app/js/controllers/UserController.js","type":"file","content":"YW5ndWxhci5tb2R1bGUoJ215QXBwJykuY29udHJvbGxlcignVXNlckNvbnRy\nb2xsZXInLCBbCiAgICAnJHNjb3BlJywKICAgICckbW9kYWwnLAogICAgJyRz\nY2UnLAogICAgJ1VzZXJTZXJ2aWNlJywKICAgIGZ1bmN0aW9uICgkc2NvcGUs\nICRtb2RhbCwgJHNjZSwgdXNlclNlcnZpY2UpIHsKICAgICAgICAndXNlIHN0\ncmljdCc7CgogICAgICAgIGZ1bmN0aW9uIGZpbmRBbGwoKSB7CiAgICAgICAg\nICAgIHVzZXJTZXJ2aWNlLmZpbmQoKS5zdWNjZXNzKGZ1bmN0aW9uICh1c2Vy\ncykgewogICAgICAgICAgICAgICAgJHNjb3BlLnVzZXJzID0gdXNlcnMuZGF0\nYTsKICAgICAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTwkc2NvcGUudXNl\ncnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAkc2NvcGUu\ndXNlcnNbaV0uZW1haWwgPSAkc2NlLnRydXN0QXNIdG1sKCRzY29wZS51c2Vy\nc1tpXS5lbWFpbCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0p\nLmVycm9yKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgIGNvbnNv\nbGUubG9nKGVycik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAg\nICBmaW5kQWxsKCk7CgogICAgICAgICRzY29wZS5zaG93RGV0YWlsID0gZnVu\nY3Rpb24gKGlkKSB7CgogICAgICAgICAgICAkbW9kYWwub3Blbih7CiAgICAg\nICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL1VzZXJEZXRhaWwuaHRt\nbCcsCiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnVXNlckRldGFpbHND\nb250cm9sbGVyJywKICAgICAgICAgICAgICAgIHNpemU6ICdsZycsCiAgICAg\nICAgICAgICAgICByZXNvbHZlOiB7CiAgICAgICAgICAgICAgICAgICAgaWQ6\nIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJu\nIGlkOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0K\nICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICB9XSk7\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/app/js/controllers/UserController.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/ceca2b098e22913544ddd5a90c641f1293f98f40","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app/js/controllers/UserController.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:34 GMT
      ETag:
      - W/"ceca2b098e22913544ddd5a90c641f1293f98f40"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C388:6E7C9:27A8437:2A1EA3C:66E29D86
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4986'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '14'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/app/js/services/AdministrationService.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"AdministrationService.js","path":"app/js/services/AdministrationService.js","sha":"f9b6aa5b9f13ef67a94bd79964b146e8ad8f114a","size":317,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/app/js/services/AdministrationService.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app/js/services/AdministrationService.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/f9b6aa5b9f13ef67a94bd79964b146e8ad8f114a","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app/js/services/AdministrationService.js","type":"file","content":"YW5ndWxhci5tb2R1bGUoJ215QXBwJykuZmFjdG9yeSgnQWRtaW5pc3RyYXRp\nb25TZXJ2aWNlJywgWyckaHR0cCcsIGZ1bmN0aW9uICgkaHR0cCkgewogICAg\nJ3VzZSBzdHJpY3QnOwoKICAgIHZhciBob3N0ID0gJy9yZXN0L2FkbWluJzsK\nCiAgICBmdW5jdGlvbiBnZXRBcHBsaWNhdGlvblZlcnNpb24oKSB7CiAgICAg\nICAgcmV0dXJuICRodHRwLmdldChob3N0ICsgJy9hcHBsaWNhdGlvbi12ZXJz\naW9uJyk7CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgICBnZXRBcHBsaWNh\ndGlvblZlcnNpb246IGdldEFwcGxpY2F0aW9uVmVyc2lvbgogICAgfTsKCn1d\nKTs=\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/app/js/services/AdministrationService.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/f9b6aa5b9f13ef67a94bd79964b146e8ad8f114a","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app/js/services/AdministrationService.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:35 GMT
      ETag:
      - W/"f9b6aa5b9f13ef67a94bd79964b146e8ad8f114a"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C389:1ACD9:2BFA966:2EC3921:66E29D87
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4985'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '15'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/app/js/services/UserService.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"UserService.js","path":"app/js/services/UserService.js","sha":"2feab669422770e88341cd2f45d2d38bcd61abbd","size":944,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/app/js/services/UserService.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app/js/services/UserService.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/2feab669422770e88341cd2f45d2d38bcd61abbd","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app/js/services/UserService.js","type":"file","content":"YW5ndWxhci5tb2R1bGUoJ215QXBwJykuZmFjdG9yeSgnVXNlclNlcnZpY2Un\nLCBbJyRodHRwJywgZnVuY3Rpb24gKCRodHRwKSB7CiAgICAndXNlIHN0cmlj\ndCc7CgogICAgdmFyIGhvc3QgPSAnL2FwaS9Vc2Vycyc7CgogICAgZnVuY3Rp\nb24gZmluZChwYXJhbXMpIHsKICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcv\ncmVzdC91c2VyL2F1dGhlbnRpY2F0aW9uLWRldGFpbHMvJywgewogICAgICAg\nICAgICBwYXJhbXM6IHBhcmFtcwogICAgICAgIH0pOwogICAgfQoKICAgIGZ1\nbmN0aW9uIGdldChpZCkgewogICAgICAgIHJldHVybiAkaHR0cC5nZXQoaG9z\ndCArICcvJyArIGlkKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzYXZlKHBhcmFt\ncykgewogICAgICAgIHJldHVybiAkaHR0cC5wb3N0KGhvc3QgKyAnLycsIHBh\ncmFtcyk7CiAgICB9CgogICAgZnVuY3Rpb24gbG9naW4ocGFyYW1zKSB7CiAg\nICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9yZXN0L3VzZXIvbG9naW4nLCBw\nYXJhbXMpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNoYW5nZVBhc3N3b3JkKHBh\nc3N3b3JkcykgewogICAgICAgIHJldHVybiAkaHR0cC5nZXQoJy9yZXN0L3Vz\nZXIvY2hhbmdlLXBhc3N3b3JkP2N1cnJlbnQ9JysgcGFzc3dvcmRzLmN1cnJl\nbnQgKycmbmV3PScgKyBwYXNzd29yZHMubmV3ICsgJyZyZXBlYXQ9JyArIHBh\nc3N3b3Jkcy5yZXBlYXQpOwogICAgfQoKICAgIGZ1bmN0aW9uIHdob0FtSSgp\nIHsKICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvcmVzdC91c2VyL3dob2Ft\naScpOwogICAgfQoKICAgIHJldHVybiB7CiAgICAgICAgZmluZDogZmluZCwK\nICAgICAgICBnZXQ6IGdldCwKICAgICAgICBzYXZlOiBzYXZlLAogICAgICAg\nIGxvZ2luOiBsb2dpbiwKICAgICAgICBjaGFuZ2VQYXNzd29yZDogY2hhbmdl\nUGFzc3dvcmQsCiAgICAgICAgd2hvQW1JOiB3aG9BbUkKICAgIH07Cn1dKTs=\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/app/js/services/UserService.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/2feab669422770e88341cd2f45d2d38bcd61abbd","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/app/js/services/UserService.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:36 GMT
      ETag:
      - W/"2feab669422770e88341cd2f45d2d38bcd61abbd"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C38A:3DD164:318AE2C:348744A:66E29D87
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4984'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '16'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/lib/utils.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"utils.js","path":"lib/utils.js","sha":"302fb5735331b0df182770155739adb32954c216","size":1285,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/lib/utils.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/lib/utils.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/302fb5735331b0df182770155739adb32954c216","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/lib/utils.js","type":"file","content":"Lypqc2xpbnQgbm9kZTogdHJ1ZSAqLwondXNlIHN0cmljdCc7Cgp2YXIgcGFj\na2FnZUpzb24gPSByZXF1aXJlKCcuLi9wYWNrYWdlLmpzb24nKTsKCmV4cG9y\ndHMucXVlcnlSZXN1bHRUb0pzb24gPSBmdW5jdGlvbihkYXRhLCBzdGF0dXMp\nIHsKICAgIHZhciB3cmFwcGVkRGF0YSA9IHt9OwogICAgaWYgKGRhdGEpIHsK\nICAgICAgICBpZiAoIWRhdGEubGVuZ3RoICYmIGRhdGEuZGF0YVZhbHVlcykg\newogICAgICAgICAgICB3cmFwcGVkRGF0YSA9IGRhdGEuZGF0YVZhbHVlczsK\nICAgICAgICB9IGVsc2UgaWYgKGRhdGEubGVuZ3RoID4gMCkgewogICAgICAg\nICAgICB3cmFwcGVkRGF0YSA9IFtdOwogICAgICAgICAgICBmb3IgKHZhciBp\nPTA7IGk8ZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgd3Jh\ncHBlZERhdGEucHVzaChkYXRhW2ldLmRhdGFWYWx1ZXMgPyBkYXRhW2ldLmRh\ndGFWYWx1ZXMgOiBkYXRhW2ldKTsKICAgICAgICAgICAgfQogICAgICAgIH0g\nZWxzZSB7CiAgICAgICAgICAgIHdyYXBwZWREYXRhID0gZGF0YTsKICAgICAg\nICB9CiAgICB9CiAgICByZXR1cm4gewogICAgICAgIHN0YXR1czogc3RhdHVz\nIHx8ICdzdWNjZXNzJywKICAgICAgICBkYXRhOiB3cmFwcGVkRGF0YQogICAg\nfTsKfTsKCmV4cG9ydHMuc3RhcnRzV2l0aCA9IGZ1bmN0aW9uKHN0ciwgcHJl\nZml4KSB7CiAgICByZXR1cm4gc3RyLmluZGV4T2YocHJlZml4KSA9PT0gMDsK\nfTsKCmV4cG9ydHMuZW5kc1dpdGggPSBmdW5jdGlvbihzdHIsIHN1ZmZpeCkg\newogICAgcmV0dXJuIHN0ci5pbmRleE9mKHN1ZmZpeCwgc3RyLmxlbmd0aCAt\nIHN1ZmZpeC5sZW5ndGgpICE9PSAtMTsKfTsKCmV4cG9ydHMuY29udGFpbnMg\nPSBmdW5jdGlvbihzdHIsIGVsZW1lbnQpIHsKICAgIHJldHVybiBzdHIuaW5k\nZXhPZihlbGVtZW50KSAhPT0gLTE7Cn07CgpleHBvcnRzLnVucXVvdGUgPSBm\ndW5jdGlvbihzdHIpIHsKICAgIGlmIChzdHIgJiYgdGhpcy5zdGFydHNXaXRo\nKHN0ciwgJyInKSAmJiB0aGlzLmVuZHNXaXRoKHN0ciwgJyInKSkgewogICAg\nICAgIHJldHVybiBzdHIuc3Vic3RyaW5nKDEsIHN0ci5sZW5ndGgtMSk7CiAg\nICB9CiAgICBlbHNlIHsKICAgICAgICByZXR1cm4gc3RyOwogICAgfQp9OwoK\nZXhwb3J0cy52ZXJzaW9uID0gZnVuY3Rpb24obW9kdWxlKSB7CiAgICBpZiAo\nbW9kdWxlKSB7CiAgICAgICAgcmV0dXJuIHBhY2thZ2VKc29uLmRlcGVuZGVu\nY2llc1ttb2R1bGVdOwogICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gcGFj\na2FnZUpzb24udmVyc2lvbjsKICAgIH0KfQ==\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/lib/utils.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/302fb5735331b0df182770155739adb32954c216","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/lib/utils.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:36 GMT
      ETag:
      - W/"302fb5735331b0df182770155739adb32954c216"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C38B:8E067:25263F6:277894E:66E29D88
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4983'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '17'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/server.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"server.js","path":"server.js","sha":"e13c374344f225626fb9154bd58e68322a0e3f16","size":30114,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/server.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/server.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/e13c374344f225626fb9154bd58e68322a0e3f16","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/server.js","type":"file","content":"Lypqc2xpbnQgbm9kZTogdHJ1ZSAqLwondXNlIHN0cmljdCc7Cgp2YXIgYXBw\nbGljYXRpb25fcm9vdCA9IF9fZGlybmFtZS5yZXBsYWNlKC9cXC9nLCAnLycp\nLAogICAgZnMgPSByZXF1aXJlKCdmcycpLAogICAgZ2xvYiA9IHJlcXVpcmUo\nJ2dsb2InKSwKICAgIG1vcmdhbiA9IHJlcXVpcmUoJ21vcmdhbicpLAogICAg\nU2VxdWVsaXplID0gcmVxdWlyZSgnc2VxdWVsaXplJyksCiAgICBzZXF1ZWxp\nemUgPSBuZXcgU2VxdWVsaXplKCdkYXRhYmFzZScsICd1c2VybmFtZScsICdw\nYXNzd29yZCcsIHsKICAgICAgICBkaWFsZWN0OiAnc3FsaXRlJywKICAgICAg\nICBzdG9yYWdlOiAnZGF0YS9qdWljZXNob3Auc3FsaXRlJwogICAgfSksCiAg\nICByZXN0ZnVsID0gcmVxdWlyZSgnc2VxdWVsaXplLXJlc3RmdWwnKSwKICAg\nIGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyksCiAgICBlcnJvcmhhbmRs\nZXIgPSByZXF1aXJlKCdlcnJvcmhhbmRsZXInKSwKICAgIGNvb2tpZVBhcnNl\nciA9IHJlcXVpcmUoJ2Nvb2tpZS1wYXJzZXInKSwKICAgIHNlcnZlSW5kZXgg\nPSByZXF1aXJlKCdzZXJ2ZS1pbmRleCcpLAogICAgZmF2aWNvbiA9IHJlcXVp\ncmUoJ3NlcnZlLWZhdmljb24nKSwKICAgIGJvZHlQYXJzZXIgPSByZXF1aXJl\nKCdib2R5LXBhcnNlcicpLAogICAgUERGRG9jdW1lbnQgPSByZXF1aXJlKCdw\nZGZraXQnKSwKICAgIHV0aWxzID0gcmVxdWlyZSgnLi9saWIvdXRpbHMnKSwK\nICAgIGluc2VjdXJpdHkgPSByZXF1aXJlKCcuL2xpYi9pbnNlY3VyaXR5Jyks\nCiAgICBhcHAgPSBleHByZXNzKCk7CgplcnJvcmhhbmRsZXIudGl0bGUgPSAn\nSnVpY2UgU2hvcCAoRXhwcmVzcyAnICsgdXRpbHMudmVyc2lvbignZXhwcmVz\ncycpICsgJyknOwoKLyogRGVsZXRlIG9sZCBvcmRlciBQREZzICovCmdsb2Io\nX19kaXJuYW1lICsgJy9hcHAvcHVibGljL2Z0cC8qLnBkZicsIGZ1bmN0aW9u\nIChlcnIsIGZpbGVzKSB7CiAgICBmaWxlcy5mb3JFYWNoKGZ1bmN0aW9uKGZp\nbGVuYW1lKSB7CiAgICAgICAgZnMudW5saW5rKGZpbGVuYW1lKTsKICAgIH0p\nOwp9KTsKCi8qIERvbWFpbiBNb2RlbCAqLwp2YXIgVXNlciA9IHNlcXVlbGl6\nZS5kZWZpbmUoJ1VzZXInLCB7CiAgICAgICAgZW1haWw6IFNlcXVlbGl6ZS5T\nVFJJTkcsCiAgICAgICAgcGFzc3dvcmQ6IFNlcXVlbGl6ZS5TVFJJTkcKICAg\nIH0sCiAgICB7IGhvb2tzOiB7CiAgICAgICAgYmVmb3JlQ3JlYXRlOiBmdW5j\ndGlvbiAodXNlciwgZm4pIHsKICAgICAgICAgICAgaGFzaFBhc3N3b3JkSG9v\nayh1c2VyKTsKICAgICAgICAgICAgeHNzQ2hhbGxlbmdlVXNlckhvb2sodXNl\ncik7CiAgICAgICAgICAgIGZuKG51bGwsIHVzZXIpOwogICAgICAgIH0sCiAg\nICAgICAgYmVmb3JlVXBkYXRlOiBmdW5jdGlvbiAodXNlciwgZm4pIHsgLy8g\nUGl0ZmFsbDogV2lsbCBoYXNoIHRoZSBoYXNoZWQgcGFzc3dvcmQgYWdhaW4g\naWYgcGFzc3dvcmQgd2FzIG5vdCB1cGRhdGVkIQogICAgICAgICAgICBoYXNo\nUGFzc3dvcmRIb29rKHVzZXIpOwogICAgICAgICAgICBmbihudWxsLCB1c2Vy\nKTsKICAgICAgICB9CiAgICB9fQopOwoKZnVuY3Rpb24gaGFzaFBhc3N3b3Jk\nSG9vayh1c2VyKSB7CiAgICB1c2VyLnBhc3N3b3JkID0gaW5zZWN1cml0eS5o\nYXNoKHVzZXIucGFzc3dvcmQpOwp9CgpmdW5jdGlvbiB4c3NDaGFsbGVuZ2VV\nc2VySG9vayh1c2VyKSB7CiAgICBpZiAobm90U29sdmVkKHBlcnNpc3RlZFhz\nc0NoYWxsZW5nZVVzZXIpICYmIHV0aWxzLmNvbnRhaW5zKHVzZXIuZW1haWws\nICc8c2NyaXB0PmFsZXJ0KCJYU1MyIik8L3NjcmlwdD4nKSkgewogICAgICAg\nIHNvbHZlKHBlcnNpc3RlZFhzc0NoYWxsZW5nZVVzZXIpOwogICAgfQp9Cgp2\nYXIgUHJvZHVjdCA9IHNlcXVlbGl6ZS5kZWZpbmUoJ1Byb2R1Y3QnLCB7CiAg\nICBuYW1lOiBTZXF1ZWxpemUuU1RSSU5HLAogICAgZGVzY3JpcHRpb246IFNl\ncXVlbGl6ZS5TVFJJTkcsCiAgICBwcmljZTogU2VxdWVsaXplLkRFQ0lNQUws\nCiAgICBpbWFnZTogU2VxdWVsaXplLlNUUklORwogICAgfSwKICAgIHsgaG9v\na3M6IHsKICAgICAgICBiZWZvcmVDcmVhdGU6IGZ1bmN0aW9uIChwcm9kdWN0\nLCBmbikgewogICAgICAgICAgICB4c3NDaGFsbGVuZ2VQcm9kdWN0SG9vayhw\ncm9kdWN0KTsKICAgICAgICAgICAgZm4obnVsbCwgcHJvZHVjdCk7CiAgICAg\nICAgfSwKICAgICAgICBiZWZvcmVVcGRhdGU6IGZ1bmN0aW9uIChwcm9kdWN0\nLCBmbikgewogICAgICAgICAgICB4c3NDaGFsbGVuZ2VQcm9kdWN0SG9vayhw\ncm9kdWN0KTsKICAgICAgICAgICAgZm4obnVsbCwgcHJvZHVjdCk7CiAgICAg\nICAgfQogICAgfX0pOwoKZnVuY3Rpb24geHNzQ2hhbGxlbmdlUHJvZHVjdEhv\nb2socHJvZHVjdCkgewogICAgaWYgKG5vdFNvbHZlZChyZXN0ZnVsWHNzQ2hh\nbGxlbmdlKSAmJiB1dGlscy5jb250YWlucyhwcm9kdWN0LmRlc2NyaXB0aW9u\nLCAnPHNjcmlwdD5hbGVydCgiWFNTNCIpPC9zY3JpcHQ+JykpIHsKICAgICAg\nICBzb2x2ZShyZXN0ZnVsWHNzQ2hhbGxlbmdlKTsKICAgIH0KfQoKdmFyIEJh\nc2tldCA9IHNlcXVlbGl6ZS5kZWZpbmUoJ0Jhc2tldCcsIHsKfSk7Cgp2YXIg\nQmFza2V0SXRlbSA9IHNlcXVlbGl6ZS5kZWZpbmUoJ0Jhc2tldEl0ZW1zJywg\newogICAgaWQ6IHsKICAgICAgICB0eXBlOiBTZXF1ZWxpemUuSU5URUdFUiwK\nICAgICAgICBwcmltYXJ5S2V5OiB0cnVlLAogICAgICAgIGF1dG9JbmNyZW1l\nbnQ6IHRydWUKICAgIH0sCiAgICBxdWFudGl0eTogU2VxdWVsaXplLklOVEVH\nRVIKfSk7CgpCYXNrZXQuYmVsb25nc1RvKFVzZXIpOwpCYXNrZXQuaGFzTWFu\neShQcm9kdWN0LCB7dGhyb3VnaDogQmFza2V0SXRlbX0pOwpQcm9kdWN0Lmhh\nc01hbnkoQmFza2V0LCB7dGhyb3VnaDogQmFza2V0SXRlbX0pOwoKdmFyIEZl\nZWRiYWNrID0gc2VxdWVsaXplLmRlZmluZSgnRmVlZGJhY2snLCB7CiAgICBj\nb21tZW50OiBTZXF1ZWxpemUuU1RSSU5HLAogICAgcmF0aW5nOiBTZXF1ZWxp\nemUuSU5URUdFUgogICAgfSwKICAgIHsgaG9va3M6IHsKICAgICAgICBiZWZv\ncmVDcmVhdGU6IGZ1bmN0aW9uIChmZWVkYmFjaywgZm4pIHsKICAgICAgICAg\nICAgaHRtbFNhbml0aXphdGlvbkhvb2soZmVlZGJhY2spOwogICAgICAgICAg\nICBmbihudWxsLCBmZWVkYmFjayk7CiAgICAgICAgfSwKICAgICAgICBiZWZv\ncmVVcGRhdGU6IGZ1bmN0aW9uIChmZWVkYmFjaywgZm4pIHsKICAgICAgICAg\nICAgaHRtbFNhbml0aXphdGlvbkhvb2soZmVlZGJhY2spOwogICAgICAgICAg\nICBmbihudWxsLCBmZWVkYmFjayk7CiAgICAgICAgfQogICAgfX0pOwoKRmVl\nZGJhY2suYmVsb25nc1RvKFVzZXIpOwoKZnVuY3Rpb24gaHRtbFNhbml0aXph\ndGlvbkhvb2soZmVlZGJhY2spIHsKICAgIGZlZWRiYWNrLmNvbW1lbnQgPSBp\nbnNlY3VyaXR5LnNhbml0aXplSHRtbChmZWVkYmFjay5jb21tZW50KTsKICAg\nIGlmIChub3RTb2x2ZWQocGVyc2lzdGVkWHNzQ2hhbGxlbmdlRmVlZGJhY2sp\nICYmIHV0aWxzLmNvbnRhaW5zKGZlZWRiYWNrLmNvbW1lbnQsICc8c2NyaXB0\nPmFsZXJ0KCJYU1MzIik8L3NjcmlwdD4nKSkgewogICAgICAgIHNvbHZlKHBl\ncnNpc3RlZFhzc0NoYWxsZW5nZUZlZWRiYWNrKTsKICAgIH0KfQoKdmFyIENo\nYWxsZW5nZSA9IHNlcXVlbGl6ZS5kZWZpbmUoJ0NoYWxsZW5nZXMnLCB7CiAg\nICBkZXNjcmlwdGlvbjogU2VxdWVsaXplLlNUUklORywKICAgIHNvbHZlZDog\nU2VxdWVsaXplLkJPT0xFQU4KfSk7CgovKiBDaGFsbGVuZ2VzICovCnZhciBy\nZWRpcmVjdENoYWxsZW5nZSwgZWFzdGVyRWdnTGV2ZWxPbmVDaGFsbGVuZ2Us\nIGVhc3RlckVnZ0xldmVsVHdvQ2hhbGxlbmdlLCBkaXJlY3RvcnlMaXN0aW5n\nQ2hhbGxlbmdlLAogICAgbG9naW5BZG1pbkNoYWxsZW5nZSwgbG9naW5KaW1D\naGFsbGVuZ2UsIGxvZ2luQmVuZGVyQ2hhbGxlbmdlLCBjaGFuZ2VQcm9kdWN0\nQ2hhbGxlbmdlLCBjc3JmQ2hhbGxlbmdlLAogICAgZXJyb3JIYW5kbGluZ0No\nYWxsZW5nZSwga25vd25WdWxuZXJhYmxlQ29tcG9uZW50Q2hhbGxlbmdlLCBu\nZWdhdGl2ZU9yZGVyQ2hhbGxlbmdlLCBwZXJzaXN0ZWRYc3NDaGFsbGVuZ2VG\nZWVkYmFjaywKICAgIHBlcnNpc3RlZFhzc0NoYWxsZW5nZVVzZXIsIGxvY2Fs\nWHNzQ2hhbGxlbmdlLCByZXN0ZnVsWHNzQ2hhbGxlbmdlLGJhc2tldENoYWxs\nZW5nZSwgd2Vha1Bhc3N3b3JkQ2hhbGxlbmdlLAogICAgYWRtaW5TZWN0aW9u\nQ2hhbGxlbmdlLCBzY29yZUJvYXJkQ2hhbGxlbmdlLCBmZWVkYmFja0NoYWxs\nZW5nZSwgdW5pb25TcWxJbmplY3Rpb25DaGFsbGVuZ2UsIGZvcmdlZEZlZWRi\nYWNrQ2hhbGxlbmdlOwoKLyogRW50aXRpZXMgcmVsZXZhbnQgZm9yIGNoYWxs\nZW5nZXMgKi8KCnZhciBiZW5kZXIsIG9zYWZ0OwoKLyogRGF0YSAqLwpzZXF1\nZWxpemUuZHJvcCgpOwpzZXF1ZWxpemUuc3luYygpLnN1Y2Nlc3MoZnVuY3Rp\nb24gKCkgewogICAgQ2hhbGxlbmdlLmNyZWF0ZSh7CiAgICAgICAgZGVzY3Jp\ncHRpb246ICdGaW5kIHRoZSBjYXJlZnVsbHkgaGlkZGVuIFwnU2NvcmUgQm9h\ncmRcJyBwYWdlLicsCiAgICAgICAgc29sdmVkOiBmYWxzZQogICAgfSkuc3Vj\nY2VzcyhmdW5jdGlvbihjaGFsbGVuZ2UpIHsKICAgICAgICBzY29yZUJvYXJk\nQ2hhbGxlbmdlID0gY2hhbGxlbmdlOwogICAgfSk7CiAgICBDaGFsbGVuZ2Uu\nY3JlYXRlKHsKICAgICAgICBkZXNjcmlwdGlvbjogJ1Byb3Zva2UgYW4gZXJy\nb3IgdGhhdCBpcyBub3QgdmVyeSBncmFjZWZ1bGx5IGhhbmRsZWQuJywKICAg\nICAgICBzb2x2ZWQ6IGZhbHNlCiAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uKGNo\nYWxsZW5nZSkgewogICAgICAgIGVycm9ySGFuZGxpbmdDaGFsbGVuZ2UgPSBj\naGFsbGVuZ2U7CiAgICB9KTsKICAgIENoYWxsZW5nZS5jcmVhdGUoewogICAg\nICAgIGRlc2NyaXB0aW9uOiAnTG9nIGluIHdpdGggdGhlIGFkbWluaXN0cmF0\nb3JcJ3MgdXNlciBhY2NvdW50LicsCiAgICAgICAgc29sdmVkOiBmYWxzZQog\nICAgfSkuc3VjY2VzcyhmdW5jdGlvbihjaGFsbGVuZ2UpIHsKICAgICAgICBs\nb2dpbkFkbWluQ2hhbGxlbmdlID0gY2hhbGxlbmdlOwogICAgfSk7CiAgICBD\naGFsbGVuZ2UuY3JlYXRlKHsKICAgICAgICBkZXNjcmlwdGlvbjogJ0xvZyBp\nbiB3aXRoIEppbVwncyB1c2VyIGFjY291bnQuJywKICAgICAgICBzb2x2ZWQ6\nIGZhbHNlCiAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uKGNoYWxsZW5nZSkgewog\nICAgICAgIGxvZ2luSmltQ2hhbGxlbmdlID0gY2hhbGxlbmdlOwogICAgfSk7\nCiAgICBDaGFsbGVuZ2UuY3JlYXRlKHsKICAgICAgICBkZXNjcmlwdGlvbjog\nJ0xvZyBpbiB3aXRoIEJlbmRlclwncyB1c2VyIGFjY291bnQuJywKICAgICAg\nICBzb2x2ZWQ6IGZhbHNlCiAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uKGNoYWxs\nZW5nZSkgewogICAgICAgIGxvZ2luQmVuZGVyQ2hhbGxlbmdlID0gY2hhbGxl\nbmdlOwogICAgfSk7CiAgICBDaGFsbGVuZ2UuY3JlYXRlKHsKICAgICAgICBk\nZXNjcmlwdGlvbjogJ1hTUyBUaWVyIDE6IFBlcmZvcm0gYSA8aT5yZWZsZWN0\nZWQ8L2k+IFhTUyBhdHRhY2sgd2l0aCAmbHQ7c2NyaXB0Jmd0O2FsZXJ0KCJY\nU1MxIikmbHQ7L3NjcmlwdCZndDsuJywKICAgICAgICBzb2x2ZWQ6IGZhbHNl\nCiAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uKGNoYWxsZW5nZSkgewogICAgICAg\nIGxvY2FsWHNzQ2hhbGxlbmdlID0gY2hhbGxlbmdlOwogICAgfSk7CiAgICBD\naGFsbGVuZ2UuY3JlYXRlKHsKICAgICAgICBkZXNjcmlwdGlvbjogJ1hTUyBU\naWVyIDI6IFBlcmZvcm0gYSA8aT5wZXJzaXN0ZWQ8L2k+IFhTUyBhdHRhY2sg\nd2l0aCAmbHQ7c2NyaXB0Jmd0O2FsZXJ0KCJYU1MyIikmbHQ7L3NjcmlwdCZn\ndDsgYnlwYXNzaW5nIGEgPGk+Y2xpZW50LXNpZGU8L2k+IHNlY3VyaXR5IG1l\nY2hhbmlzbS4nLAogICAgICAgIHNvbHZlZDogZmFsc2UKICAgIH0pLnN1Y2Nl\nc3MoZnVuY3Rpb24oY2hhbGxlbmdlKSB7CiAgICAgICAgcGVyc2lzdGVkWHNz\nQ2hhbGxlbmdlVXNlciA9IGNoYWxsZW5nZTsKICAgIH0pOwogICAgQ2hhbGxl\nbmdlLmNyZWF0ZSh7CiAgICAgICAgZGVzY3JpcHRpb246ICdYU1MgVGllciAz\nOiBQZXJmb3JtIGEgPGk+cGVyc2lzdGVkPC9pPiBYU1MgYXR0YWNrIHdpdGgg\nJmx0O3NjcmlwdCZndDthbGVydCgiWFNTMyIpJmx0Oy9zY3JpcHQmZ3Q7IGJ5\ncGFzc2luZyBhIDxpPnNlcnZlci1zaWRlPC9pPiBzZWN1cml0eSBtZWNoYW5p\nc20uJywKICAgICAgICBzb2x2ZWQ6IGZhbHNlCiAgICB9KS5zdWNjZXNzKGZ1\nbmN0aW9uKGNoYWxsZW5nZSkgewogICAgICAgIHBlcnNpc3RlZFhzc0NoYWxs\nZW5nZUZlZWRiYWNrID0gY2hhbGxlbmdlOwogICAgfSk7CiAgICBDaGFsbGVu\nZ2UuY3JlYXRlKHsKICAgICAgICBkZXNjcmlwdGlvbjogJ1hTUyBUaWVyIDQ6\nIFBlcmZvcm0gYSA8aT5wZXJzaXN0ZWQ8L2k+IFhTUyBhdHRhY2sgd2l0aCAm\nbHQ7c2NyaXB0Jmd0O2FsZXJ0KCJYU1M0IikmbHQ7L3NjcmlwdCZndDsgd2l0\naG91dCB1c2luZyB0aGUgZnJvbnRlbmQgYXBwbGljYXRpb24gYXQgYWxsLics\nCiAgICAgICAgc29sdmVkOiBmYWxzZQogICAgfSkuc3VjY2VzcyhmdW5jdGlv\nbihjaGFsbGVuZ2UpIHsKICAgICAgICByZXN0ZnVsWHNzQ2hhbGxlbmdlID0g\nY2hhbGxlbmdlOwogICAgfSk7CiAgICBDaGFsbGVuZ2UuY3JlYXRlKHsKICAg\nICAgICBkZXNjcmlwdGlvbjogJ1JldHJpZXZlIGEgbGlzdCBvZiBhbGwgdXNl\nciBjcmVkZW50aWFscyB2aWEgU1FMIEluamVjdGlvbicsCiAgICAgICAgc29s\ndmVkOiBmYWxzZQogICAgfSkuc3VjY2VzcyhmdW5jdGlvbihjaGFsbGVuZ2Up\nIHsKICAgICAgICB1bmlvblNxbEluamVjdGlvbkNoYWxsZW5nZSA9IGNoYWxs\nZW5nZTsKICAgIH0pOwogICAgQ2hhbGxlbmdlLmNyZWF0ZSh7CiAgICAgICAg\nZGVzY3JpcHRpb246ICdMb2cgaW4gd2l0aCB0aGUgYWRtaW5pc3RyYXRvclwn\ncyB1c2VyIGNyZWRlbnRpYWxzIHdpdGhvdXQgcHJldmlvdXNseSBjaGFuZ2lu\nZyB0aGVtIG9yIGFwcGx5aW5nIFNRTCBJbmplY3Rpb24uJywKICAgICAgICBz\nb2x2ZWQ6IGZhbHNlCiAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uKGNoYWxsZW5n\nZSkgewogICAgICAgIHdlYWtQYXNzd29yZENoYWxsZW5nZSA9IGNoYWxsZW5n\nZTsKICAgIH0pOwogICAgQ2hhbGxlbmdlLmNyZWF0ZSh7CiAgICAgICAgZGVz\nY3JpcHRpb246ICdHZXQgcmlkIG9mIGFsbCA1LXN0YXIgY3VzdG9tZXIgZmVl\nZGJhY2suJywKICAgICAgICBzb2x2ZWQ6IGZhbHNlCiAgICB9KS5zdWNjZXNz\nKGZ1bmN0aW9uKGNoYWxsZW5nZSkgewogICAgICAgIGZlZWRiYWNrQ2hhbGxl\nbmdlID0gY2hhbGxlbmdlOwogICAgfSk7CiAgICBDaGFsbGVuZ2UuY3JlYXRl\nKHsKICAgICAgICBkZXNjcmlwdGlvbjogJ1Bvc3Qgc29tZSBmZWVkYmFjayBp\nbiBhbm90aGVyIHVzZXJzIG5hbWUuJywKICAgICAgICBzb2x2ZWQ6IGZhbHNl\nCiAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uKGNoYWxsZW5nZSkgewogICAgICAg\nIGZvcmdlZEZlZWRiYWNrQ2hhbGxlbmdlID0gY2hhbGxlbmdlOwogICAgfSk7\nCiAgICBDaGFsbGVuZ2UuY3JlYXRlKHsKICAgICAgICBkZXNjcmlwdGlvbjog\nJ1doZXJldmVyIHlvdSBnbywgdGhlcmUgeW91IGFyZS4nLAogICAgICAgIHNv\nbHZlZDogZmFsc2UKICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24oY2hhbGxlbmdl\nKSB7CiAgICAgICAgcmVkaXJlY3RDaGFsbGVuZ2UgPSBjaGFsbGVuZ2U7CiAg\nICB9KTsKICAgIENoYWxsZW5nZS5jcmVhdGUoewogICAgICAgIGRlc2NyaXB0\naW9uOiAnQWNjZXNzIHNvbWVvbmUgZWxzZVwncyBiYXNrZXQuJywKICAgICAg\nICBzb2x2ZWQ6IGZhbHNlCiAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uKGNoYWxs\nZW5nZSkgewogICAgICAgIGJhc2tldENoYWxsZW5nZSA9IGNoYWxsZW5nZTsK\nICAgIH0pOwogICAgQ2hhbGxlbmdlLmNyZWF0ZSh7CiAgICAgICAgZGVzY3Jp\ncHRpb246ICdQbGFjZSBhbiBvcmRlciB0aGF0IG1ha2VzIHlvdSByaWNoLics\nCiAgICAgICAgc29sdmVkOiBmYWxzZQogICAgfSkuc3VjY2VzcyhmdW5jdGlv\nbihjaGFsbGVuZ2UpIHsKICAgICAgICBuZWdhdGl2ZU9yZGVyQ2hhbGxlbmdl\nID0gY2hhbGxlbmdlOwogICAgfSk7CiAgICBDaGFsbGVuZ2UuY3JlYXRlKHsK\nICAgICAgICBkZXNjcmlwdGlvbjogJ0FjY2VzcyBhIGNvbmZpZGVudGlhbCBk\nb2N1bWVudC4nLAogICAgICAgIHNvbHZlZDogZmFsc2UKICAgIH0pLnN1Y2Nl\nc3MoZnVuY3Rpb24oY2hhbGxlbmdlKSB7CiAgICAgICAgZGlyZWN0b3J5TGlz\ndGluZ0NoYWxsZW5nZSA9IGNoYWxsZW5nZTsKICAgIH0pOwogICAgQ2hhbGxl\nbmdlLmNyZWF0ZSh7CiAgICAgICAgZGVzY3JpcHRpb246ICdBY2Nlc3MgdGhl\nIGFkbWluaXN0cmF0aW9uIHNlY3Rpb24gb2YgdGhlIHN0b3JlLicsCiAgICAg\nICAgc29sdmVkOiBmYWxzZQogICAgfSkuc3VjY2VzcyhmdW5jdGlvbihjaGFs\nbGVuZ2UpIHsKICAgICAgICBhZG1pblNlY3Rpb25DaGFsbGVuZ2UgPSBjaGFs\nbGVuZ2U7CiAgICB9KTsKICAgIENoYWxsZW5nZS5jcmVhdGUoewogICAgICAg\nIGRlc2NyaXB0aW9uOiAnQ2hhbmdlIEJlbmRlclwncyBwYXNzd29yZCBpbnRv\nIDxpPnNsdXJtQ2w0c3NpYzwvaT4uJyAsCiAgICAgICAgc29sdmVkOiBmYWxz\nZQogICAgfSkuc3VjY2VzcyhmdW5jdGlvbihjaGFsbGVuZ2UpIHsKICAgICAg\nICBjc3JmQ2hhbGxlbmdlID0gY2hhbGxlbmdlOwogICAgfSk7CiAgICBDaGFs\nbGVuZ2UuY3JlYXRlKHsKICAgICAgICBkZXNjcmlwdGlvbjogJ0NoYW5nZSB0\naGUgbGluayBpbiB0aGUgZGVzY3JpcHRpb24gb2YgdGhlIDxhIGhyZWY9Ii8j\nL3NlYXJjaD9xPU8tU2FmdCI+Ty1TYWZ0IHByb2R1Y3Q8L2E+IHRvIDxpPmh0\ndHA6Ly9raW1taW5pY2guZGU8L2k+LicsCiAgICAgICAgc29sdmVkOiBmYWxz\nZQogICAgfSkuc3VjY2VzcyhmdW5jdGlvbihjaGFsbGVuZ2UpIHsKICAgICAg\nICBjaGFuZ2VQcm9kdWN0Q2hhbGxlbmdlID0gY2hhbGxlbmdlOwogICAgfSk7\nCiAgICBDaGFsbGVuZ2UuY3JlYXRlKHsKICAgICAgICBkZXNjcmlwdGlvbjog\nJzxhIGhyZWY9Ii8jL2NvbnRhY3QiPkluZm9ybSB0aGUgc2hvcDwvYT4gYWJv\ndXQgYSB2dWxuZXJhYmxlIGxpYnJhcnkgaXQgaXMgdXNpbmcuIChNZW50aW9u\nIHRoZSBleGFjdCBsaWJyYXJ5IG5hbWUgYW5kIHZlcnNpb24gaW4geW91ciBj\nb21wbGFpbnQuKScsCiAgICAgICAgc29sdmVkOiBmYWxzZQogICAgfSkuc3Vj\nY2VzcyhmdW5jdGlvbihjaGFsbGVuZ2UpIHsKICAgICAgICBrbm93blZ1bG5l\ncmFibGVDb21wb25lbnRDaGFsbGVuZ2UgPSBjaGFsbGVuZ2U7CiAgICB9KTsK\nICAgIENoYWxsZW5nZS5jcmVhdGUoewogICAgICAgIGRlc2NyaXB0aW9uOiAn\nRmluZCB0aGUgaGlkZGVuIDxhIGhyZWY9Imh0dHA6Ly9lbi53aWtpcGVkaWEu\nb3JnL3dpa2kvRWFzdGVyX2VnZ18obWVkaWEpIiB0YXJnZXQ9Il9ibGFuayI+\nZWFzdGVyIGVnZzwvYT4uJywKICAgICAgICBzb2x2ZWQ6IGZhbHNlCiAgICB9\nKS5zdWNjZXNzKGZ1bmN0aW9uKGNoYWxsZW5nZSkgewogICAgICAgIGVhc3Rl\nckVnZ0xldmVsT25lQ2hhbGxlbmdlID0gY2hhbGxlbmdlOwogICAgfSk7CiAg\nICBDaGFsbGVuZ2UuY3JlYXRlKHsKICAgICAgICBkZXNjcmlwdGlvbjogJ0Fw\ncGx5IHNvbWUgYWR2YW5jZWQgY3J5cHRhbmFseXNpcyB0byBmaW5kIDxpPnRo\nZSByZWFsPC9pPiBlYXN0ZXIgZWdnLicsCiAgICAgICAgc29sdmVkOiBmYWxz\nZQogICAgfSkuc3VjY2VzcyhmdW5jdGlvbihjaGFsbGVuZ2UpIHsKICAgICAg\nICBlYXN0ZXJFZ2dMZXZlbFR3b0NoYWxsZW5nZSA9IGNoYWxsZW5nZTsKICAg\nIH0pOwogICAgVXNlci5jcmVhdGUoewogICAgICAgIGVtYWlsOiAnYWRtaW5A\nanVpY2Utc2gub3AnLAogICAgICAgIHBhc3N3b3JkOiAnYWRtaW4xMjMnCiAg\nICB9KTsKICAgIFVzZXIuY3JlYXRlKHsKICAgICAgICBlbWFpbDogJ2ppbUBq\ndWljZS1zaC5vcCcsCiAgICAgICAgcGFzc3dvcmQ6ICduY2MtMTcwMScKICAg\nIH0pOwogICAgVXNlci5jcmVhdGUoewogICAgICAgIGVtYWlsOiAnYmVuZGVy\nQGp1aWNlLXNoLm9wJywKICAgICAgICBwYXNzd29yZDogJ2Jvb3plJwogICAg\nfSkuc3VjY2VzcyhmdW5jdGlvbih1c2VyKSB7CiAgICAgICAgYmVuZGVyID0g\ndXNlcjsKICAgIH0pOwogICAgUHJvZHVjdC5jcmVhdGUoewogICAgICAgIG5h\nbWU6ICdBcHBsZSBKdWljZSAoMTAwMG1sKScsCiAgICAgICAgZGVzY3JpcHRp\nb246ICdUaGUgYWxsLXRpbWUgY2xhc3NpYy4nLAogICAgICAgIHByaWNlOiAx\nLjk5LAogICAgICAgIGltYWdlOiAnYXBwbGVfanVpY2UuanBnJwogICAgfSk7\nCiAgICBQcm9kdWN0LmNyZWF0ZSh7CiAgICAgICAgbmFtZTogJ09yYW5nZSBK\ndWljZSAoMTAwMG1sKScsCiAgICAgICAgZGVzY3JpcHRpb246ICdNYWRlIGZy\nb20gb3JhbmdlcyBoYW5kLXBpY2tlZCBieSBVbmNsZSBEaXR0bWV5ZXIuJywK\nICAgICAgICBwcmljZTogMi45OSwKICAgICAgICBpbWFnZTogJ29yYW5nZV9q\ndWljZS5qcGcnCiAgICB9KTsKICAgIFByb2R1Y3QuY3JlYXRlKHsKICAgICAg\nICBuYW1lOiAnRWdnZnJ1aXQgSnVpY2UgKDUwMG1sKScsCiAgICAgICAgZGVz\nY3JpcHRpb246ICdOb3cgd2l0aCBldmVuIG1vcmUgZXhvdGljIGZsYXZvdXIu\nJywKICAgICAgICBwcmljZTogOC45OSwKICAgICAgICBpbWFnZTogJ2VnZ2Zy\ndWl0X2p1aWNlLmpwZycKICAgIH0pOwogICAgUHJvZHVjdC5jcmVhdGUoewog\nICAgICAgIG5hbWU6ICdSYXNwYmVycnkgSnVpY2UgKDEwMDBtbCknLAogICAg\nICAgIGRlc2NyaXB0aW9uOiAnTWFkZSBmcm9tIGJsZW5kZWQgUmFzcGJlcnJ5\nIFBpLCB3YXRlciBhbmQgc3VnYXIuJywKICAgICAgICBwcmljZTogNC45OSwK\nICAgICAgICBpbWFnZTogJ3Jhc3BiZXJyeV9qdWljZS5qcGcnCiAgICB9KTsK\nICAgIFByb2R1Y3QuY3JlYXRlKHsKICAgICAgICBuYW1lOiAnTGVtb24gSnVp\nY2UgKDUwMG1sKScsCiAgICAgICAgZGVzY3JpcHRpb246ICdTb3VyIGJ1dCBm\ndWxsIG9mIHZpdGFtaW5zLicsCiAgICAgICAgcHJpY2U6IDIuOTksCiAgICAg\nICAgaW1hZ2U6ICdsZW1vbl9qdWljZS5qcGcnCiAgICB9KTsKICAgIFByb2R1\nY3QuY3JlYXRlKHsKICAgICAgICBuYW1lOiAnQmFuYW5hIEp1aWNlICgxMDAw\nbWwpJywKICAgICAgICBkZXNjcmlwdGlvbjogJ01vbmtleXMgbG92ZSBpdCB0\naGUgbW9zdC4nLAogICAgICAgIHByaWNlOiAxLjk5LAogICAgICAgIGltYWdl\nOiAnYmFuYW5hX2p1aWNlLmpwZycKICAgIH0pOwogICAgUHJvZHVjdC5jcmVh\ndGUoewogICAgICAgIG5hbWU6ICdMZW1vbiBKdWljZSAoNTAwbWwpJywKICAg\nICAgICBkZXNjcmlwdGlvbjogJ1NvdXIgYnV0IGZ1bGwgb2Ygdml0YW1pbnMu\nJywKICAgICAgICBwcmljZTogMi45OSwKICAgICAgICBpbWFnZTogJ2xlbW9u\nX2p1aWNlLmpwZycKICAgIH0pOwogICAgUHJvZHVjdC5jcmVhdGUoewogICAg\nICAgIG5hbWU6ICdKdWljZSBTaG9wIFQtU2hpcnQgKDNYTCknLAogICAgICAg\nIGRlc2NyaXB0aW9uOiAnUmVhbCBmYW5zIHdlYXIgaXQgMjQvNyEnLAogICAg\nICAgIHByaWNlOiAyNC45OSwKICAgICAgICBpbWFnZTogJ2Zhbl9zaGlydC5q\ncGcnCiAgICB9KTsKICAgIFByb2R1Y3QuY3JlYXRlKHsKICAgICAgICBuYW1l\nOiAnT1dBU1AgU1NMIEFkdmFuY2VkIEZvcmVuc2ljIFRvb2wgKE8tU2FmdCkn\nLAogICAgICAgIGRlc2NyaXB0aW9uOiAnTy1TYWZ0IGlzIGFuIGVhc3kgdG8g\ndXNlIHRvb2wgdG8gc2hvdyBpbmZvcm1hdGlvbiBhYm91dCBTU0wgY2VydGlm\naWNhdGUgYW5kIHRlc3RzIHRoZSBTU0wgY29ubmVjdGlvbiBhY2NvcmRpbmcg\nZ2l2ZW4gbGlzdCBvZiBjaXBoZXJzIGFuZCB2YXJpb3VzIFNTTCBjb25maWd1\ncmF0aW9ucy4gPGEgaHJlZj0iaHR0cHM6Ly93d3cub3dhc3Aub3JnL2luZGV4\nLnBocC9PLVNhZnQiIHRhcmdldD0iX2JsYW5rIj5Nb3JlLi4uPC9hPicsCiAg\nICAgICAgcHJpY2U6IDAuMDEsCiAgICAgICAgaW1hZ2U6ICdvd2FzcF9vc2Fm\ndC5qcGcnCiAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uKHByb2R1Y3QpIHsKICAg\nICAgICBvc2FmdCA9IHByb2R1Y3Q7CiAgICB9KTsKICAgIEJhc2tldC5jcmVh\ndGUoewogICAgICAgIFVzZXJJZDogMQogICAgfSk7CiAgICBCYXNrZXQuY3Jl\nYXRlKHsKICAgICAgICBVc2VySWQ6IDIKICAgIH0pOwogICAgQmFza2V0LmNy\nZWF0ZSh7CiAgICAgICAgVXNlcklkOiAzCiAgICB9KTsKICAgIEJhc2tldEl0\nZW0uY3JlYXRlKHsKICAgICAgICBCYXNrZXRJZDogMSwKICAgICAgICBQcm9k\ndWN0SWQ6IDEsCiAgICAgICAgcXVhbnRpdHk6IDIKICAgIH0pOwogICAgQmFz\na2V0SXRlbS5jcmVhdGUoewogICAgICAgIEJhc2tldElkOiAxLAogICAgICAg\nIFByb2R1Y3RJZDogMiwKICAgICAgICBxdWFudGl0eTogMwogICAgfSk7CiAg\nICBCYXNrZXRJdGVtLmNyZWF0ZSh7CiAgICAgICAgQmFza2V0SWQ6IDEsCiAg\nICAgICAgUHJvZHVjdElkOiAzLAogICAgICAgIHF1YW50aXR5OiAxCiAgICB9\nKTsKICAgIEJhc2tldEl0ZW0uY3JlYXRlKHsKICAgICAgICBCYXNrZXRJZDog\nMiwKICAgICAgICBQcm9kdWN0SWQ6IDQsCiAgICAgICAgcXVhbnRpdHk6IDIK\nICAgIH0pOwogICAgQmFza2V0SXRlbS5jcmVhdGUoewogICAgICAgIEJhc2tl\ndElkOiAzLAogICAgICAgIFByb2R1Y3RJZDogNSwKICAgICAgICBxdWFudGl0\neTogMQogICAgfSk7CiAgICBGZWVkYmFjay5jcmVhdGUoewogICAgICAgIFVz\nZXJJZDogMSwKICAgICAgICBjb21tZW50OiAnSSBsb3ZlIHRoaXMgc2hvcCEg\nQmVzdCBqdWljZSBpbiB0b3duISBIaWdobHkgcmVjb21tZW5kZWQhJywKICAg\nICAgICByYXRpbmc6IDUKICAgIH0pOwogICAgRmVlZGJhY2suY3JlYXRlKHsK\nICAgICAgICBVc2VySWQ6IDIsCiAgICAgICAgY29tbWVudDogJ0dyZWF0IHNo\nb3AhIFRoZSBPLVNhZnQgaXMgaGlnaGx5IHJlY29tbWVuZGVkIScsCiAgICAg\nICAgcmF0aW5nOiA0CiAgICB9KTsKICAgIEZlZWRiYWNrLmNyZWF0ZSh7CiAg\nICAgICAgY29tbWVudDogJ1doeSBpc25cJ3QgdGhlcmUgYSBULVNoaXJ0IGZv\nciBza2lubnkgcGVvcGxlIGF2YWlsYWJsZT8hJywKICAgICAgICByYXRpbmc6\nIDIKICAgIH0pOwogICAgRmVlZGJhY2suY3JlYXRlKHsKICAgICAgICBjb21t\nZW50OiAnVGhpcyBpcyA8Yj50aGU8L2I+IHN0b3JlIGZvciBqdWljZXMgb2Yg\nYWxsIGtpbmRzIScsCiAgICAgICAgcmF0aW5nOiA0CiAgICB9KTsKICAgIEZl\nZWRiYWNrLmNyZWF0ZSh7CiAgICAgICAgY29tbWVudDogJ05ldmVyIGdvbm5h\nIGJ1eSBteSBqdWljZSBhbnl3aGVyZSBlbHNlIGZyb20gbm93IG9uISBUaGFu\na3MgZm9yIHRoZSBncmVhdCBzZXJ2aWNlIScsCiAgICAgICAgcmF0aW5nOiA0\nCiAgICB9KTsKICAgIEZlZWRiYWNrLmNyZWF0ZSh7CiAgICAgICAgY29tbWVu\ndDogJ0tlZXAgdXAgdGhlIGdvb2Qgd29yayEnLAogICAgICAgIHJhdGluZzog\nMwogICAgfSk7CiAgICBGZWVkYmFjay5jcmVhdGUoewogICAgICAgIFVzZXJJ\nZDogMywKICAgICAgICBjb21tZW50OiAnTm8gcmVhbCBkcmlua3MgYXZhaWxh\nYmxlIGhlcmUhJywKICAgICAgICByYXRpbmc6IDEKICAgIH0pOwp9KTsKCi8q\nIEZhdmljb24gKi8KYXBwLnVzZShmYXZpY29uKF9fZGlybmFtZSArICcvYXBw\nL3B1YmxpYy9mYXZpY29uLmljbycpKTsKCi8qIENoZWNrcyBmb3Igc29sdmVk\nIGNoYWxsZW5nZXMgKi8KYXBwLnVzZSh2ZXJpZnlEYXRhYmFzZVJlbGF0ZWRD\naGFsbGVuZ2VzKCkpOwphcHAudXNlKCcvcHVibGljL2ltYWdlcy90cmFja2lu\nZycsIHZlcmlmeUFjY2Vzc0NvbnRyb2xDaGFsbGVuZ2VzKCkpOwoKLyogcHVi\nbGljL2Z0cCBkaXJlY3RvcnkgYnJvd3NpbmcgYW5kIGZpbGUgZG93bmxvYWQg\nKi8KYXBwLnVzZSgnL3B1YmxpYy9mdHAnLCBzZXJ2ZUluZGV4KCdhcHAvcHVi\nbGljL2Z0cCcsIHsnaWNvbnMnOiB0cnVlfSkpOwphcHAudXNlKCcvcHVibGlj\nL2Z0cC86ZmlsZScsIHNlcnZlRmlsZXMoKSk7CgphcHAudXNlKGV4cHJlc3Mu\nc3RhdGljKGFwcGxpY2F0aW9uX3Jvb3QgKyAnL2FwcCcpKTsKYXBwLnVzZSht\nb3JnYW4oJ2RldicpKTsKYXBwLnVzZShjb29raWVQYXJzZXIoJ2tla3NlJykp\nOwphcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTsKCi8qIEF1dGhvcml6YXRp\nb24gKi8KLyogQmFza2V0czogVW5hdXRob3JpemVkIHVzZXJzIGFyZSBub3Qg\nYWxsb3dlZCB0byBhY2Nlc3MgYmFza2V0cyAqLwphcHAudXNlKCcvcmVzdC9i\nYXNrZXQnLCBpbnNlY3VyaXR5LmlzQXV0aG9yaXplZCgpKTsKLyogQmFza2V0\nSXRlbXM6IEFQSSBvbmx5IGFjY2Vzc2libGUgZm9yIGF1dGhlbnRpY2F0ZWQg\ndXNlcnMgKi8KYXBwLnVzZSgnL2FwaS9CYXNrZXRJdGVtcycsIGluc2VjdXJp\ndHkuaXNBdXRob3JpemVkKCkpOwphcHAudXNlKCcvYXBpL0Jhc2tldEl0ZW1z\nLzppZCcsIGluc2VjdXJpdHkuaXNBdXRob3JpemVkKCkpOwovKiBGZWVkYmFj\na3M6IEdFVCBhbGxvd2VkIGZvciBmZWVkYmFjayBjYXJvdXNlbCwgUE9TVCBh\nbGxvd2VkIGluIG9yZGVyIHRvIHByb3ZpZGUgZmVlZGJhY2sgd2l0aG91dCBi\nZWluZyBsb2dnZWQgaW4gKi8KYXBwLnVzZSgnL2FwaS9GZWVkYmFja3MvOmlk\nJywgaW5zZWN1cml0eS5pc0F1dGhvcml6ZWQoKSk7Ci8qIFVzZXJzOiBPbmx5\nIFBPU1QgaXMgYWxsb3dlZCBpbiBvcmRlciB0byByZWdpc3RlciBhIG5ldyB1\nZXIgKi8KYXBwLmdldCgnL2FwaS9Vc2VycycsIGluc2VjdXJpdHkuaXNBdXRo\nb3JpemVkKCkpOwphcHAuZ2V0KCcvYXBpL1VzZXJzLzppZCcsIGluc2VjdXJp\ndHkuaXNBdXRob3JpemVkKCkpOwphcHAucHV0KCcvYXBpL1VzZXJzLzppZCcs\nIGluc2VjdXJpdHkuaXNBdXRob3JpemVkKCkpOwphcHAuZGVsZXRlKCcvYXBp\nL1VzZXJzLzppZCcsIGluc2VjdXJpdHkuZGVueUFsbCgpKTsgLy8gRGVsZXRp\nbmcgdXNlcnMgaXMgZm9yYmlkZGVuIGVudGlyZWx5IHRvIGtlZXAgbG9naW4g\nY2hhbGxlbmdlcyBzb2x2YWJsZQovKiBQcm9kdWN0czogT25seSBHRVQgaXMg\nYWxsb3dlZCBpbiBvcmRlciB0byB2aWV3IHByb2R1Y3RzICovCmFwcC5wb3N0\nKCcvYXBpL1Byb2R1Y3RzJywgaW5zZWN1cml0eS5pc0F1dGhvcml6ZWQoKSk7\nCi8vYXBwLnB1dCgnL2FwaS9Qcm9kdWN0cy86aWQnLCBpbnNlY3VyaXR5Lmlz\nQXV0aG9yaXplZCgpKTsgLy8gPSBtaXNzaW5nIGZ1bmN0aW9uLWxldmVsIGFj\nY2VzcyBjb250cm9sIHZ1bG5lcmFiaWxpdHkKYXBwLmRlbGV0ZSgnL2FwaS9Q\ncm9kdWN0cy86aWQnLCBpbnNlY3VyaXR5LmRlbnlBbGwoKSk7IC8vIERlbGV0\naW5nIHByb2R1Y3RzIGlzIGZvcmJpZGRlbiBlbnRpcmVseSB0byBrZWVwIHRo\nZSBPLVNhZnQgdXJsLWNoYW5nZSBjaGFsbGVuZ2Ugc29sdmFibGUKLyogQ2hh\nbGxlbmdlczogR0VUIGxpc3Qgb2YgY2hhbGxlbmdlcyBhbGxvd2VkLiBFdmVy\neXRoaW5nIGVsc2UgZm9yYmlkZGVuIGluZGVwZW5kZW50IG9mIGF1dGhvcml6\nYXRpb24gKGhlbmNlIHRoZSByYW5kb20gc2VjcmV0KSAqLwphcHAucG9zdCgn\nL2FwaS9DaGFsbGVuZ2VzJywgaW5zZWN1cml0eS5kZW55QWxsKCkpOwphcHAu\ndXNlKCcvYXBpL0NoYWxsZW5nZXMvOmlkJywgaW5zZWN1cml0eS5kZW55QWxs\nKCkpOwovKiBSRVNUIEFQSSAqLwphcHAudXNlKCcvcmVzdC91c2VyL2F1dGhl\nbnRpY2F0aW9uLWRldGFpbHMnLCBpbnNlY3VyaXR5LmlzQXV0aG9yaXplZCgp\nKTsKYXBwLnVzZSgnL3Jlc3QvYmFza2V0LzppZCcsIGluc2VjdXJpdHkuaXNB\ndXRob3JpemVkKCkpOwphcHAudXNlKCcvcmVzdC9iYXNrZXQvOmlkL29yZGVy\nJywgaW5zZWN1cml0eS5pc0F1dGhvcml6ZWQoKSk7CgovKiBDaGFsbGVuZ2Ug\nZXZhbHVhdGlvbiBiZWZvcmUgc2VxdWVsaXplLXJlc3RmdWwgdGFrZXMgb3Zl\nciAqLwphcHAucG9zdCgnL2FwaS9GZWVkYmFja3MnLCB2ZXJpZnlGb3JnZWRG\nZWVkYmFja0NoYWxsZW5nZSgpKTsKCi8qIFNlcXVlbGl6ZSBSZXN0ZnVsIEFQ\nSXMgKi8KYXBwLnVzZShyZXN0ZnVsKHNlcXVlbGl6ZSwgeyBlbmRwb2ludDog\nJy9hcGknLCBhbGxvd2VkOiBbJ1VzZXJzJywgJ1Byb2R1Y3RzJywgJ0ZlZWRi\nYWNrcycsICdCYXNrZXRJdGVtcycsICdDaGFsbGVuZ2VzJ10gfSkpOwovKiBD\ndXN0b20gUmVzdGZ1bCBBUEkgKi8KYXBwLnBvc3QoJy9yZXN0L3VzZXIvbG9n\naW4nLCBsb2dpblVzZXIoKSk7CmFwcC5nZXQoJy9yZXN0L3VzZXIvY2hhbmdl\nLXBhc3N3b3JkJywgY2hhbmdlUGFzc3dvcmQoKSk7CmFwcC5nZXQoJy9yZXN0\nL3VzZXIvYXV0aGVudGljYXRpb24tZGV0YWlscycsIHJldHJpZXZlVXNlckxp\nc3QoKSk7CmFwcC5nZXQoJy9yZXN0L3VzZXIvd2hvYW1pJywgcmV0cmlldmVM\nb2dnZWRJblVzZXJzSWQoKSk7CmFwcC5nZXQoJy9yZXN0L3Byb2R1Y3Qvc2Vh\ncmNoJywgc2VhcmNoUHJvZHVjdHMoKSk7CmFwcC5nZXQoJy9yZXN0L2Jhc2tl\ndC86aWQnLCByZXRyaWV2ZUJhc2tldCgpKTsKYXBwLnBvc3QoJy9yZXN0L2Jh\nc2tldC86aWQvb3JkZXInLCBjcmVhdGVPcmRlclBkZigpKTsKYXBwLmdldCgn\nL3Jlc3QvYWRtaW4vYXBwbGljYXRpb24tdmVyc2lvbicsIHJldHJpZXZlQXBw\nVmVyc2lvbigpKTsKYXBwLmdldCgnL3JlZGlyZWN0JywgcGVyZm9ybVJlZGly\nZWN0KCkpOwovKiBGaWxlIFNlcnZpbmcgKi8KYXBwLmdldCgnL3RoZS9kZXZz\nL2FyZS9zby9mdW5ueS90aGV5L2hpZC9hbi9lYXN0ZXIvZWdnL3dpdGhpbi90\naGUvZWFzdGVyL2VnZycsIHNlcnZlRWFzdGVyRWdnKCkpOwphcHAudXNlKHNl\ncnZlQW5ndWxhckNsaWVudCgpKTsKLyogRXJyb3IgSGFuZGxpbmcgKi8KYXBw\nLnVzZSh2ZXJpZnlFcnJvckhhbmRsaW5nQ2hhbGxlbmdlKCkpOwphcHAudXNl\nKGVycm9yaGFuZGxlcigpKTsKCmV4cG9ydHMuc3RhcnQgPSBmdW5jdGlvbiAo\nY29uZmlnLCByZWFkeUNhbGxiYWNrKSB7CiAgICBpZiAoIXRoaXMuc2VydmVy\nKSB7CiAgICAgICAgdGhpcy5zZXJ2ZXIgPSBhcHAubGlzdGVuKGNvbmZpZy5w\nb3J0LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdM\naXN0ZW5pbmcgb24gcG9ydCAlZCcsIGNvbmZpZy5wb3J0KTsKICAgICAgICAg\nICAgLy8gY2FsbGJhY2sgdG8gY2FsbCB3aGVuIHRoZSBzZXJ2ZXIgaXMgcmVh\nZHkKICAgICAgICAgICAgaWYgKHJlYWR5Q2FsbGJhY2spIHsKICAgICAgICAg\nICAgICAgIHJlYWR5Q2FsbGJhY2soKTsKICAgICAgICAgICAgfQogICAgICAg\nIH0pOwogICAgfQp9OwoKZXhwb3J0cy5jbG9zZSA9IGZ1bmN0aW9uIChleGl0\nQ29kZSkgewogICAgdGhpcy5zZXJ2ZXIuY2xvc2UoKTsKICAgIGlmIChleGl0\nQ29kZSAmJiBleGl0Q29kZSAhPT0gMCkgewogICAgICAgIHByb2Nlc3MuZXhp\ndChleGl0Q29kZSk7CiAgICB9Cn07CgpmdW5jdGlvbiB2ZXJpZnlGb3JnZWRG\nZWVkYmFja0NoYWxsZW5nZSgpIHsKICAgIHJldHVybiBmdW5jdGlvbihyZXEs\nIHJlcywgbmV4dCkgewogICAgICAgIGlmIChub3RTb2x2ZWQoZm9yZ2VkRmVl\nZGJhY2tDaGFsbGVuZ2UpKSB7CiAgICAgICAgICAgIHZhciB1c2VyID0gaW5z\nZWN1cml0eS5hdXRoZW50aWNhdGVkVXNlcnMuZnJvbShyZXEpOwogICAgICAg\nICAgICB2YXIgdXNlcklkID0gdXNlciA/IHVzZXIuZGF0YS5pZCA6IHVuZGVm\naW5lZDsKICAgICAgICAgICAgaWYgKHJlcS5ib2R5LlVzZXJJZCAmJiByZXEu\nYm9keS5Vc2VySWQgIT0gdXNlcklkKSB7CiAgICAgICAgICAgICAgICBzb2x2\nZShmb3JnZWRGZWVkYmFja0NoYWxsZW5nZSk7CiAgICAgICAgICAgIH0KICAg\nICAgICB9CiAgICAgICAgbmV4dCgpOwogICAgfQp9CgpmdW5jdGlvbiB2ZXJp\nZnlBY2Nlc3NDb250cm9sQ2hhbGxlbmdlcygpIHsKICAgIHJldHVybiBmdW5j\ndGlvbiAocmVxLCByZXMsIG5leHQpIHsKICAgICAgICBpZiAobm90U29sdmVk\nKHNjb3JlQm9hcmRDaGFsbGVuZ2UpICYmIHV0aWxzLmVuZHNXaXRoKHJlcS51\ncmwsICcvc2NvcmVib2FyZC5wbmcnKSkgewogICAgICAgICAgICBzb2x2ZShz\nY29yZUJvYXJkQ2hhbGxlbmdlKTsKICAgICAgICB9IGVsc2UgaWYgKG5vdFNv\nbHZlZChhZG1pblNlY3Rpb25DaGFsbGVuZ2UpICYmIHV0aWxzLmVuZHNXaXRo\nKHJlcS51cmwsICcvYWRtaW5pc3RyYXRpb24ucG5nJykpIHsKICAgICAgICAg\nICAgc29sdmUoYWRtaW5TZWN0aW9uQ2hhbGxlbmdlKTsKICAgICAgICB9CiAg\nICAgICAgbmV4dCgpOwogICAgfTsKfQoKZnVuY3Rpb24gcmV0cmlldmVMb2dn\nZWRJblVzZXJzSWQoKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKHJlcSwgcmVz\nKSB7CiAgICAgICAgdmFyIHVzZXIgPSBpbnNlY3VyaXR5LmF1dGhlbnRpY2F0\nZWRVc2Vycy5mcm9tKHJlcSk7CiAgICAgICAgcmVzLmpzb24oe2lkOiAodXNl\nciA/IHVzZXIuZGF0YS5pZCA6IHVuZGVmaW5lZCksIGVtYWlsOiAodXNlciA/\nIHVzZXIuZGF0YS5lbWFpbCA6IHVuZGVmaW5lZCl9KTsKICAgIH07Cn0KCmZ1\nbmN0aW9uIHJldHJpZXZlQXBwVmVyc2lvbigpIHsKICAgIHJldHVybiBmdW5j\ndGlvbiAocmVxLCByZXMpIHsKICAgICAgICByZXMuanNvbih7dmVyc2lvbjog\ndXRpbHMudmVyc2lvbigpfSk7CiAgICB9Owp9CgpmdW5jdGlvbiBzZXJ2ZUFu\nZ3VsYXJDbGllbnQoKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKHJlcSwgcmVz\nLCBuZXh0KSB7CiAgICAgICAgaWYgKCF1dGlscy5zdGFydHNXaXRoKHJlcS51\ncmwsICcvYXBpJykgJiYgIXV0aWxzLnN0YXJ0c1dpdGgocmVxLnVybCwgJy9y\nZXN0JykpIHsKICAgICAgICAgICAgcmVzLnNlbmRGaWxlKF9fZGlybmFtZSAr\nICcvYXBwL2luZGV4Lmh0bWwnKTsKICAgICAgICB9IGVsc2UgewogICAgICAg\nICAgICBuZXh0KG5ldyBFcnJvcignVW5leHBlY3RlZCBwYXRoOiAnICsgcmVx\nLnVybCkpOwogICAgICAgIH0KICAgIH07Cn0KCmZ1bmN0aW9uIHZlcmlmeUVy\ncm9ySGFuZGxpbmdDaGFsbGVuZ2UoKSB7CiAgICByZXR1cm4gZnVuY3Rpb24g\nKGVyciwgcmVxLCByZXMsIG5leHQpIHsKICAgICAgICBpZiAobm90U29sdmVk\nKGVycm9ySGFuZGxpbmdDaGFsbGVuZ2UpICYmIGVyciAmJiByZXMuc3RhdHVz\nQ29kZSA+IDQwMSkgewogICAgICAgICAgICBzb2x2ZShlcnJvckhhbmRsaW5n\nQ2hhbGxlbmdlKTsKICAgICAgICB9CiAgICAgICAgbmV4dChlcnIpOwogICAg\nfTsKfQoKZnVuY3Rpb24gc2VydmVFYXN0ZXJFZ2coKSB7CiAgICByZXR1cm4g\nZnVuY3Rpb24gKHJlcSwgcmVzKSB7CiAgICAgICAgaWYgKG5vdFNvbHZlZChl\nYXN0ZXJFZ2dMZXZlbFR3b0NoYWxsZW5nZSkpIHsKICAgICAgICAgICAgc29s\ndmUoZWFzdGVyRWdnTGV2ZWxUd29DaGFsbGVuZ2UpOwogICAgICAgIH0KICAg\nICAgICByZXMuc2VuZEZpbGUoX19kaXJuYW1lICsgJy9hcHAvcHJpdmF0ZS90\naHJlZWpzLWRlbW8uaHRtbCcpOwogICAgfTsKfQoKZnVuY3Rpb24gcGVyZm9y\nbVJlZGlyZWN0KCkgewogICAgcmV0dXJuIGZ1bmN0aW9uKHJlcSwgcmVzKSB7\nCiAgICAgICAgdmFyIHRvID0gcmVxLnF1ZXJ5LnRvOwogICAgICAgIHZhciBn\naXRodWJVcmwgPSAnaHR0cHM6Ly9naXRodWIuY29tL2JraW1taW5pY2gvanVp\nY2Utc2hvcCc7CiAgICAgICAgaWYgKHRvLmluZGV4T2YoZ2l0aHViVXJsKSA+\nIC0xKSB7CiAgICAgICAgICAgIGlmIChub3RTb2x2ZWQocmVkaXJlY3RDaGFs\nbGVuZ2UpICYmIHRvICE9PSBnaXRodWJVcmwpIHsgLy8gVE9ETyBJbnN0ZWFk\nIG1hdGNoIGFnYWluc3Qgc29tZXRoaW5nIGxpa2UgPGFub3RoZXJVcmw+Wz8m\nXT1naXRodWJVcmwKICAgICAgICAgICAgICAgIHNvbHZlKHJlZGlyZWN0Q2hh\nbGxlbmdlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXMucmVkaXJl\nY3QodG8pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlcy5yZWRp\ncmVjdChnaXRodWJVcmwpOwogICAgICAgIH0KICAgIH07Cn0KCmZ1bmN0aW9u\nIHJldHJpZXZlQmFza2V0KCkgewogICAgcmV0dXJuIGZ1bmN0aW9uKHJlcSwg\ncmVzLCBuZXh0KXsKICAgICAgICB2YXIgaWQgPSByZXEucGFyYW1zLmlkOwog\nICAgICAgIEJhc2tldC5maW5kKHt3aGVyZToge2lkOiBpZH0sIGluY2x1ZGU6\nIFsgUHJvZHVjdCBdfSkKICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24o\nYmFza2V0KSB7CiAgICAgICAgICAgICAgICBpZiAobm90U29sdmVkKGJhc2tl\ndENoYWxsZW5nZSkpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdXNlciA9\nIGluc2VjdXJpdHkuYXV0aGVudGljYXRlZFVzZXJzLmZyb20ocmVxKTsKICAg\nICAgICAgICAgICAgICAgICBpZiAodXNlciAmJiB1c2VyLmJpZCAhPSBpZCkg\newogICAgICAgICAgICAgICAgICAgICAgICBzb2x2ZShiYXNrZXRDaGFsbGVu\nZ2UpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0K\nICAgICAgICAgICAgICAgIHJlcy5qc29uKHV0aWxzLnF1ZXJ5UmVzdWx0VG9K\nc29uKGJhc2tldCkpOwogICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbiAo\nZXJyb3IpIHsKICAgICAgICAgICAgICAgIG5leHQoZXJyb3IpOwogICAgICAg\nICAgICB9KTsKICAgIH07Cn0KCmZ1bmN0aW9uIHJldHJpZXZlVXNlckxpc3Qo\nKSB7CiAgICByZXR1cm4gZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpewogICAg\nICAgIFVzZXIuZmluZEFsbCgpLnN1Y2Nlc3MoZnVuY3Rpb24odXNlcnMpIHsK\nICAgICAgICAgICAgICAgIHZhciB1c2Vyc1dpdGhMb2dpblN0YXR1cyA9IHV0\naWxzLnF1ZXJ5UmVzdWx0VG9Kc29uKHVzZXJzKTsKICAgICAgICAgICAgICAg\nIHVzZXJzV2l0aExvZ2luU3RhdHVzLmRhdGEuZm9yRWFjaChmdW5jdGlvbih1\nc2VyKSB7CiAgICAgICAgICAgICAgICAgICAgdXNlci50b2tlbiA9IGluc2Vj\ndXJpdHkuYXV0aGVudGljYXRlZFVzZXJzLnRva2VuT2YodXNlcik7CiAgICAg\nICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJlcy5qc29uKHVzZXJz\nV2l0aExvZ2luU3RhdHVzKTsKICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rp\nb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBuZXh0KGVycm9yKTsKICAg\nICAgICAgICAgfSk7CiAgICB9Owp9CgpmdW5jdGlvbiBjcmVhdGVPcmRlclBk\nZigpIHsKICAgIHJldHVybiBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCl7CiAg\nICAgICAgdmFyIGlkID0gcmVxLnBhcmFtcy5pZDsKICAgICAgICBCYXNrZXQu\nZmluZCh7d2hlcmU6IHtpZDogaWR9LCBpbmNsdWRlOiBbIFByb2R1Y3QgXX0p\nCiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGJhc2tldCkgewogICAg\nICAgICAgICAgICAgaWYgKGJhc2tldCkgewogICAgICAgICAgICAgICAgICAg\nIHZhciBjdXN0b21lciA9IGluc2VjdXJpdHkuYXV0aGVudGljYXRlZFVzZXJz\nLmZyb20ocmVxKTsKICAgICAgICAgICAgICAgICAgICB2YXIgb3JkZXJObyA9\nIGluc2VjdXJpdHkuaGFzaChuZXcgRGF0ZSgpKydfJytpZCk7CiAgICAgICAg\nICAgICAgICAgICAgdmFyIHBkZkZpbGUgPSAnb3JkZXJfJyArIG9yZGVyTm8g\nKyAnLnBkZic7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRvYyA9IG5ldyBQ\nREZEb2N1bWVudCgpOwogICAgICAgICAgICAgICAgICAgIHZhciBmaWxlV3Jp\ndGVyID0gZG9jLnBpcGUoZnMuY3JlYXRlV3JpdGVTdHJlYW0oX19kaXJuYW1l\nICsgJy9hcHAvcHVibGljL2Z0cC8nICsgcGRmRmlsZSkpOwoKICAgICAgICAg\nICAgICAgICAgICBkb2MudGV4dCgnSnVpY2UtU2hvcCAtIE9yZGVyIENvbmZp\ncm1hdGlvbicpOwogICAgICAgICAgICAgICAgICAgIGRvYy5tb3ZlRG93bigp\nOwogICAgICAgICAgICAgICAgICAgIGRvYy5tb3ZlRG93bigpOwogICAgICAg\nICAgICAgICAgICAgIGRvYy5tb3ZlRG93bigpOwogICAgICAgICAgICAgICAg\nICAgIGRvYy50ZXh0KCdDdXN0b21lcjogJyArIChjdXN0b21lciA/IGN1c3Rv\nbWVyLmRhdGEgPyBjdXN0b21lci5kYXRhLmVtYWlsIDogdW5kZWZpbmVkIDog\ndW5kZWZpbmVkKSk7CiAgICAgICAgICAgICAgICAgICAgZG9jLm1vdmVEb3du\nKCk7CiAgICAgICAgICAgICAgICAgICAgZG9jLnRleHQoJ09yZGVyICM6ICcg\nKyBvcmRlck5vKTsKICAgICAgICAgICAgICAgICAgICBkb2MubW92ZURvd24o\nKTsKICAgICAgICAgICAgICAgICAgICBkb2MubW92ZURvd24oKTsKICAgICAg\nICAgICAgICAgICAgICB2YXIgdG90YWxQcmljZSA9IDA7CiAgICAgICAgICAg\nICAgICAgICAgYmFza2V0LnByb2R1Y3RzLmZvckVhY2goZnVuY3Rpb24ocHJv\nZHVjdCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbVRvdGFs\nID0gcHJvZHVjdC5wcmljZSpwcm9kdWN0LmJhc2tldEl0ZW0ucXVhbnRpdHk7\nCiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy50ZXh0KHByb2R1Y3QuYmFz\na2V0SXRlbS5xdWFudGl0eSArICd4ICcgKyBwcm9kdWN0Lm5hbWUgKyAnIGVh\nLiAnICsgcHJvZHVjdC5wcmljZSArICcgPSAnICsgaXRlbVRvdGFsKTsKICAg\nICAgICAgICAgICAgICAgICAgICAgZG9jLm1vdmVEb3duKCk7CiAgICAgICAg\nICAgICAgICAgICAgICAgIHRvdGFsUHJpY2UgKz0gaXRlbVRvdGFsOwogICAg\nICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGRvYy5t\nb3ZlRG93bigpOwogICAgICAgICAgICAgICAgICAgIGRvYy50ZXh0KCdUb3Rh\nbCBQcmljZTogJyArIHRvdGFsUHJpY2UpOwogICAgICAgICAgICAgICAgICAg\nIGRvYy5tb3ZlRG93bigpOwogICAgICAgICAgICAgICAgICAgIGRvYy5tb3Zl\nRG93bigpOwogICAgICAgICAgICAgICAgICAgIGRvYy50ZXh0KCdUaGFuayB5\nb3UgZm9yIHlvdXIgb3JkZXIhJyk7CiAgICAgICAgICAgICAgICAgICAgZG9j\nLmVuZCgpOwoKICAgICAgICAgICAgICAgICAgICBpZiAobm90U29sdmVkKG5l\nZ2F0aXZlT3JkZXJDaGFsbGVuZ2UpICYmIHRvdGFsUHJpY2UgPCAwKSB7CiAg\nICAgICAgICAgICAgICAgICAgICAgIHNvbHZlIChuZWdhdGl2ZU9yZGVyQ2hh\nbGxlbmdlKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAg\nICAgICAgIGZpbGVXcml0ZXIub24oJ2ZpbmlzaCcsIGZ1bmN0aW9uKCkgewog\nICAgICAgICAgICAgICAgICAgICAgICBCYXNrZXRJdGVtLmRlc3Ryb3koe0Jh\nc2tldElkOiBpZH0pOwogICAgICAgICAgICAgICAgICAgICAgICByZXMuc2Vu\nZCgnL3B1YmxpYy9mdHAvJyArIHBkZkZpbGUpOwogICAgICAgICAgICAgICAg\nICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAg\nICAgICAgICBuZXh0KG5ldyBFcnJvcignQmFza2V0IHdpdGggaWQ9JyArIGlk\nICsgJyBkb2VzIG5vdCBleGlzdC4nKSk7CiAgICAgICAgICAgICAgICB9CiAg\nICAgICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAg\nICAgICAgICAgbmV4dChlcnJvcik7CiAgICAgICAgICAgIH0pOwogICAgfTsK\nfQoKZnVuY3Rpb24gc2VhcmNoUHJvZHVjdHMoKSB7CiAgICByZXR1cm4gZnVu\nY3Rpb24ocmVxLCByZXMsIG5leHQpewogICAgICAgIHZhciBjcml0ZXJpYSA9\nIHJlcS5xdWVyeS5xID09PSAndW5kZWZpbmVkJyA/ICcnIDogcmVxLnF1ZXJ5\nLnEgfHwgJyc7CiAgICAgICAgaWYgKG5vdFNvbHZlZChsb2NhbFhzc0NoYWxs\nZW5nZSkgJiYgdXRpbHMuY29udGFpbnMoY3JpdGVyaWEsICc8c2NyaXB0PmFs\nZXJ0KCJYU1MxIik8L3NjcmlwdD4nKSkgewogICAgICAgICAgICBzb2x2ZShs\nb2NhbFhzc0NoYWxsZW5nZSk7CiAgICAgICAgfQogICAgICAgIHNlcXVlbGl6\nZS5xdWVyeSgnU0VMRUNUICogRlJPTSBQcm9kdWN0cyBXSEVSRSAobmFtZSBM\nSUtFIFwnJScgKyBjcml0ZXJpYSArICclXCcpIE9SIChkZXNjcmlwdGlvbiBM\nSUtFIFwnJScgKyBjcml0ZXJpYSArICclXCcpJykKICAgICAgICAgICAgLnN1\nY2Nlc3MoZnVuY3Rpb24ocHJvZHVjdHMpIHsKICAgICAgICAgICAgICAgIGlm\nIChub3RTb2x2ZWQodW5pb25TcWxJbmplY3Rpb25DaGFsbGVuZ2UpKSB7CiAg\nICAgICAgICAgICAgICAgICAgdmFyIGRhdGFTdHJpbmcgPSBKU09OLnN0cmlu\nZ2lmeShwcm9kdWN0cyk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHNvbHZl\nZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgVXNlci5maW5kQWxsKCku\nc3VjY2VzcyhmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAg\nICAgIHZhciB1c2VycyA9IHV0aWxzLnF1ZXJ5UmVzdWx0VG9Kc29uKGRhdGEp\nOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlcnMuZGF0YSAmJiB1\nc2Vycy5kYXRhLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICAgICAgICAg\nICAgZm9yICh2YXIgaT0wOyBpPHVzZXJzLmRhdGEubGVuZ3RoOyBpKyspIHsK\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2x2ZWQgPSBzb2x2\nZWQgJiYgdXRpbHMuY29udGFpbnMoZGF0YVN0cmluZywgdXNlcnMuZGF0YVtp\nXS5lbWFpbCkgJiYgdXRpbHMuY29udGFpbnMoZGF0YVN0cmluZywgdXNlcnMu\nZGF0YVtpXS5wYXNzd29yZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgaWYgKCFzb2x2ZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAg\nICAgICAgICAgICAgICAgICAgICAgaWYgKHNvbHZlZCkgewogICAgICAgICAg\nICAgICAgICAgICAgICAgICAgICAgIHNvbHZlKHVuaW9uU3FsSW5qZWN0aW9u\nQ2hhbGxlbmdlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAg\nICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0p\nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmVzLmpzb24o\ndXRpbHMucXVlcnlSZXN1bHRUb0pzb24ocHJvZHVjdHMpKTsKICAgICAgICAg\nICAgfSkuZXJyb3IoZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAg\nICBuZXh0KGVycm9yKTsKICAgICAgICAgICAgfSk7CiAgICB9Owp9CgpmdW5j\ndGlvbiBjaGFuZ2VQYXNzd29yZCgpIHsKICAgIHJldHVybiBmdW5jdGlvbihy\nZXEsIHJlcywgbmV4dCl7CiAgICAgICAgdmFyIHBhc3N3b3JkID0gcmVxLnF1\nZXJ5Lm5ldzsKICAgICAgICB2YXIgcmVwZWF0UGFzc3dvcmQgPSByZXEucXVl\ncnkucmVwZWF0OwogICAgICAgIGlmICghcGFzc3dvcmQgfHwgcGFzc3dvcmQg\nPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAx\nKS5zZW5kKCdQYXNzd29yZCBjYW5ub3QgYmUgZW1wdHkuJyk7CiAgICAgICAg\nfSBlbHNlIGlmIChwYXNzd29yZCAhPT0gcmVwZWF0UGFzc3dvcmQpIHsKICAg\nICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoJ05ldyBhbmQgcmVwZWF0\nZWQgcGFzc3dvcmQgZG8gbm90IG1hdGNoLicpOwogICAgICAgIH0gZWxzZSB7\nCiAgICAgICAgICAgIHZhciBsb2dnZWRJblVzZXIgPSBpbnNlY3VyaXR5LmF1\ndGhlbnRpY2F0ZWRVc2Vycy5nZXQocmVxLmNvb2tpZXMudG9rZW4pOwogICAg\nICAgICAgICBpZiAobG9nZ2VkSW5Vc2VyKSB7CiAgICAgICAgICAgICAgICBV\nc2VyLmZpbmQobG9nZ2VkSW5Vc2VyLmRhdGEuaWQpLnN1Y2Nlc3MoZnVuY3Rp\nb24odXNlcikgewogICAgICAgICAgICAgICAgICAgIHVzZXIudXBkYXRlQXR0\ncmlidXRlcyh7cGFzc3dvcmQ6IHBhc3N3b3JkfSkuc3VjY2VzcyhmdW5jdGlv\nbih1c2VyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zZW5kKHVz\nZXIpOwogICAgICAgICAgICAgICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uKGVy\ncm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoZXJyb3IpOwog\nICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkuZXJy\nb3IoZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBuZXh0\nKGVycm9yKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVs\nc2UgewogICAgICAgICAgICAgICAgbmV4dChuZXcgRXJyb3IoJ0Jsb2NrZWQg\naWxsZWdhbCBhY3Rpdml0eSBieSAnICsgcmVxLmNvbm5lY3Rpb24ucmVtb3Rl\nQWRkcmVzcykpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKfQoK\nZnVuY3Rpb24gbG9naW5Vc2VyKCkgewogICAgcmV0dXJuIGZ1bmN0aW9uKHJl\ncSwgcmVzLCBuZXh0KXsKICAgICAgICBpZiAobm90U29sdmVkKHdlYWtQYXNz\nd29yZENoYWxsZW5nZSkgJiYgcmVxLmJvZHkuZW1haWwgPT09ICdhZG1pbkBq\ndWljZS1zaC5vcCcgJiYgcmVxLmJvZHkucGFzc3dvcmQgPT09ICdhZG1pbjEy\nMycpIHsKICAgICAgICAgICAgc29sdmUod2Vha1Bhc3N3b3JkQ2hhbGxlbmdl\nKTsKICAgICAgICB9CiAgICAgICAgc2VxdWVsaXplLnF1ZXJ5KCdTRUxFQ1Qg\nKiBGUk9NIFVzZXJzIFdIRVJFIGVtYWlsID0gXCcnICsgKHJlcS5ib2R5LmVt\nYWlsIHx8ICcnKSArICdcJyBBTkQgcGFzc3dvcmQgPSBcJycgKyBpbnNlY3Vy\naXR5Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQgfHwgJycpICsgJ1wnJywgVXNl\nciwge3BsYWluOiB0cnVlfSkKICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rp\nb24oYXV0aGVudGljYXRlZFVzZXIpIHsKICAgICAgICAgICAgICAgIHZhciB1\nc2VyID0gdXRpbHMucXVlcnlSZXN1bHRUb0pzb24oYXV0aGVudGljYXRlZFVz\nZXIpOwogICAgICAgICAgICAgICAgaWYgKHVzZXIuZGF0YSAmJiB1c2VyLmRh\ndGEuaWQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAobm90U29sdmVkKGxv\nZ2luQWRtaW5DaGFsbGVuZ2UpICYmIHVzZXIuZGF0YS5pZCA9PT0gMSkgewog\nICAgICAgICAgICAgICAgICAgICAgICBzb2x2ZShsb2dpbkFkbWluQ2hhbGxl\nbmdlKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5vdFNvbHZl\nZChsb2dpbkppbUNoYWxsZW5nZSkgJiYgdXNlci5kYXRhLmlkID09PSAyKSB7\nCiAgICAgICAgICAgICAgICAgICAgICAgIHNvbHZlKGxvZ2luSmltQ2hhbGxl\nbmdlKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgIChub3RTb2x2\nZWQobG9naW5CZW5kZXJDaGFsbGVuZ2UpICYmIHVzZXIuZGF0YS5pZCA9PT0g\nMykgewogICAgICAgICAgICAgICAgICAgICAgICBzb2x2ZShsb2dpbkJlbmRl\nckNoYWxsZW5nZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAg\nICAgICAgICAgIEJhc2tldC5maW5kT3JDcmVhdGUoe1VzZXJJZDogdXNlci5k\nYXRhLmlkfSkuc3VjY2VzcyhmdW5jdGlvbihiYXNrZXQpIHsKICAgICAgICAg\nICAgICAgICAgICAgICAgdmFyIHRva2VuID0gaW5zZWN1cml0eS5hdXRob3Jp\nemUodXNlcik7CiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIuYmlkID0g\nYmFza2V0LmlkOyAvLyBrZWVwIHRyYWNrIG9mIG9yaWdpbmFsIGJhc2tldCBm\nb3IgY2hhbGxlbmdlIHNvbHV0aW9uIGNoZWNrCiAgICAgICAgICAgICAgICAg\nICAgICAgIGluc2VjdXJpdHkuYXV0aGVudGljYXRlZFVzZXJzLnB1dCh0b2tl\nbiwgdXNlcik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5qc29uKHsg\ndG9rZW46IHRva2VuLCBiaWQ6IGJhc2tldC5pZCB9KTsKICAgICAgICAgICAg\nICAgICAgICB9KS5lcnJvcihmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAg\nICAgICAgICAgICAgICAgbmV4dChlcnJvcik7CiAgICAgICAgICAgICAgICAg\nICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAg\nICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKCdJbnZhbGlkIGVtYWlsIG9y\nIHBhc3N3b3JkLicpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9\nKS5lcnJvcihmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIG5l\neHQoZXJyb3IpOwogICAgICAgICAgICB9KTsKICAgIH07Cn0KCmZ1bmN0aW9u\nIHNlcnZlRmlsZXMoKSB7CiAgICByZXR1cm4gZnVuY3Rpb24ocmVxLCByZXMs\nIG5leHQpIHsKICAgICAgICB2YXIgZmlsZSA9IHJlcS5wYXJhbXMuZmlsZTsK\nICAgICAgICBpZiAoZmlsZSAmJiAodXRpbHMuZW5kc1dpdGgoZmlsZSwgJy5t\nZCcpIHx8ICh1dGlscy5lbmRzV2l0aChmaWxlLCAnLnBkZicpKSkpIHsKICAg\nICAgICAgICAgZmlsZSA9IGluc2VjdXJpdHkuY3V0T2ZmUG9pc29uTnVsbEJ5\ndGUoZmlsZSk7CiAgICAgICAgICAgIGlmIChub3RTb2x2ZWQoZWFzdGVyRWdn\nTGV2ZWxPbmVDaGFsbGVuZ2UpICYmIGZpbGUudG9Mb3dlckNhc2UoKSA9PT0g\nJ2Vhc3RlcmUuZ2cnKSB7CiAgICAgICAgICAgICAgICBzb2x2ZShlYXN0ZXJF\nZ2dMZXZlbE9uZUNoYWxsZW5nZSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAo\nbm90U29sdmVkKGRpcmVjdG9yeUxpc3RpbmdDaGFsbGVuZ2UpICYmIGZpbGUu\ndG9Mb3dlckNhc2UoKSA9PT0gJ2FjcXVpc2l0aW9ucy5tZCcpIHsKICAgICAg\nICAgICAgICAgIHNvbHZlKGRpcmVjdG9yeUxpc3RpbmdDaGFsbGVuZ2UpOwog\nICAgICAgICAgICB9CiAgICAgICAgICAgIHJlcy5zZW5kRmlsZShfX2Rpcm5h\nbWUgKyAnL2FwcC9wdWJsaWMvZnRwLycgKyBmaWxlKTsKICAgICAgICB9IGVs\nc2UgewogICAgICAgICAgICByZXMuc3RhdHVzKDQwMyk7CiAgICAgICAgICAg\nIG5leHQobmV3IEVycm9yKCdPbmx5IC5tZCBhbmQgLnBkZiBmaWxlcyBhcmUg\nYWxsb3dlZCEnKSk7CiAgICAgICAgfQogICAgfTsKfQoKZnVuY3Rpb24gdmVy\naWZ5RGF0YWJhc2VSZWxhdGVkQ2hhbGxlbmdlcygpIHsKICAgIHJldHVybiBm\ndW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHsKICAgICAgICBpZiAobm90U29s\ndmVkKGNoYW5nZVByb2R1Y3RDaGFsbGVuZ2UpICYmIG9zYWZ0KSB7CiAgICAg\nICAgICAgIG9zYWZ0LnJlbG9hZCgpLnN1Y2Nlc3MoZnVuY3Rpb24gKCkgewog\nICAgICAgICAgICAgICAgaWYgKCF1dGlscy5jb250YWlucyhvc2FmdC5kZXNj\ncmlwdGlvbiwgJzxhIGhyZWY9Imh0dHBzOi8vd3d3Lm93YXNwLm9yZy9pbmRl\neC5waHAvTy1TYWZ0IiB0YXJnZXQ9Il9ibGFuayI+JykpIHsKICAgICAgICAg\nICAgICAgICAgICBpZiAodXRpbHMuY29udGFpbnMob3NhZnQuZGVzY3JpcHRp\nb24sICc8YSBocmVmPSJodHRwOi8va2ltbWluaWNoLmRlIiB0YXJnZXQ9Il9i\nbGFuayI+JykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc29sdmUoY2hh\nbmdlUHJvZHVjdENoYWxsZW5nZSk7CiAgICAgICAgICAgICAgICAgICAgfQog\nICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAg\nICAgICAgaWYgKG5vdFNvbHZlZChjc3JmQ2hhbGxlbmdlKSAmJiBiZW5kZXIp\nIHsKICAgICAgICAgICAgYmVuZGVyLnJlbG9hZCgpLnN1Y2Nlc3MoZnVuY3Rp\nb24oKSB7CiAgICAgICAgICAgICAgICBpZiAoYmVuZGVyLnBhc3N3b3JkID09\nPSBpbnNlY3VyaXR5Lmhhc2goJ3NsdXJtQ2w0c3NpYycpKSB7CiAgICAgICAg\nICAgICAgICAgICAgc29sdmUoY3NyZkNoYWxsZW5nZSk7CiAgICAgICAgICAg\nICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBpZiAo\nbm90U29sdmVkKGZlZWRiYWNrQ2hhbGxlbmdlKSkgewogICAgICAgICAgICBG\nZWVkYmFjay5maW5kQW5kQ291bnRBbGwoe3doZXJlOiB7cmF0aW5nOiA1fX0p\nLnN1Y2Nlc3MoZnVuY3Rpb24gKGZlZWRiYWNrcykgewogICAgICAgICAgICAg\nICAgaWYgKGZlZWRiYWNrcy5jb3VudCA9PT0gMCkgewogICAgICAgICAgICAg\nICAgICAgIHNvbHZlKGZlZWRiYWNrQ2hhbGxlbmdlKTsKICAgICAgICAgICAg\nICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIGlmIChu\nb3RTb2x2ZWQoa25vd25WdWxuZXJhYmxlQ29tcG9uZW50Q2hhbGxlbmdlKSkg\newogICAgICAgICAgICBGZWVkYmFjay5maW5kQW5kQ291bnRBbGwoe3doZXJl\nOiBTZXF1ZWxpemUub3IoCiAgICAgICAgICAgICAgICBTZXF1ZWxpemUuYW5k\nKFsnY29tbWVudCBMSUtFIFwnJXNhbml0aXplLWh0bWwlXCcnXSwgWydjb21t\nZW50IExJS0UgXCclMS40LjIlXCcnXSksCiAgICAgICAgICAgICAgICBTZXF1\nZWxpemUuYW5kKFsnY29tbWVudCBMSUtFIFwnJWh0bWxwYXJzZXIyJVwnJ10s\nIFsnY29tbWVudCBMSUtFIFwnJTMuMy4wJVwnJ10pICkgfQogICAgICAgICAg\nICApLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICAg\nIGlmIChkYXRhLmNvdW50ID4gMCkgewogICAgICAgICAgICAgICAgICAgIHNv\nbHZlKGtub3duVnVsbmVyYWJsZUNvbXBvbmVudENoYWxsZW5nZSk7CiAgICAg\nICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAg\nICBuZXh0KCk7CiAgICB9Owp9CgpmdW5jdGlvbiBzb2x2ZShjaGFsbGVuZ2Up\nIHsKICAgIGNoYWxsZW5nZS5zb2x2ZWQgPSB0cnVlOwogICAgY2hhbGxlbmdl\nLnNhdmUoKS5zdWNjZXNzKGZ1bmN0aW9uKCkgewogICAgICAgIGNvbnNvbGUu\nbG9nKCdTb2x2ZWQgY2hhbGxlbmdlICInICsgY2hhbGxlbmdlLmRlc2NyaXB0\naW9uICsgJyInKTsKICAgIH0pOwp9CgpmdW5jdGlvbiBub3RTb2x2ZWQoY2hh\nbGxlbmdlKSB7CiAgICByZXR1cm4gY2hhbGxlbmdlICYmICFjaGFsbGVuZ2Uu\nc29sdmVkOwp9\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/server.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/e13c374344f225626fb9154bd58e68322a0e3f16","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/server.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:37 GMT
      ETag:
      - W/"e13c374344f225626fb9154bd58e68322a0e3f16"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C38C:19304A:14E5E6A:1631D87:66E29D89
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4982'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '18'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/aboutControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"aboutControllerSpec.js","path":"test/client/aboutControllerSpec.js","sha":"8bf5004065236d3ad1941e5f95e2189fe85af486","size":503,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/aboutControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/aboutControllerSpec.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/8bf5004065236d3ad1941e5f95e2189fe85af486","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/aboutControllerSpec.js","type":"file","content":"ZGVzY3JpYmUoJ2NvbnRyb2xsZXJzJywgZnVuY3Rpb24gKCkgewogICAgdmFy\nIHNjb3BlLCBjb250cm9sbGVyOwoKICAgIGJlZm9yZUVhY2gobW9kdWxlKCdt\neUFwcCcpKTsKICAgIGRlc2NyaWJlKCdBYm91dENvbnRyb2xsZXInLCBmdW5j\ndGlvbiAoKSB7CiAgICAgICAgYmVmb3JlRWFjaChpbmplY3QoZnVuY3Rpb24g\nKCRyb290U2NvcGUsICRjb250cm9sbGVyKSB7CiAgICAgICAgICAgIHNjb3Bl\nID0gJHJvb3RTY29wZS4kbmV3KCk7CiAgICAgICAgICAgIGNvbnRyb2xsZXIg\nPSAkY29udHJvbGxlcignQWJvdXRDb250cm9sbGVyJywgewogICAgICAgICAg\nICAgICAgJyRzY29wZSc6IHNjb3BlCiAgICAgICAgICAgIH0pOwogICAgICAg\nIH0pKTsKCiAgICAgICAgaXQoJ3Nob3VsZCBiZSBkZWZpbmVkJywgaW5qZWN0\nKGZ1bmN0aW9uICgkY29udHJvbGxlcikgewogICAgICAgICAgICBleHBlY3Qo\nY29udHJvbGxlcikudG9CZURlZmluZWQoKTsKICAgICAgICB9KSk7CiAgICB9\nKTsKCn0pOwo=\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/aboutControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/8bf5004065236d3ad1941e5f95e2189fe85af486","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/aboutControllerSpec.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:38 GMT
      ETag:
      - W/"8bf5004065236d3ad1941e5f95e2189fe85af486"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C38D:11582E:12DB4C:13A823:66E29D89
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4981'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '19'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/administrationControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"administrationControllerSpec.js","path":"test/client/administrationControllerSpec.js","sha":"79828710c8f54a4ae9eb0a697585bc118b850b4d","size":522,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/administrationControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/administrationControllerSpec.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/79828710c8f54a4ae9eb0a697585bc118b850b4d","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/administrationControllerSpec.js","type":"file","content":"ZGVzY3JpYmUoJ2NvbnRyb2xsZXJzJywgZnVuY3Rpb24gKCkgewogICAgdmFy\nIHNjb3BlLCBjb250cm9sbGVyOwoKICAgIGJlZm9yZUVhY2gobW9kdWxlKCdt\neUFwcCcpKTsKCiAgICBkZXNjcmliZSgnQWRtaW5pc3RyYXRpb25Db250cm9s\nbGVyJywgZnVuY3Rpb24gKCkgewogICAgICAgIGJlZm9yZUVhY2goaW5qZWN0\nKGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkY29udHJvbGxlcikgewogICAgICAg\nICAgICBzY29wZSA9ICRyb290U2NvcGUuJG5ldygpOwogICAgICAgICAgICBj\nb250cm9sbGVyID0gJGNvbnRyb2xsZXIoJ0FkbWluaXN0cmF0aW9uQ29udHJv\nbGxlcicsIHsKICAgICAgICAgICAgICAgICckc2NvcGUnOiBzY29wZQogICAg\nICAgICAgICB9KTsKICAgICAgICB9KSk7CgogICAgICAgIGl0KCdzaG91bGQg\nYmUgZGVmaW5lZCcsIGluamVjdChmdW5jdGlvbiAoJGNvbnRyb2xsZXIpIHsK\nICAgICAgICAgICAgZXhwZWN0KGNvbnRyb2xsZXIpLnRvQmVEZWZpbmVkKCk7\nCiAgICAgICAgfSkpOwogICAgfSk7Cgp9KTsK\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/administrationControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/79828710c8f54a4ae9eb0a697585bc118b850b4d","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/administrationControllerSpec.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:38 GMT
      ETag:
      - W/"79828710c8f54a4ae9eb0a697585bc118b850b4d"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C38E:11E56F:1C4E5:1D8CE:66E29D8A
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4980'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '20'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/basketControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"basketControllerSpec.js","path":"test/client/basketControllerSpec.js","sha":"164eb5fc9e9a4c1f49e5189be118e25783e07138","size":843,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/basketControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/basketControllerSpec.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/164eb5fc9e9a4c1f49e5189be118e25783e07138","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/basketControllerSpec.js","type":"file","content":"ZGVzY3JpYmUoJ2NvbnRyb2xsZXJzJywgZnVuY3Rpb24gKCkgewogICAgdmFy\nIHNjb3BlLCBsb2NhdGlvbiwgY29udHJvbGxlciwgd2luZG93LCBjb29raWVT\ndG9yZSwgJGh0dHBCYWNrZW5kOwoKICAgIGJlZm9yZUVhY2gobW9kdWxlKCdt\neUFwcCcpKTsKICAgIGJlZm9yZUVhY2goaW5qZWN0KGZ1bmN0aW9uKCRpbmpl\nY3RvcikgewogICAgICAgICRodHRwQmFja2VuZCA9ICRpbmplY3Rvci5nZXQo\nJyRodHRwQmFja2VuZCcpOwogICAgfSkpOwoKICAgIGRlc2NyaWJlKCdCYXNr\nZXRDb250cm9sbGVyJywgZnVuY3Rpb24gKCkgewogICAgICAgIGJlZm9yZUVh\nY2goaW5qZWN0KGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkY29udHJvbGxlcikg\newogICAgICAgICAgICBzY29wZSA9ICRyb290U2NvcGUuJG5ldygpOwogICAg\nICAgICAgICBjb250cm9sbGVyID0gJGNvbnRyb2xsZXIoJ0Jhc2tldENvbnRy\nb2xsZXInLCB7CiAgICAgICAgICAgICAgICAnJHNjb3BlJzogc2NvcGUKICAg\nICAgICAgICAgfSk7CiAgICAgICAgfSkpOwoKICAgICAgICBpdCgnc2hvdWxk\nIGJlIGRlZmluZWQnLCBpbmplY3QoZnVuY3Rpb24gKCRjb250cm9sbGVyKSB7\nCiAgICAgICAgICAgIGV4cGVjdChjb250cm9sbGVyKS50b0JlRGVmaW5lZCgp\nOwogICAgICAgICAgICBleHBlY3Qoc2NvcGUuZGVsZXRlKS50b0JlRGVmaW5l\nZCgpOwogICAgICAgICAgICBleHBlY3Qoc2NvcGUub3JkZXIpLnRvQmVEZWZp\nbmVkKCk7CiAgICAgICAgICAgIGV4cGVjdChzY29wZS5pbmMpLnRvQmVEZWZp\nbmVkKCk7CiAgICAgICAgICAgIGV4cGVjdChzY29wZS5kZWMpLnRvQmVEZWZp\nbmVkKCk7CiAgICAgICAgfSkpOwogICAgfSk7Cgp9KTsK\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/basketControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/164eb5fc9e9a4c1f49e5189be118e25783e07138","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/basketControllerSpec.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:39 GMT
      ETag:
      - W/"164eb5fc9e9a4c1f49e5189be118e25783e07138"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C38F:158674:1B9ADCC:1D37C4A:66E29D8B
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4979'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '21'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/challengeControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"challengeControllerSpec.js","path":"test/client/challengeControllerSpec.js","sha":"ca8a4c66fe7ccabb3af5f3642ef55a185b18b6e8","size":2041,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/challengeControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/challengeControllerSpec.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/ca8a4c66fe7ccabb3af5f3642ef55a185b18b6e8","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/challengeControllerSpec.js","type":"file","content":"ZGVzY3JpYmUoJ2NvbnRyb2xsZXJzJywgZnVuY3Rpb24gKCkgewogICAgdmFy\nIHNjb3BlLCBjb250cm9sbGVyLCAkaHR0cEJhY2tlbmQsICRzY2U7CgogICAg\nYmVmb3JlRWFjaChtb2R1bGUoJ215QXBwJykpOwogICAgYmVmb3JlRWFjaChp\nbmplY3QoZnVuY3Rpb24oJGluamVjdG9yKSB7CiAgICAgICAgJGh0dHBCYWNr\nZW5kID0gJGluamVjdG9yLmdldCgnJGh0dHBCYWNrZW5kJyk7CiAgICAgICAg\nJHNjZSA9ICRpbmplY3Rvci5nZXQoJyRzY2UnKTsKICAgIH0pKTsKCiAgICBk\nZXNjcmliZSgnQ2hhbGxlbmdlQ29udHJvbGxlcicsIGZ1bmN0aW9uICgpIHsK\nICAgICAgICBiZWZvcmVFYWNoKGluamVjdChmdW5jdGlvbiAoJHJvb3RTY29w\nZSwgJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgc2NvcGUgPSAkcm9vdFNj\nb3BlLiRuZXcoKTsKICAgICAgICAgICAgY29udHJvbGxlciA9ICRjb250cm9s\nbGVyKCdDaGFsbGVuZ2VDb250cm9sbGVyJywgewogICAgICAgICAgICAgICAg\nJyRzY29wZSc6IHNjb3BlCiAgICAgICAgICAgIH0pOwogICAgICAgIH0pKTsK\nCiAgICAgICAgaXQoJ3Nob3VsZCBiZSBkZWZpbmVkJywgaW5qZWN0KGZ1bmN0\naW9uICgkY29udHJvbGxlcikgewogICAgICAgICAgICBleHBlY3QoY29udHJv\nbGxlcikudG9CZURlZmluZWQoKTsKICAgICAgICB9KSk7CgogICAgICAgIGl0\nKCdzaG91bGQgaG9sZCBleGlzdGluZyBjaGFsbGVuZ2VzJywgaW5qZWN0KGZ1\nbmN0aW9uICgkY29udHJvbGxlcikgewogICAgICAgICAgICAkaHR0cEJhY2tl\nbmQud2hlbkdFVCgnL2FwaS9DaGFsbGVuZ2VzLycpLnJlc3BvbmQoMjAwLCB7\nZGF0YTogW3tkZXNjcmlwdGlvbjogJ1hTUyd9LHtkZXNjcmlwdGlvbjogJ0NT\nUkYnfV19KTsKCiAgICAgICAgICAgICRodHRwQmFja2VuZC5mbHVzaCgpOwoK\nICAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNoYWxsZW5nZXMubGVuZ3RoKS50\nb0JlKDIpOwogICAgICAgICAgICBleHBlY3Qoc2NvcGUuY2hhbGxlbmdlc1sw\nXS5kZXNjcmlwdGlvbikudG9CZURlZmluZWQoKTsKICAgICAgICAgICAgZXhw\nZWN0KHNjb3BlLmNoYWxsZW5nZXNbMV0uZGVzY3JpcHRpb24pLnRvQmVEZWZp\nbmVkKCk7CiAgICAgICAgfSkpOwoKICAgICAgICBpdCgnc2hvdWxkIGNvbnNp\nZGVyIGNoYWxsZW5nZSBkZXNjcmlwdGlvbiBhcyB0cnVzdGVkIEhUTUwnLCBp\nbmplY3QoZnVuY3Rpb24gKCRjb250cm9sbGVyKSB7CiAgICAgICAgICAgICRo\ndHRwQmFja2VuZC53aGVuR0VUKCcvYXBpL0NoYWxsZW5nZXMvJykucmVzcG9u\nZCgyMDAsIHtkYXRhOiBbe2Rlc2NyaXB0aW9uOiAnPGEgc3JjPSJsaW5rIj5M\naW5rPC9hPid9XX0pOwogICAgICAgICAgICBzcHlPbigkc2NlLCAndHJ1c3RB\nc0h0bWwnKTsKCiAgICAgICAgICAgICRodHRwQmFja2VuZC5mbHVzaCgpOwoK\nICAgICAgICAgICAgZXhwZWN0KCRzY2UudHJ1c3RBc0h0bWwpLnRvSGF2ZUJl\nZW5DYWxsZWRXaXRoKCc8YSBzcmM9ImxpbmsiPkxpbms8L2E+Jyk7CiAgICAg\nICAgfSkpOwoKICAgICAgICBpdCgnc2hvdWxkIGhvbGQgbm90aGluZyB3aGVu\nIG5vIGNoYWxsZW5nZXMgZXhpc3RzJywgaW5qZWN0KGZ1bmN0aW9uICgkY29u\ndHJvbGxlcikgewogICAgICAgICAgICAkaHR0cEJhY2tlbmQud2hlbkdFVCgn\nL2FwaS9DaGFsbGVuZ2VzLycpLnJlc3BvbmQoMjAwLCB7ZGF0YToge319KTsK\nCiAgICAgICAgICAgICRodHRwQmFja2VuZC5mbHVzaCgpOwoKICAgICAgICAg\nICAgZXhwZWN0KHNjb3BlLmNoYWxsZW5nZXMpLnRvRXF1YWwoe30pOwogICAg\nICAgIH0pKTsKCiAgICAgICAgaXQoJ3Nob3VsZCBob2xkIG5vdGhpbmcgb24g\nZXJyb3IgZnJvbSBiYWNrZW5kIEFQSScsIGluamVjdChmdW5jdGlvbiAoJGNv\nbnRyb2xsZXIpIHsKICAgICAgICAgICAgJGh0dHBCYWNrZW5kLndoZW5HRVQo\nJy9hcGkvQ2hhbGxlbmdlcy8nKS5yZXNwb25kKDUwMCk7CgogICAgICAgICAg\nICAkaHR0cEJhY2tlbmQuZmx1c2goKTsKCiAgICAgICAgICAgIGV4cGVjdChz\nY29wZS5jaGFsbGVuZ2VzKS50b0JlVW5kZWZpbmVkKCk7CiAgICAgICAgfSkp\nOwoKICAgIH0pOwoKfSk7Cg==\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/challengeControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/ca8a4c66fe7ccabb3af5f3642ef55a185b18b6e8","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/challengeControllerSpec.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:40 GMT
      ETag:
      - W/"ca8a4c66fe7ccabb3af5f3642ef55a185b18b6e8"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C390:15C0F5:1B85FBB:1D159F1:66E29D8B
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4978'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '22'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/changepasswordControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"changepasswordControllerSpec.js","path":"test/client/changepasswordControllerSpec.js","sha":"359288cf7496d32e5b8cfab01aec854d08f6fdd5","size":1722,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/changepasswordControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/changepasswordControllerSpec.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/359288cf7496d32e5b8cfab01aec854d08f6fdd5","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/changepasswordControllerSpec.js","type":"file","content":"ZGVzY3JpYmUoJ2NvbnRyb2xsZXJzJywgZnVuY3Rpb24gKCkgewogICAgdmFy\nIHNjb3BlLCBsb2NhdGlvbiwgY29udHJvbGxlciwgJGh0dHBCYWNrZW5kOwoK\nICAgIGJlZm9yZUVhY2gobW9kdWxlKCdteUFwcCcpKTsKICAgICAgICBiZWZv\ncmVFYWNoKGluamVjdChmdW5jdGlvbigkaW5qZWN0b3IpIHsKICAgICAgICAk\naHR0cEJhY2tlbmQgPSAkaW5qZWN0b3IuZ2V0KCckaHR0cEJhY2tlbmQnKTsK\nICAgIH0pKTsKCiAgICBkZXNjcmliZSgnQ2hhbmdlUGFzc3dvcmRDb250cm9s\nbGVyJywgZnVuY3Rpb24gKCkgewogICAgICAgIGJlZm9yZUVhY2goaW5qZWN0\nKGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkbG9jYXRpb24sICRjb250cm9sbGVy\nKSB7CiAgICAgICAgICAgIHNjb3BlID0gJHJvb3RTY29wZS4kbmV3KCk7CiAg\nICAgICAgICAgIGxvY2F0aW9uID0gJGxvY2F0aW9uOwogICAgICAgICAgICBj\nb250cm9sbGVyID0gJGNvbnRyb2xsZXIoJ0NoYW5nZVBhc3N3b3JkQ29udHJv\nbGxlcicsIHsKICAgICAgICAgICAgICAgICckc2NvcGUnOiBzY29wZQogICAg\nICAgICAgICB9KTsKICAgICAgICB9KSk7CgogICAgICAgIGl0KCdzaG91bGQg\nYmUgZGVmaW5lZCcsIGluamVjdChmdW5jdGlvbiAoJGNvbnRyb2xsZXIpIHsK\nICAgICAgICAgICAgZXhwZWN0KGNvbnRyb2xsZXIpLnRvQmVEZWZpbmVkKCk7\nCiAgICAgICAgICAgIGV4cGVjdChzY29wZS5jaGFuZ2VQYXNzd29yZCkudG9C\nZURlZmluZWQoKTsKICAgICAgICB9KSk7CgogICAgICAgIGl0KCdzaG91bGQg\nZm9yd2FyZCB0byBtYWluIHBhZ2UgYWZ0ZXIgY2hhbmdpbmcgcGFzc3dvcmQn\nLCBpbmplY3QoZnVuY3Rpb24gKCRjb250cm9sbGVyKSB7CiAgICAgICAgICAg\nICRodHRwQmFja2VuZC53aGVuR0VUKCcvcmVzdC91c2VyL2NoYW5nZS1wYXNz\nd29yZD9jdXJyZW50PW9sZCZuZXc9Zm9vYmFyJnJlcGVhdD1mb29iYXInKS5y\nZXNwb25kKDIwMCk7CiAgICAgICAgICAgIHNjb3BlLmN1cnJlbnRQYXNzd29y\nZCA9ICdvbGQnOwogICAgICAgICAgICBzY29wZS5uZXdQYXNzd29yZCA9ICdm\nb29iYXInOwogICAgICAgICAgICBzY29wZS5uZXdQYXNzd29yZFJlcGVhdCA9\nICdmb29iYXInOwoKICAgICAgICAgICAgc2NvcGUuY2hhbmdlUGFzc3dvcmQo\nKTsKICAgICAgICAgICAgJGh0dHBCYWNrZW5kLmZsdXNoKCk7CgogICAgICAg\nICAgICBleHBlY3QobG9jYXRpb24ucGF0aCgpKS50b0JlKCcvJyk7CiAgICAg\nICAgfSkpOwoKICAgICAgICBpdCgnc2hvdWxkIGdyYWNlZnVsbHkgaGFuZGxl\nIGVycm9yIG9uIHBhc3N3b3JkIGNoYW5nZScsIGluamVjdChmdW5jdGlvbiAo\nJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgJGh0dHBCYWNrZW5kLndoZW5H\nRVQoJy9yZXN0L3VzZXIvY2hhbmdlLXBhc3N3b3JkP2N1cnJlbnQ9b2xkJm5l\ndz1mb29iYXImcmVwZWF0PWZvb2JhcicpLnJlc3BvbmQoNTAwLCAnZXJyb3In\nKTsKICAgICAgICAgICAgc2NvcGUuY3VycmVudFBhc3N3b3JkID0gJ29sZCc7\nCiAgICAgICAgICAgIHNjb3BlLm5ld1Bhc3N3b3JkID0gJ2Zvb2Jhcic7CiAg\nICAgICAgICAgIHNjb3BlLm5ld1Bhc3N3b3JkUmVwZWF0ID0gJ2Zvb2Jhcic7\nCgogICAgICAgICAgICBzY29wZS5jaGFuZ2VQYXNzd29yZCgpOwogICAgICAg\nICAgICAkaHR0cEJhY2tlbmQuZmx1c2goKTsKCiAgICAgICAgICAgIGV4cGVj\ndChzY29wZS5lcnJvcikudG9CZSgnZXJyb3InKTsKICAgICAgICB9KSk7Cgog\nICAgfSk7Cgp9KTsK\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/changepasswordControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/359288cf7496d32e5b8cfab01aec854d08f6fdd5","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/changepasswordControllerSpec.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:40 GMT
      ETag:
      - W/"359288cf7496d32e5b8cfab01aec854d08f6fdd5"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C391:7F012:274F182:29B1DDB:66E29D8C
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4977'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '23'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/contactControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"contactControllerSpec.js","path":"test/client/contactControllerSpec.js","sha":"a8d01dd59629b9284cefdf7404ae1e51842f7645","size":2801,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/contactControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/contactControllerSpec.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/a8d01dd59629b9284cefdf7404ae1e51842f7645","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/contactControllerSpec.js","type":"file","content":"ZGVzY3JpYmUoJ2NvbnRyb2xsZXJzJywgZnVuY3Rpb24gKCkgewogICAgdmFy\nIHNjb3BlLCBjb250cm9sbGVyLCAkaHR0cEJhY2tlbmQ7CgogICAgYmVmb3Jl\nRWFjaChtb2R1bGUoJ215QXBwJykpOwogICAgYmVmb3JlRWFjaChpbmplY3Qo\nZnVuY3Rpb24oJGluamVjdG9yKSB7CiAgICAgICAgJGh0dHBCYWNrZW5kID0g\nJGluamVjdG9yLmdldCgnJGh0dHBCYWNrZW5kJyk7CiAgICB9KSk7CgogICAg\nZGVzY3JpYmUoJ0NvbnRhY3RDb250cm9sbGVyJywgZnVuY3Rpb24gKCkgewog\nICAgICAgIGJlZm9yZUVhY2goaW5qZWN0KGZ1bmN0aW9uICgkcm9vdFNjb3Bl\nLCAkY29udHJvbGxlcikgewogICAgICAgICAgICBzY29wZSA9ICRyb290U2Nv\ncGUuJG5ldygpOwogICAgICAgICAgICBjb250cm9sbGVyID0gJGNvbnRyb2xs\nZXIoJ0NvbnRhY3RDb250cm9sbGVyJywgewogICAgICAgICAgICAgICAgJyRz\nY29wZSc6IHNjb3BlCiAgICAgICAgICAgIH0pOwogICAgICAgIH0pKTsKCiAg\nICAgICAgaXQoJ3Nob3VsZCBiZSBkZWZpbmVkJywgaW5qZWN0KGZ1bmN0aW9u\nICgkY29udHJvbGxlcikgewogICAgICAgICAgICBleHBlY3QoY29udHJvbGxl\ncikudG9CZURlZmluZWQoKTsKICAgICAgICAgICAgZXhwZWN0KHNjb3BlLnNh\ndmUpLnRvQmVEZWZpbmVkKCk7CiAgICAgICAgfSkpOwoKICAgICAgICBpdCgn\nc2hvdWxkIGhvbGQgdGhlIHVzZXIgaWQgb2YgdGhlIGN1cnJlbnRseSBsb2dn\nZWQgaW4gdXNlcicsIGluamVjdChmdW5jdGlvbiAoJGNvbnRyb2xsZXIpIHsK\nICAgICAgICAgICAgJGh0dHBCYWNrZW5kLndoZW5HRVQoJy9yZXN0L3VzZXIv\nd2hvYW1pJykucmVzcG9uZCgyMDAsIHtpZDogNDJ9KTsKCiAgICAgICAgICAg\nICRodHRwQmFja2VuZC5mbHVzaCgpOwoKICAgICAgICAgICAgZXhwZWN0KHNj\nb3BlLmZlZWRiYWNrLlVzZXJJZCkudG9CZSg0Mik7CgogICAgICAgIH0pKTsK\nCiAgICAgICAgaXQoJ3Nob3VsZCBob2xkIG5vIHVzZXIgaWQgaWYgY3VycmVu\ndCB1c2VyIGlzIG5vdCBsb2dnZWQgaW4nLCBpbmplY3QoZnVuY3Rpb24gKCRj\nb250cm9sbGVyKSB7CiAgICAgICAgICAgICRodHRwQmFja2VuZC53aGVuR0VU\nKCcvcmVzdC91c2VyL3dob2FtaScpLnJlc3BvbmQoMjAwLCB7fSk7CgogICAg\nICAgICAgICAkaHR0cEJhY2tlbmQuZmx1c2goKTsKCiAgICAgICAgICAgIGV4\ncGVjdChzY29wZS5mZWVkYmFjay5Vc2VySWQpLnRvQmVVbmRlZmluZWQoKTsK\nCiAgICAgICAgfSkpOwoKICAgICAgICBpdCgnc2hvdWxkIGhvbGQgbm8gdXNl\nciBpZCBpZiByZXRyaWV2aW5nIGN1cnJlbnRseSBsb2dnZWQgaW4gdXNlciBm\nYWlscycsIGluamVjdChmdW5jdGlvbiAoJGNvbnRyb2xsZXIpIHsKICAgICAg\nICAgICAgJGh0dHBCYWNrZW5kLndoZW5HRVQoJy9yZXN0L3VzZXIvd2hvYW1p\nJykucmVzcG9uZCg1MDApOwoKICAgICAgICAgICAgJGh0dHBCYWNrZW5kLmZs\ndXNoKCk7CgogICAgICAgICAgICBleHBlY3Qoc2NvcGUuZmVlZGJhY2spLnRv\nQmVVbmRlZmluZWQoKTsKCiAgICAgICAgfSkpOwoKICAgICAgICBpdCgnc2hv\ndWxkIGRpc3BsYXkgdGhhbmsteW91IG1lc3NhZ2UgYW5kIHJlc2V0IGZlZWRi\nYWNrIGZvcm0gb24gc2F2aW5nIGZlZWRiYWNrJywgaW5qZWN0KGZ1bmN0aW9u\nICgkY29udHJvbGxlcikgewogICAgICAgICAgICAkaHR0cEJhY2tlbmQud2hl\nbkdFVCgnL3Jlc3QvdXNlci93aG9hbWknKS5yZXNwb25kKDIwMCwge30pOwoK\nICAgICAgICAgICAgJGh0dHBCYWNrZW5kLndoZW5QT1NUKCcvYXBpL0ZlZWRi\nYWNrcy8nKS5yZXNwb25kKDIwMCwge2RhdGE6IHtjb21tZW50OiAnVGVzdCcs\nIHJhdGluZzogNH19KTsKICAgICAgICAgICAgc2NvcGUuZmVlZGJhY2sgPSB7\nY29tbWVudDogJ1Rlc3QnLCByYXRpbmc6IDR9CiAgICAgICAgICAgIHNjb3Bl\nLmZvcm0gPSB7JHNldFByaXN0aW5lOiBmdW5jdGlvbigpIHt9fTsKCiAgICAg\nICAgICAgIHNjb3BlLnNhdmUoKTsKICAgICAgICAgICAgJGh0dHBCYWNrZW5k\nLmZsdXNoKCk7CgogICAgICAgICAgICBleHBlY3Qoc2NvcGUuZmVlZGJhY2sp\nLnRvRXF1YWwoe30pOwogICAgICAgICAgICBleHBlY3Qoc2NvcGUuY29uZmly\nbWF0aW9uKS50b0JlKCdUaGFuayB5b3UgZm9yIHlvdXIgZmVlZGJhY2suJyk7\nCgogICAgICAgIH0pKTsKCiAgICAgICAgaXQoJ3Nob3VsZCBkaXNwbGF5IDUt\nc3RhciB0aGFuay15b3UgbWVzc2FnZSBhbmQgcmVzZXQgZmVlZGJhY2sgZm9y\nbSBvbiBzYXZpbmcgNS1zdGFyIGZlZWRiYWNrJywgaW5qZWN0KGZ1bmN0aW9u\nICgkY29udHJvbGxlcikgewogICAgICAgICAgICAkaHR0cEJhY2tlbmQud2hl\nbkdFVCgnL3Jlc3QvdXNlci93aG9hbWknKS5yZXNwb25kKDIwMCwge30pOwoK\nICAgICAgICAgICAgJGh0dHBCYWNrZW5kLndoZW5QT1NUKCcvYXBpL0ZlZWRi\nYWNrcy8nKS5yZXNwb25kKDIwMCwge2RhdGE6IHtjb21tZW50OiAnUHJhaXNl\nJywgcmF0aW5nOiA1fX0pOwogICAgICAgICAgICBzY29wZS5mZWVkYmFjayA9\nIHtjb21tZW50OiAnUHJhaXNlJywgcmF0aW5nOiA1fQogICAgICAgICAgICBz\nY29wZS5mb3JtID0geyRzZXRQcmlzdGluZTogZnVuY3Rpb24oKSB7fX07Cgog\nICAgICAgICAgICBzY29wZS5zYXZlKCk7CiAgICAgICAgICAgICRodHRwQmFj\na2VuZC5mbHVzaCgpOwoKICAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZlZWRi\nYWNrKS50b0VxdWFsKHt9KTsKICAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNv\nbmZpcm1hdGlvbikudG9CZSgnVGhhbmsgeW91IGZvciB5b3VyIGZlZWRiYWNr\nIGFuZCB5b3VyIDUtc3RhciByYXRpbmchJyk7CgogICAgICAgIH0pKTsKCiAg\nICB9KTsKCn0pOwo=\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/contactControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/a8d01dd59629b9284cefdf7404ae1e51842f7645","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/contactControllerSpec.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:41 GMT
      ETag:
      - W/"a8d01dd59629b9284cefdf7404ae1e51842f7645"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C392:107C43:1EDE5E3:20BD673:66E29D8D
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4976'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '24'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/controllersSpec.js?ref=3f3efa28a1993438345d12e37660e10c0fd4f269
  response:
    body:
      string: '{"name":"controllersSpec.js","path":"test/client/controllersSpec.js","sha":"b625ba23750036cc65baa91af171160ce59283d3","size":11049,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/controllersSpec.js?ref=3f3efa28a1993438345d12e37660e10c0fd4f269","html_url":"https://github.com/juice-shop/juice-shop/blob/3f3efa28a1993438345d12e37660e10c0fd4f269/test/client/controllersSpec.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/b625ba23750036cc65baa91af171160ce59283d3","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/3f3efa28a1993438345d12e37660e10c0fd4f269/test/client/controllersSpec.js","type":"file","content":"ZGVzY3JpYmUoJ2NvbnRyb2xsZXJzJywgZnVuY3Rpb24gKCkgewogICAgdmFy\nIHNjb3BlLCBsb2NhdGlvbiwgY29udHJvbGxlciwgd2luZG93LCBjb29raWVT\ndG9yZSwgJGh0dHBCYWNrZW5kOwoKICAgIGJlZm9yZUVhY2gobW9kdWxlKCdt\neUFwcCcpKTsKICAgIGJlZm9yZUVhY2goaW5qZWN0KGZ1bmN0aW9uKCRpbmpl\nY3RvcikgewogICAgICAgICRodHRwQmFja2VuZCA9ICRpbmplY3Rvci5nZXQo\nJyRodHRwQmFja2VuZCcpOwogICAgfSkpOwoKICAgIGRlc2NyaWJlKCdVc2Vy\nQ29udHJvbGxlcicsIGZ1bmN0aW9uICgpIHsKICAgICAgICBiZWZvcmVFYWNo\nKGluamVjdChmdW5jdGlvbiAoJHJvb3RTY29wZSwgJGNvbnRyb2xsZXIpIHsK\nICAgICAgICAgICAgc2NvcGUgPSAkcm9vdFNjb3BlLiRuZXcoKTsKICAgICAg\nICAgICAgY29udHJvbGxlciA9ICRjb250cm9sbGVyKCdVc2VyQ29udHJvbGxl\ncicsIHsKICAgICAgICAgICAgICAgICckc2NvcGUnOiBzY29wZQogICAgICAg\nICAgICB9KTsKICAgICAgICB9KSk7CgogICAgICAgIGl0KCdzaG91bGQgYmUg\nZGVmaW5lZCcsIGluamVjdChmdW5jdGlvbiAoJGNvbnRyb2xsZXIpIHsKICAg\nICAgICAgICAgZXhwZWN0KGNvbnRyb2xsZXIpLnRvQmVEZWZpbmVkKCk7CiAg\nICAgICAgICAgIGV4cGVjdChzY29wZS5zaG93RGV0YWlsKS50b0JlRGVmaW5l\nZCgpOwogICAgICAgIH0pKTsKICAgIH0pOwoKICAgIGRlc2NyaWJlKCdBZG1p\nbmlzdHJhdGlvbkNvbnRyb2xsZXInLCBmdW5jdGlvbiAoKSB7CiAgICAgICAg\nYmVmb3JlRWFjaChpbmplY3QoZnVuY3Rpb24gKCRyb290U2NvcGUsICRjb250\ncm9sbGVyKSB7CiAgICAgICAgICAgIHNjb3BlID0gJHJvb3RTY29wZS4kbmV3\nKCk7CiAgICAgICAgICAgIGNvbnRyb2xsZXIgPSAkY29udHJvbGxlcignQWRt\naW5pc3RyYXRpb25Db250cm9sbGVyJywgewogICAgICAgICAgICAgICAgJyRz\nY29wZSc6IHNjb3BlCiAgICAgICAgICAgIH0pOwogICAgICAgIH0pKTsKCiAg\nICAgICAgaXQoJ3Nob3VsZCBiZSBkZWZpbmVkJywgaW5qZWN0KGZ1bmN0aW9u\nICgkY29udHJvbGxlcikgewogICAgICAgICAgICBleHBlY3QoY29udHJvbGxl\ncikudG9CZURlZmluZWQoKTsKICAgICAgICB9KSk7CiAgICB9KTsKCiAgICBk\nZXNjcmliZSgnQWJvdXRDb250cm9sbGVyJywgZnVuY3Rpb24gKCkgewogICAg\nICAgIGJlZm9yZUVhY2goaW5qZWN0KGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAk\nY29udHJvbGxlcikgewogICAgICAgICAgICBzY29wZSA9ICRyb290U2NvcGUu\nJG5ldygpOwogICAgICAgICAgICBjb250cm9sbGVyID0gJGNvbnRyb2xsZXIo\nJ0Fib3V0Q29udHJvbGxlcicsIHsKICAgICAgICAgICAgICAgICckc2NvcGUn\nOiBzY29wZQogICAgICAgICAgICB9KTsKICAgICAgICB9KSk7CgogICAgICAg\nIGl0KCdzaG91bGQgYmUgZGVmaW5lZCcsIGluamVjdChmdW5jdGlvbiAoJGNv\nbnRyb2xsZXIpIHsKICAgICAgICAgICAgZXhwZWN0KGNvbnRyb2xsZXIpLnRv\nQmVEZWZpbmVkKCk7CiAgICAgICAgfSkpOwogICAgfSk7CgogICAgZGVzY3Jp\nYmUoJ0ZlZWRiYWNrQ29udHJvbGxlcicsIGZ1bmN0aW9uICgpIHsKICAgICAg\nICBiZWZvcmVFYWNoKGluamVjdChmdW5jdGlvbiAoJHJvb3RTY29wZSwgJGNv\nbnRyb2xsZXIpIHsKICAgICAgICAgICAgc2NvcGUgPSAkcm9vdFNjb3BlLiRu\nZXcoKTsKICAgICAgICAgICAgY29udHJvbGxlciA9ICRjb250cm9sbGVyKCdG\nZWVkYmFja0NvbnRyb2xsZXInLCB7CiAgICAgICAgICAgICAgICAnJHNjb3Bl\nJzogc2NvcGUKICAgICAgICAgICAgfSk7CiAgICAgICAgfSkpOwoKICAgICAg\nICBpdCgnc2hvdWxkIGJlIGRlZmluZWQnLCBpbmplY3QoZnVuY3Rpb24gKCRj\nb250cm9sbGVyKSB7CiAgICAgICAgICAgIGV4cGVjdChjb250cm9sbGVyKS50\nb0JlRGVmaW5lZCgpOwogICAgICAgICAgICBleHBlY3Qoc2NvcGUuZGVsZXRl\nKS50b0JlRGVmaW5lZCgpOwogICAgICAgIH0pKTsKICAgIH0pOwoKICAgIGRl\nc2NyaWJlKCdDb250YWN0Q29udHJvbGxlcicsIGZ1bmN0aW9uICgpIHsKICAg\nICAgICBiZWZvcmVFYWNoKGluamVjdChmdW5jdGlvbiAoJHJvb3RTY29wZSwg\nJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgc2NvcGUgPSAkcm9vdFNjb3Bl\nLiRuZXcoKTsKICAgICAgICAgICAgY29udHJvbGxlciA9ICRjb250cm9sbGVy\nKCdDb250YWN0Q29udHJvbGxlcicsIHsKICAgICAgICAgICAgICAgICckc2Nv\ncGUnOiBzY29wZQogICAgICAgICAgICB9KTsKICAgICAgICB9KSk7CgogICAg\nICAgIGl0KCdzaG91bGQgYmUgZGVmaW5lZCcsIGluamVjdChmdW5jdGlvbiAo\nJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgZXhwZWN0KGNvbnRyb2xsZXIp\nLnRvQmVEZWZpbmVkKCk7CiAgICAgICAgICAgIGV4cGVjdChzY29wZS5zYXZl\nKS50b0JlRGVmaW5lZCgpOwogICAgICAgIH0pKTsKICAgIH0pOwoKICAgIGRl\nc2NyaWJlKCdMb2dpbkNvbnRyb2xsZXInLCBmdW5jdGlvbiAoKSB7CiAgICAg\nICAgYmVmb3JlRWFjaChpbmplY3QoZnVuY3Rpb24gKCRyb290U2NvcGUsICR3\naW5kb3csICRsb2NhdGlvbiwgJGNvb2tpZVN0b3JlLCAkY29udHJvbGxlcikg\newogICAgICAgICAgICBzY29wZSA9ICRyb290U2NvcGUuJG5ldygpOwogICAg\nICAgICAgICBsb2NhdGlvbiA9ICRsb2NhdGlvbjsKICAgICAgICAgICAgd2lu\nZG93ID0gJHdpbmRvdzsKICAgICAgICAgICAgY29va2llU3RvcmUgPSAkY29v\na2llU3RvcmU7CiAgICAgICAgICAgIGNvbnRyb2xsZXIgPSAkY29udHJvbGxl\ncignTG9naW5Db250cm9sbGVyJywgewogICAgICAgICAgICAgICAgJyRzY29w\nZSc6IHNjb3BlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzY29wZS5m\nb3JtID0geyRzZXRQcmlzdGluZSA6IGZ1bmN0aW9uKCkge319OwogICAgICAg\nIH0pKTsKCiAgICAgICAgaXQoJ3Nob3VsZCBiZSBkZWZpbmVkJywgaW5qZWN0\nKGZ1bmN0aW9uICgkY29udHJvbGxlcikgewogICAgICAgICAgICBleHBlY3Qo\nY29udHJvbGxlcikudG9CZURlZmluZWQoKTsKICAgICAgICAgICAgZXhwZWN0\nKHNjb3BlLmxvZ2luKS50b0JlRGVmaW5lZCgpOwogICAgICAgIH0pKTsKCiAg\nICAgICAgaXQoJ2ZvcndhcmRzIHRvIG1haW4gcGFnZSBhZnRlciBzdWNjZXNz\nZnVsIGxvZ2luJywgaW5qZWN0KGZ1bmN0aW9uICgkY29udHJvbGxlcikgewog\nICAgICAgICAgICAkaHR0cEJhY2tlbmQud2hlblBPU1QoJy9yZXN0L3VzZXIv\nbG9naW4nKS5yZXNwb25kKDIwMCwge3Rva2VuOiAnYXV0aF90b2tlbid9KTsK\nCiAgICAgICAgICAgIHNjb3BlLmxvZ2luKCk7CiAgICAgICAgICAgICRodHRw\nQmFja2VuZC5mbHVzaCgpOwoKICAgICAgICAgICAgZXhwZWN0KGxvY2F0aW9u\nLnBhdGgoKSkudG9CZSgnLycpOwogICAgICAgIH0pKTsKCiAgICAgICAgaXQo\nJ3NldHMgdGhlIHJldHVybmVkIGF1dGhlbnRpY2F0aW9uIHRva2VuIGFzIHNl\nc3Npb24gY29va2llJywgaW5qZWN0KGZ1bmN0aW9uICgkY29udHJvbGxlcikg\newogICAgICAgICAgICAkaHR0cEJhY2tlbmQud2hlblBPU1QoJy9yZXN0L3Vz\nZXIvbG9naW4nKS5yZXNwb25kKDIwMCwge3Rva2VuOiAnYXV0aF90b2tlbid9\nKTsKCiAgICAgICAgICAgIHNjb3BlLmxvZ2luKCk7CiAgICAgICAgICAgICRo\ndHRwQmFja2VuZC5mbHVzaCgpOwoKICAgICAgICAgICAgZXhwZWN0KGNvb2tp\nZVN0b3JlLmdldCgndG9rZW4nKSkudG9CZSgnYXV0aF90b2tlbicpOwogICAg\nICAgIH0pKTsKCiAgICAgICAgaXQoJ3B1dHMgdGhlIHJldHVybmVkIGJhc2tl\ndCBpZCBpbnRvIGJyb3dzZXIgc2Vzc2lvbiBzdG9yYWdlJywgaW5qZWN0KGZ1\nbmN0aW9uICgkY29udHJvbGxlcikgewogICAgICAgICAgICAkaHR0cEJhY2tl\nbmQud2hlblBPU1QoJy9yZXN0L3VzZXIvbG9naW4nKS5yZXNwb25kKDIwMCwg\ne2JpZDogNDcxMX0pOwoKICAgICAgICAgICAgc2NvcGUubG9naW4oKTsKICAg\nICAgICAgICAgJGh0dHBCYWNrZW5kLmZsdXNoKCk7CgogICAgICAgICAgICBl\neHBlY3Qod2luZG93LnNlc3Npb25TdG9yYWdlLmJpZCkudG9CZSgnNDcxMScp\nOwogICAgICAgIH0pKTsKCiAgICAgICAgaXQoJ3JlbW92ZXMgYXV0aGVudGlj\nYXRpb24gdG9rZW4gYW5kIGJhc2tldCBpZCBvbiBmYWlsZWQgbG9naW4gYXR0\nZW1wdCcsIGluamVjdChmdW5jdGlvbiAoJGNvbnRyb2xsZXIpIHsKICAgICAg\nICAgICAgJGh0dHBCYWNrZW5kLndoZW5QT1NUKCcvcmVzdC91c2VyL2xvZ2lu\nJykucmVzcG9uZCg0MDEpOwoKICAgICAgICAgICAgc2NvcGUubG9naW4oKTsK\nICAgICAgICAgICAgJGh0dHBCYWNrZW5kLmZsdXNoKCk7CgogICAgICAgICAg\nICBleHBlY3QoY29va2llU3RvcmUuZ2V0KCd0b2tlbicpKS50b0JlVW5kZWZp\nbmVkOwogICAgICAgICAgICBleHBlY3Qod2luZG93LnNlc3Npb25TdG9yYWdl\nLmJpZCkudG9CZVVuZGVmaW5lZDsKICAgICAgICB9KSk7CgogICAgICAgIGl0\nKCdyZXR1cm5zIGVycm9yIG1lc3NhZ2UgZnJvbSBzZXJ2ZXIgdG8gY2xpZW50\nIG9uIGZhaWxlZCBsb2dpbiBhdHRlbXB0JywgaW5qZWN0KGZ1bmN0aW9uICgk\nY29udHJvbGxlcikgewogICAgICAgICAgICAkaHR0cEJhY2tlbmQud2hlblBP\nU1QoJy9yZXN0L3VzZXIvbG9naW4nKS5yZXNwb25kKDQwMSwgJ2Vycm9yJyk7\nCgogICAgICAgICAgICBzY29wZS5sb2dpbigpOwogICAgICAgICAgICAkaHR0\ncEJhY2tlbmQuZmx1c2goKTsKCiAgICAgICAgICAgIGV4cGVjdChzY29wZS5l\ncnJvcikudG9CZSgnZXJyb3InKTsKICAgICAgICB9KSk7CgogICAgfSk7Cgog\nICAgZGVzY3JpYmUoJ0xvZ291dENvbnRyb2xsZXInLCBmdW5jdGlvbiAoKSB7\nCiAgICAgICAgYmVmb3JlRWFjaChpbmplY3QoZnVuY3Rpb24gKCRyb290U2Nv\ncGUsICRjb250cm9sbGVyLCAkd2luZG93LCAkbG9jYXRpb24sICRjb29raWVT\ndG9yZSkgewogICAgICAgICAgICBzY29wZSA9ICRyb290U2NvcGUuJG5ldygp\nOwogICAgICAgICAgICB3aW5kb3cgPSAkd2luZG93OwogICAgICAgICAgICBs\nb2NhdGlvbiA9ICRsb2NhdGlvbjsKICAgICAgICAgICAgY29va2llU3RvcmUg\nPSAkY29va2llU3RvcmU7CiAgICAgICAgICAgIGNvbnRyb2xsZXIgPSAkY29u\ndHJvbGxlcignTG9nb3V0Q29udHJvbGxlcicsIHsKICAgICAgICAgICAgICAg\nICckc2NvcGUnOiBzY29wZQogICAgICAgICAgICB9KTsKICAgICAgICB9KSk7\nCgogICAgICAgIGl0KCdzaG91bGQgYmUgZGVmaW5lZCcsIGluamVjdChmdW5j\ndGlvbiAoJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgZXhwZWN0KGNvbnRy\nb2xsZXIpLnRvQmVEZWZpbmVkKCk7CiAgICAgICAgfSkpOwoKICAgICAgICBp\ndCgnc2hvdWxkIHJlbW92ZSBhdXRoZW50aWNhdGlvbiB0b2tlbiBmcm9tIGNv\nb2tpZXMnLCBpbmplY3QoZnVuY3Rpb24gKCRjb250cm9sbGVyKSB7CiAgICAg\nICAgICAgIGV4cGVjdChjb29raWVTdG9yZS5nZXQoJ3Rva2VuJykpLnRvQmVV\nbmRlZmluZWQoKTsKICAgICAgICB9KSk7CgogICAgICAgIGl0KCdzaG91bGQg\ncmVtb3ZlIGJhc2tldCBpZCBmcm9tIHNlc3Npb24gc3RvcmFnZScsIGluamVj\ndChmdW5jdGlvbiAoJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgZXhwZWN0\nKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5iaWQpLnRvQmVVbmRlZmluZWQoKTsK\nICAgICAgICB9KSk7CgogICAgICAgIGl0KCdzaG91bGQgZm9yd2FyZCB0byBt\nYWluIHBhZ2UnLCBpbmplY3QoZnVuY3Rpb24gKCRjb250cm9sbGVyKSB7CiAg\nICAgICAgICAgIGV4cGVjdChsb2NhdGlvbi5wYXRoKCkpLnRvQmUoJy8nKTsK\nICAgICAgICB9KSk7CgogICAgfSk7CgogICAgZGVzY3JpYmUoJ1JlZ2lzdGVy\nQ29udHJvbGxlcicsIGZ1bmN0aW9uICgpIHsKICAgICAgICBiZWZvcmVFYWNo\nKGluamVjdChmdW5jdGlvbiAoJHJvb3RTY29wZSwgJGNvbnRyb2xsZXIsICRs\nb2NhdGlvbikgewogICAgICAgICAgICBzY29wZSA9ICRyb290U2NvcGUuJG5l\ndygpOwogICAgICAgICAgICBsb2NhdGlvbiA9ICRsb2NhdGlvbjsKICAgICAg\nICAgICAgY29udHJvbGxlciA9ICRjb250cm9sbGVyKCdSZWdpc3RlckNvbnRy\nb2xsZXInLCB7CiAgICAgICAgICAgICAgICAnJHNjb3BlJzogc2NvcGUKICAg\nICAgICAgICAgfSk7CiAgICAgICAgfSkpOwoKICAgICAgICBpdCgnc2hvdWxk\nIGJlIGRlZmluZWQnLCBpbmplY3QoZnVuY3Rpb24gKCRjb250cm9sbGVyKSB7\nCiAgICAgICAgICAgIGV4cGVjdChjb250cm9sbGVyKS50b0JlRGVmaW5lZCgp\nOwogICAgICAgICAgICBleHBlY3Qoc2NvcGUuc2F2ZSkudG9CZURlZmluZWQo\nKTsKICAgICAgICB9KSk7CgogICAgICAgIGl0KCdyZXNldHMgdGhlIHJlZ2lz\ndHJhdGlvbiBmb3JtIGFuZCByZWRpcmVjdHMgdG8gbG9naW4gcGFnZSBhZnRl\nciB1c2VyIHJlZ2lzdHJhdGlvbicsIGluamVjdChmdW5jdGlvbiAoJGNvbnRy\nb2xsZXIpIHsKICAgICAgICAgICAgJGh0dHBCYWNrZW5kLndoZW5QT1NUKCcv\nYXBpL1VzZXJzLycpLnJlc3BvbmQoMjAwKTsKCiAgICAgICAgICAgIHNjb3Bl\nLnNhdmUoKTsKICAgICAgICAgICAgJGh0dHBCYWNrZW5kLmZsdXNoKCk7Cgog\nICAgICAgICAgICBleHBlY3Qoc2NvcGUudXNlcikudG9FcXVhbCh7fSk7CiAg\nICAgICAgICAgIGV4cGVjdChsb2NhdGlvbi5wYXRoKCkpLnRvQmUoJy9sb2dp\nbicpOwogICAgICAgIH0pKTsKCiAgICB9KTsKCiAgICBkZXNjcmliZSgnU2Vh\ncmNoQ29udHJvbGxlcicsIGZ1bmN0aW9uICgpIHsKICAgICAgICBiZWZvcmVF\nYWNoKGluamVjdChmdW5jdGlvbiAoJHJvb3RTY29wZSwgJGxvY2F0aW9uLCAk\nY29udHJvbGxlcikgewogICAgICAgICAgICBzY29wZSA9ICRyb290U2NvcGUu\nJG5ldygpOwogICAgICAgICAgICBsb2NhdGlvbiA9ICRsb2NhdGlvbjsKICAg\nICAgICAgICAgY29udHJvbGxlciA9ICRjb250cm9sbGVyKCdTZWFyY2hDb250\ncm9sbGVyJywgewogICAgICAgICAgICAgICAgJyRzY29wZSc6IHNjb3BlCiAg\nICAgICAgICAgIH0pOwogICAgICAgIH0pKTsKCiAgICAgICAgaXQoJ3Nob3Vs\nZCBiZSBkZWZpbmVkJywgaW5qZWN0KGZ1bmN0aW9uICgkY29udHJvbGxlcikg\newogICAgICAgICAgICBleHBlY3QoY29udHJvbGxlcikudG9CZURlZmluZWQo\nKTsKICAgICAgICAgICAgZXhwZWN0KHNjb3BlLnNlYXJjaCkudG9CZURlZmlu\nZWQoKTsKICAgICAgICB9KSk7CgogICAgICAgIGl0KCdmb3J3YXJkcyB0byBz\nZWFyY2ggcmVzdWx0IHdpdGggc2VhcmNoIHF1ZXJ5IGFzIFVSTCBwYXJhbWV0\nZXInLCBpbmplY3QoZnVuY3Rpb24gKCRjb250cm9sbGVyKSB7CiAgICAgICAg\nICAgIHNjb3BlLnNlYXJjaFF1ZXJ5ID0gJ2xlbW9uIGp1aWNlJzsKICAgICAg\nICAgICAgc2NvcGUuc2VhcmNoKCk7CiAgICAgICAgICAgIGV4cGVjdChsb2Nh\ndGlvbi5wYXRoKCkpLnRvQmUoJy9zZWFyY2gnKTsKICAgICAgICAgICAgZXhw\nZWN0KGxvY2F0aW9uLnNlYXJjaCgpKS50b0VxdWFsKHtxOiAnbGVtb24ganVp\nY2UnfSk7CiAgICAgICAgfSkpOwoKICAgICAgICBpdCgnZm9yd2FyZHMgdG8g\nc2VhcmNoIHJlc3VsdCB3aXRoIGVtcHR5IHNlYXJjaCBjcml0ZXJpYSBpZiBu\nbyBzZWFyY2ggcXVlcnkgaXMgcHJlc2VudCcsIGluamVjdChmdW5jdGlvbiAo\nJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgc2NvcGUuc2VhcmNoUXVlcnkg\nPSB1bmRlZmluZWQ7CiAgICAgICAgICAgIHNjb3BlLnNlYXJjaCgpOwogICAg\nICAgICAgICBleHBlY3QobG9jYXRpb24ucGF0aCgpKS50b0JlKCcvc2VhcmNo\nJyk7CiAgICAgICAgICAgIGV4cGVjdChsb2NhdGlvbi5zZWFyY2goKSkudG9F\ncXVhbCh7cTogJyd9KTsKICAgICAgICB9KSk7CgogICAgfSk7CgogICAgZGVz\nY3JpYmUoJ1NlYXJjaFJlc3VsdENvbnRyb2xsZXInLCBmdW5jdGlvbiAoKSB7\nCiAgICAgICAgYmVmb3JlRWFjaChpbmplY3QoZnVuY3Rpb24gKCRyb290U2Nv\ncGUsICRjb250cm9sbGVyKSB7CiAgICAgICAgICAgIHNjb3BlID0gJHJvb3RT\nY29wZS4kbmV3KCk7CiAgICAgICAgICAgIGNvbnRyb2xsZXIgPSAkY29udHJv\nbGxlcignU2VhcmNoUmVzdWx0Q29udHJvbGxlcicsIHsKICAgICAgICAgICAg\nICAgICckc2NvcGUnOiBzY29wZQogICAgICAgICAgICB9KTsKICAgICAgICB9\nKSk7CgogICAgICAgIGl0KCdzaG91bGQgYmUgZGVmaW5lZCcsIGluamVjdChm\ndW5jdGlvbiAoJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgZXhwZWN0KGNv\nbnRyb2xsZXIpLnRvQmVEZWZpbmVkKCk7CiAgICAgICAgICAgIGV4cGVjdChz\nY29wZS5zaG93RGV0YWlsKS50b0JlRGVmaW5lZCgpOwogICAgICAgICAgICBl\neHBlY3Qoc2NvcGUuYWRkVG9CYXNrZXQpLnRvQmVEZWZpbmVkKCk7CiAgICAg\nICAgfSkpOwogICAgfSk7CgogICAgZGVzY3JpYmUoJ05hdmJhckNvbnRyb2xs\nZXInLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgYmVmb3JlRWFjaChpbmplY3Qo\nZnVuY3Rpb24gKCRyb290U2NvcGUsICRjb250cm9sbGVyKSB7CiAgICAgICAg\nICAgIHNjb3BlID0gJHJvb3RTY29wZS4kbmV3KCk7CiAgICAgICAgICAgIGNv\nbnRyb2xsZXIgPSAkY29udHJvbGxlcignTmF2YmFyQ29udHJvbGxlcicsIHsK\nICAgICAgICAgICAgICAgICckc2NvcGUnOiBzY29wZQogICAgICAgICAgICB9\nKTsKICAgICAgICB9KSk7CgogICAgICAgIGl0KCdzaG91bGQgYmUgZGVmaW5l\nZCcsIGluamVjdChmdW5jdGlvbiAoJGNvbnRyb2xsZXIpIHsKICAgICAgICAg\nICAgZXhwZWN0KGNvbnRyb2xsZXIpLnRvQmVEZWZpbmVkKCk7CiAgICAgICAg\nfSkpOwogICAgfSk7CgogICAgZGVzY3JpYmUoJ0Jhc2tldENvbnRyb2xsZXIn\nLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgYmVmb3JlRWFjaChpbmplY3QoZnVu\nY3Rpb24gKCRyb290U2NvcGUsICRjb250cm9sbGVyKSB7CiAgICAgICAgICAg\nIHNjb3BlID0gJHJvb3RTY29wZS4kbmV3KCk7CiAgICAgICAgICAgIGNvbnRy\nb2xsZXIgPSAkY29udHJvbGxlcignQmFza2V0Q29udHJvbGxlcicsIHsKICAg\nICAgICAgICAgICAgICckc2NvcGUnOiBzY29wZQogICAgICAgICAgICB9KTsK\nICAgICAgICB9KSk7CgogICAgICAgIGl0KCdzaG91bGQgYmUgZGVmaW5lZCcs\nIGluamVjdChmdW5jdGlvbiAoJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAg\nZXhwZWN0KGNvbnRyb2xsZXIpLnRvQmVEZWZpbmVkKCk7CiAgICAgICAgICAg\nIGV4cGVjdChzY29wZS5kZWxldGUpLnRvQmVEZWZpbmVkKCk7CiAgICAgICAg\nICAgIGV4cGVjdChzY29wZS5vcmRlcikudG9CZURlZmluZWQoKTsKICAgICAg\nICAgICAgZXhwZWN0KHNjb3BlLmluYykudG9CZURlZmluZWQoKTsKICAgICAg\nICAgICAgZXhwZWN0KHNjb3BlLmRlYykudG9CZURlZmluZWQoKTsKICAgICAg\nICB9KSk7CiAgICB9KTsKCiAgICBkZXNjcmliZSgnQ2hhbGxlbmdlQ29udHJv\nbGxlcicsIGZ1bmN0aW9uICgpIHsKICAgICAgICBiZWZvcmVFYWNoKGluamVj\ndChmdW5jdGlvbiAoJHJvb3RTY29wZSwgJGNvbnRyb2xsZXIpIHsKICAgICAg\nICAgICAgc2NvcGUgPSAkcm9vdFNjb3BlLiRuZXcoKTsKICAgICAgICAgICAg\nY29udHJvbGxlciA9ICRjb250cm9sbGVyKCdDaGFsbGVuZ2VDb250cm9sbGVy\nJywgewogICAgICAgICAgICAgICAgJyRzY29wZSc6IHNjb3BlCiAgICAgICAg\nICAgIH0pOwogICAgICAgIH0pKTsKCiAgICAgICAgaXQoJ3Nob3VsZCBiZSBk\nZWZpbmVkJywgaW5qZWN0KGZ1bmN0aW9uICgkY29udHJvbGxlcikgewogICAg\nICAgICAgICBleHBlY3QoY29udHJvbGxlcikudG9CZURlZmluZWQoKTsKICAg\nICAgICB9KSk7CiAgICB9KTsKCiAgICBkZXNjcmliZSgnQ2hhbmdlUGFzc3dv\ncmRDb250cm9sbGVyJywgZnVuY3Rpb24gKCkgewogICAgICAgIGJlZm9yZUVh\nY2goaW5qZWN0KGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkY29udHJvbGxlcikg\newogICAgICAgICAgICBzY29wZSA9ICRyb290U2NvcGUuJG5ldygpOwogICAg\nICAgICAgICBjb250cm9sbGVyID0gJGNvbnRyb2xsZXIoJ0NoYW5nZVBhc3N3\nb3JkQ29udHJvbGxlcicsIHsKICAgICAgICAgICAgICAgICckc2NvcGUnOiBz\nY29wZQogICAgICAgICAgICB9KTsKICAgICAgICB9KSk7CgogICAgICAgIGl0\nKCdzaG91bGQgYmUgZGVmaW5lZCcsIGluamVjdChmdW5jdGlvbiAoJGNvbnRy\nb2xsZXIpIHsKICAgICAgICAgICAgZXhwZWN0KGNvbnRyb2xsZXIpLnRvQmVE\nZWZpbmVkKCk7CiAgICAgICAgICAgIGV4cGVjdChzY29wZS5jaGFuZ2VQYXNz\nd29yZCkudG9CZURlZmluZWQoKTsKICAgICAgICB9KSk7CiAgICB9KTsKCiAg\nICBkZXNjcmliZSgnUHJvZHVjdERldGFpbHNDb250cm9sbGVyJywgZnVuY3Rp\nb24gKCkgewogICAgICAgIGJlZm9yZUVhY2goaW5qZWN0KGZ1bmN0aW9uICgk\ncm9vdFNjb3BlLCAkY29udHJvbGxlcikgewogICAgICAgICAgICBzY29wZSA9\nICRyb290U2NvcGUuJG5ldygpOwogICAgICAgICAgICB2YXIgaWQ7CiAgICAg\nICAgICAgIGNvbnRyb2xsZXIgPSAkY29udHJvbGxlcignUHJvZHVjdERldGFp\nbHNDb250cm9sbGVyJywgewogICAgICAgICAgICAgICAgJyRzY29wZSc6IHNj\nb3BlLAogICAgICAgICAgICAgICAgJ2lkJzogaWQKICAgICAgICAgICAgfSk7\nCiAgICAgICAgfSkpOwoKICAgICAgICBpdCgnc2hvdWxkIGJlIGRlZmluZWQn\nLCBpbmplY3QoZnVuY3Rpb24gKCRjb250cm9sbGVyKSB7CiAgICAgICAgICAg\nIGV4cGVjdChjb250cm9sbGVyKS50b0JlRGVmaW5lZCgpOwogICAgICAgIH0p\nKTsKICAgIH0pOwoKICAgIGRlc2NyaWJlKCdVc2VyRGV0YWlsc0NvbnRyb2xs\nZXInLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgYmVmb3JlRWFjaChpbmplY3Qo\nZnVuY3Rpb24gKCRyb290U2NvcGUsICRjb250cm9sbGVyKSB7CiAgICAgICAg\nICAgIHNjb3BlID0gJHJvb3RTY29wZS4kbmV3KCk7CiAgICAgICAgICAgIHZh\nciBpZDsKICAgICAgICAgICAgY29udHJvbGxlciA9ICRjb250cm9sbGVyKCdV\nc2VyRGV0YWlsc0NvbnRyb2xsZXInLCB7CiAgICAgICAgICAgICAgICAnJHNj\nb3BlJzogc2NvcGUsCiAgICAgICAgICAgICAgICAnaWQnOiBpZAogICAgICAg\nICAgICB9KTsKICAgICAgICB9KSk7CgogICAgICAgIGl0KCdzaG91bGQgYmUg\nZGVmaW5lZCcsIGluamVjdChmdW5jdGlvbiAoJGNvbnRyb2xsZXIpIHsKICAg\nICAgICAgICAgZXhwZWN0KGNvbnRyb2xsZXIpLnRvQmVEZWZpbmVkKCk7CiAg\nICAgICAgfSkpOwogICAgfSk7Cgp9KTsK\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/controllersSpec.js?ref=3f3efa28a1993438345d12e37660e10c0fd4f269","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/b625ba23750036cc65baa91af171160ce59283d3","html":"https://github.com/juice-shop/juice-shop/blob/3f3efa28a1993438345d12e37660e10c0fd4f269/test/client/controllersSpec.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:42 GMT
      ETag:
      - W/"b625ba23750036cc65baa91af171160ce59283d3"
      Last-Modified:
      - Sat, 18 Oct 2014 12:19:10 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C393:21CD6:2B14FBF:2DCB970:66E29D8E
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4975'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '25'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/feedbackControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"feedbackControllerSpec.js","path":"test/client/feedbackControllerSpec.js","sha":"86105e4e734fed3ca03967b42d59856efafb60a7","size":3006,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/feedbackControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/feedbackControllerSpec.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/86105e4e734fed3ca03967b42d59856efafb60a7","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/feedbackControllerSpec.js","type":"file","content":"ZGVzY3JpYmUoJ2NvbnRyb2xsZXJzJywgZnVuY3Rpb24gKCkgewogICAgdmFy\nIHNjb3BlLCBjb250cm9sbGVyLCAkaHR0cEJhY2tlbmQsICRzY2U7CgogICAg\nYmVmb3JlRWFjaChtb2R1bGUoJ215QXBwJykpOwogICAgYmVmb3JlRWFjaChp\nbmplY3QoZnVuY3Rpb24oJGluamVjdG9yKSB7CiAgICAgICAgJGh0dHBCYWNr\nZW5kID0gJGluamVjdG9yLmdldCgnJGh0dHBCYWNrZW5kJyk7CiAgICAgICAg\nJHNjZSA9ICRpbmplY3Rvci5nZXQoJyRzY2UnKTsKICAgIH0pKTsKCiAgICBk\nZXNjcmliZSgnRmVlZGJhY2tDb250cm9sbGVyJywgZnVuY3Rpb24gKCkgewog\nICAgICAgIGJlZm9yZUVhY2goaW5qZWN0KGZ1bmN0aW9uICgkcm9vdFNjb3Bl\nLCAkY29udHJvbGxlcikgewogICAgICAgICAgICBzY29wZSA9ICRyb290U2Nv\ncGUuJG5ldygpOwogICAgICAgICAgICBjb250cm9sbGVyID0gJGNvbnRyb2xs\nZXIoJ0ZlZWRiYWNrQ29udHJvbGxlcicsIHsKICAgICAgICAgICAgICAgICck\nc2NvcGUnOiBzY29wZQogICAgICAgICAgICB9KTsKICAgICAgICB9KSk7Cgog\nICAgICAgIGl0KCdzaG91bGQgYmUgZGVmaW5lZCcsIGluamVjdChmdW5jdGlv\nbiAoJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgZXhwZWN0KGNvbnRyb2xs\nZXIpLnRvQmVEZWZpbmVkKCk7CiAgICAgICAgICAgIGV4cGVjdChzY29wZS5k\nZWxldGUpLnRvQmVEZWZpbmVkKCk7CiAgICAgICAgfSkpOwoKICAgICAgICBp\ndCgnc2hvdWxkIGhvbGQgZXhpc3RpbmcgZmVlZGJhY2snLCBpbmplY3QoZnVu\nY3Rpb24gKCRjb250cm9sbGVyKSB7CiAgICAgICAgICAgICRodHRwQmFja2Vu\nZC53aGVuR0VUKCcvYXBpL0ZlZWRiYWNrcy8nKS5yZXNwb25kKDIwMCwge2Rh\ndGE6IFt7Y29tbWVudDogJ2EnfSx7Y29tbWVudDogJ2InfV19KTsKCiAgICAg\nICAgICAgICRodHRwQmFja2VuZC5mbHVzaCgpOwoKICAgICAgICAgICAgZXhw\nZWN0KHNjb3BlLmZlZWRiYWNrcy5sZW5ndGgpLnRvQmUoMik7CiAgICAgICAg\nICAgIGV4cGVjdChzY29wZS5mZWVkYmFja3NbMF0uY29tbWVudCkudG9CZURl\nZmluZWQoKTsKICAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZlZWRiYWNrc1sx\nXS5jb21tZW50KS50b0JlRGVmaW5lZCgpOwogICAgICAgIH0pKTsKCiAgICAg\nICAgaXQoJ3Nob3VsZCBhZGQgYW4gaW1hZ2UgdG8gZmVlZGJhY2snLCBpbmpl\nY3QoZnVuY3Rpb24gKCRjb250cm9sbGVyKSB7CiAgICAgICAgICAgICRodHRw\nQmFja2VuZC53aGVuR0VUKCcvYXBpL0ZlZWRiYWNrcy8nKS5yZXNwb25kKDIw\nMCwge2RhdGE6IFt7fV19KTsKCiAgICAgICAgICAgICRodHRwQmFja2VuZC5m\nbHVzaCgpOwoKICAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZlZWRiYWNrc1sw\nXS5pbWFnZSkudG9CZURlZmluZWQoKTsKICAgICAgICB9KSk7CgogICAgICAg\nIGl0KCdzaG91bGQgY29uc2lkZXIgZmVlZGJhY2sgY29tbWVudCBhcyB0cnVz\ndGVkIEhUTUwnLCBpbmplY3QoZnVuY3Rpb24gKCRjb250cm9sbGVyKSB7CiAg\nICAgICAgICAgICRodHRwQmFja2VuZC53aGVuR0VUKCcvYXBpL0ZlZWRiYWNr\ncy8nKS5yZXNwb25kKDIwMCwge2RhdGE6IFt7Y29tbWVudDogJzxzY3JpcHQ+\nYWxlcnQoIlhTUzMiKTwvc2NyaXB0Pid9XX0pOwogICAgICAgICAgICBzcHlP\nbigkc2NlLCAndHJ1c3RBc0h0bWwnKTsKCiAgICAgICAgICAgICRodHRwQmFj\na2VuZC5mbHVzaCgpOwoKICAgICAgICAgICAgZXhwZWN0KCRzY2UudHJ1c3RB\nc0h0bWwpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCc8c2NyaXB0PmFsZXJ0KCJY\nU1MzIik8L3NjcmlwdD4nKTsKICAgICAgICB9KSk7CgogICAgICAgIGl0KCdz\naG91bGQgaG9sZCBub3RoaW5nIHdoZW4gbm8gZmVlZGJhY2sgZXhpc3RzJywg\naW5qZWN0KGZ1bmN0aW9uICgkY29udHJvbGxlcikgewogICAgICAgICAgICAk\naHR0cEJhY2tlbmQud2hlbkdFVCgnL2FwaS9GZWVkYmFja3MvJykucmVzcG9u\nZCgyMDAsIHtkYXRhOiB7fX0pOwoKICAgICAgICAgICAgJGh0dHBCYWNrZW5k\nLmZsdXNoKCk7CgogICAgICAgICAgICBleHBlY3Qoc2NvcGUuZmVlZGJhY2tz\nKS50b0VxdWFsKHt9KTsKICAgICAgICB9KSk7CgogICAgICAgIGl0KCdzaG91\nbGQgaG9sZCBub3RoaW5nIG9uIGVycm9yIGZyb20gYmFja2VuZCBBUEknLCBp\nbmplY3QoZnVuY3Rpb24gKCRjb250cm9sbGVyKSB7CiAgICAgICAgICAgICRo\ndHRwQmFja2VuZC53aGVuR0VUKCcvYXBpL0ZlZWRiYWNrcy8nKS5yZXNwb25k\nKDUwMCk7CgogICAgICAgICAgICAkaHR0cEJhY2tlbmQuZmx1c2goKTsKCiAg\nICAgICAgICAgIGV4cGVjdChzY29wZS5mZWVkYmFja3MpLnRvQmVVbmRlZmlu\nZWQoKTsKICAgICAgICB9KSk7CgogICAgICAgIGl0KCdzaG91bGQgcGFzcyBk\nZWxldGUgcmVxdWVzdCBmb3IgZmVlZGJhY2sgdG8gYmFja2VuZCBBUEknLCBp\nbmplY3QoZnVuY3Rpb24gKCRjb250cm9sbGVyKSB7CiAgICAgICAgICAgICRo\ndHRwQmFja2VuZC53aGVuR0VUKCcvYXBpL0ZlZWRiYWNrcy8nKS5yZXNwb25k\nKDIwMCwge2RhdGE6IFt7aWQ6IDQyfV19KTsKICAgICAgICAgICAgJGh0dHBC\nYWNrZW5kLndoZW5ERUxFVEUoJy9hcGkvRmVlZGJhY2tzLzQyJykucmVzcG9u\nZCgyMDApOwoKICAgICAgICAgICAgc2NvcGUuZGVsZXRlKDQyKTsKICAgICAg\nICAgICAgJGh0dHBCYWNrZW5kLmZsdXNoKCk7CiAgICAgICAgfSkpOwoKICAg\nICAgICBpdCgnc2hvdWxkIGdyYWNlZnVsbHkgaGFuZGxlIGVycm9yIHdoaWxl\nIGRlbGV0aW5nIGZlZWRiYWNrJywgaW5qZWN0KGZ1bmN0aW9uICgkY29udHJv\nbGxlcikgewogICAgICAgICAgICAkaHR0cEJhY2tlbmQud2hlbkdFVCgnL2Fw\naS9GZWVkYmFja3MvJykucmVzcG9uZCgyMDAsIHtkYXRhOiBbe2lkOiA0Mn1d\nfSk7CiAgICAgICAgICAgICRodHRwQmFja2VuZC53aGVuREVMRVRFKCcvYXBp\nL0ZlZWRiYWNrcy80NzExJykucmVzcG9uZCg1MDApOwoKICAgICAgICAgICAg\nc2NvcGUuZGVsZXRlKDQ3MTEpOwogICAgICAgICAgICAkaHR0cEJhY2tlbmQu\nZmx1c2goKTsKICAgICAgICB9KSk7CgogICAgfSk7Cgp9KTsK\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/feedbackControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/86105e4e734fed3ca03967b42d59856efafb60a7","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/feedbackControllerSpec.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:43 GMT
      ETag:
      - W/"86105e4e734fed3ca03967b42d59856efafb60a7"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C394:3F0A6F:133B437:1469BAE:66E29D8E
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4974'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '26'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/loginControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"loginControllerSpec.js","path":"test/client/loginControllerSpec.js","sha":"d8771612ca4ab5fa6ac672a27c048079fe6e0788","size":2556,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/loginControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/loginControllerSpec.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/d8771612ca4ab5fa6ac672a27c048079fe6e0788","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/loginControllerSpec.js","type":"file","content":"ZGVzY3JpYmUoJ2NvbnRyb2xsZXJzJywgZnVuY3Rpb24gKCkgewogICAgdmFy\nIHNjb3BlLCBsb2NhdGlvbiwgY29udHJvbGxlciwgd2luZG93LCBjb29raWVT\ndG9yZSwgJGh0dHBCYWNrZW5kOwoKICAgIGJlZm9yZUVhY2gobW9kdWxlKCdt\neUFwcCcpKTsKICAgIGJlZm9yZUVhY2goaW5qZWN0KGZ1bmN0aW9uKCRpbmpl\nY3RvcikgewogICAgICAgICRodHRwQmFja2VuZCA9ICRpbmplY3Rvci5nZXQo\nJyRodHRwQmFja2VuZCcpOwogICAgfSkpOwoKICAgIGRlc2NyaWJlKCdMb2dp\nbkNvbnRyb2xsZXInLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgYmVmb3JlRWFj\naChpbmplY3QoZnVuY3Rpb24gKCRyb290U2NvcGUsICR3aW5kb3csICRsb2Nh\ndGlvbiwgJGNvb2tpZVN0b3JlLCAkY29udHJvbGxlcikgewogICAgICAgICAg\nICBzY29wZSA9ICRyb290U2NvcGUuJG5ldygpOwogICAgICAgICAgICBsb2Nh\ndGlvbiA9ICRsb2NhdGlvbjsKICAgICAgICAgICAgd2luZG93ID0gJHdpbmRv\ndzsKICAgICAgICAgICAgY29va2llU3RvcmUgPSAkY29va2llU3RvcmU7CiAg\nICAgICAgICAgIGNvbnRyb2xsZXIgPSAkY29udHJvbGxlcignTG9naW5Db250\ncm9sbGVyJywgewogICAgICAgICAgICAgICAgJyRzY29wZSc6IHNjb3BlCiAg\nICAgICAgICAgIH0pOwogICAgICAgICAgICBzY29wZS5mb3JtID0geyRzZXRQ\ncmlzdGluZSA6IGZ1bmN0aW9uKCkge319OwogICAgICAgIH0pKTsKCiAgICAg\nICAgaXQoJ3Nob3VsZCBiZSBkZWZpbmVkJywgaW5qZWN0KGZ1bmN0aW9uICgk\nY29udHJvbGxlcikgewogICAgICAgICAgICBleHBlY3QoY29udHJvbGxlciku\ndG9CZURlZmluZWQoKTsKICAgICAgICAgICAgZXhwZWN0KHNjb3BlLmxvZ2lu\nKS50b0JlRGVmaW5lZCgpOwogICAgICAgIH0pKTsKCiAgICAgICAgaXQoJ2Zv\ncndhcmRzIHRvIG1haW4gcGFnZSBhZnRlciBzdWNjZXNzZnVsIGxvZ2luJywg\naW5qZWN0KGZ1bmN0aW9uICgkY29udHJvbGxlcikgewogICAgICAgICAgICAk\naHR0cEJhY2tlbmQud2hlblBPU1QoJy9yZXN0L3VzZXIvbG9naW4nKS5yZXNw\nb25kKDIwMCwge3Rva2VuOiAnYXV0aF90b2tlbid9KTsKCiAgICAgICAgICAg\nIHNjb3BlLmxvZ2luKCk7CiAgICAgICAgICAgICRodHRwQmFja2VuZC5mbHVz\naCgpOwoKICAgICAgICAgICAgZXhwZWN0KGxvY2F0aW9uLnBhdGgoKSkudG9C\nZSgnLycpOwogICAgICAgIH0pKTsKCiAgICAgICAgaXQoJ3NldHMgdGhlIHJl\ndHVybmVkIGF1dGhlbnRpY2F0aW9uIHRva2VuIGFzIHNlc3Npb24gY29va2ll\nJywgaW5qZWN0KGZ1bmN0aW9uICgkY29udHJvbGxlcikgewogICAgICAgICAg\nICAkaHR0cEJhY2tlbmQud2hlblBPU1QoJy9yZXN0L3VzZXIvbG9naW4nKS5y\nZXNwb25kKDIwMCwge3Rva2VuOiAnYXV0aF90b2tlbid9KTsKCiAgICAgICAg\nICAgIHNjb3BlLmxvZ2luKCk7CiAgICAgICAgICAgICRodHRwQmFja2VuZC5m\nbHVzaCgpOwoKICAgICAgICAgICAgZXhwZWN0KGNvb2tpZVN0b3JlLmdldCgn\ndG9rZW4nKSkudG9CZSgnYXV0aF90b2tlbicpOwogICAgICAgIH0pKTsKCiAg\nICAgICAgaXQoJ3B1dHMgdGhlIHJldHVybmVkIGJhc2tldCBpZCBpbnRvIGJy\nb3dzZXIgc2Vzc2lvbiBzdG9yYWdlJywgaW5qZWN0KGZ1bmN0aW9uICgkY29u\ndHJvbGxlcikgewogICAgICAgICAgICAkaHR0cEJhY2tlbmQud2hlblBPU1Qo\nJy9yZXN0L3VzZXIvbG9naW4nKS5yZXNwb25kKDIwMCwge2JpZDogNDcxMX0p\nOwoKICAgICAgICAgICAgc2NvcGUubG9naW4oKTsKICAgICAgICAgICAgJGh0\ndHBCYWNrZW5kLmZsdXNoKCk7CgogICAgICAgICAgICBleHBlY3Qod2luZG93\nLnNlc3Npb25TdG9yYWdlLmJpZCkudG9CZSgnNDcxMScpOwogICAgICAgIH0p\nKTsKCiAgICAgICAgaXQoJ3JlbW92ZXMgYXV0aGVudGljYXRpb24gdG9rZW4g\nYW5kIGJhc2tldCBpZCBvbiBmYWlsZWQgbG9naW4gYXR0ZW1wdCcsIGluamVj\ndChmdW5jdGlvbiAoJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgJGh0dHBC\nYWNrZW5kLndoZW5QT1NUKCcvcmVzdC91c2VyL2xvZ2luJykucmVzcG9uZCg0\nMDEpOwoKICAgICAgICAgICAgc2NvcGUubG9naW4oKTsKICAgICAgICAgICAg\nJGh0dHBCYWNrZW5kLmZsdXNoKCk7CgogICAgICAgICAgICBleHBlY3QoY29v\na2llU3RvcmUuZ2V0KCd0b2tlbicpKS50b0JlVW5kZWZpbmVkOwogICAgICAg\nICAgICBleHBlY3Qod2luZG93LnNlc3Npb25TdG9yYWdlLmJpZCkudG9CZVVu\nZGVmaW5lZDsKICAgICAgICB9KSk7CgogICAgICAgIGl0KCdyZXR1cm5zIGVy\ncm9yIG1lc3NhZ2UgZnJvbSBzZXJ2ZXIgdG8gY2xpZW50IG9uIGZhaWxlZCBs\nb2dpbiBhdHRlbXB0JywgaW5qZWN0KGZ1bmN0aW9uICgkY29udHJvbGxlcikg\newogICAgICAgICAgICAkaHR0cEJhY2tlbmQud2hlblBPU1QoJy9yZXN0L3Vz\nZXIvbG9naW4nKS5yZXNwb25kKDQwMSwgJ2Vycm9yJyk7CgogICAgICAgICAg\nICBzY29wZS5sb2dpbigpOwogICAgICAgICAgICAkaHR0cEJhY2tlbmQuZmx1\nc2goKTsKCiAgICAgICAgICAgIGV4cGVjdChzY29wZS5lcnJvcikudG9CZSgn\nZXJyb3InKTsKICAgICAgICB9KSk7CgogICAgfSk7Cgp9KTsK\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/loginControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/d8771612ca4ab5fa6ac672a27c048079fe6e0788","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/loginControllerSpec.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:43 GMT
      ETag:
      - W/"d8771612ca4ab5fa6ac672a27c048079fe6e0788"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C395:3E8A81:2F5B95D:324DE23:66E29D8F
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4973'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '27'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/logoutControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"logoutControllerSpec.js","path":"test/client/logoutControllerSpec.js","sha":"e5209a25188c9b3a921c89e5a926faae51172855","size":1149,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/logoutControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/logoutControllerSpec.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/e5209a25188c9b3a921c89e5a926faae51172855","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/logoutControllerSpec.js","type":"file","content":"ZGVzY3JpYmUoJ2NvbnRyb2xsZXJzJywgZnVuY3Rpb24gKCkgewogICAgdmFy\nIHNjb3BlLCBsb2NhdGlvbiwgY29udHJvbGxlciwgd2luZG93LCBjb29raWVT\ndG9yZTsKCiAgICBiZWZvcmVFYWNoKG1vZHVsZSgnbXlBcHAnKSk7CgogICAg\nZGVzY3JpYmUoJ0xvZ291dENvbnRyb2xsZXInLCBmdW5jdGlvbiAoKSB7CiAg\nICAgICAgYmVmb3JlRWFjaChpbmplY3QoZnVuY3Rpb24gKCRyb290U2NvcGUs\nICRjb250cm9sbGVyLCAkd2luZG93LCAkbG9jYXRpb24sICRjb29raWVTdG9y\nZSkgewogICAgICAgICAgICBzY29wZSA9ICRyb290U2NvcGUuJG5ldygpOwog\nICAgICAgICAgICB3aW5kb3cgPSAkd2luZG93OwogICAgICAgICAgICBsb2Nh\ndGlvbiA9ICRsb2NhdGlvbjsKICAgICAgICAgICAgY29va2llU3RvcmUgPSAk\nY29va2llU3RvcmU7CiAgICAgICAgICAgIGNvbnRyb2xsZXIgPSAkY29udHJv\nbGxlcignTG9nb3V0Q29udHJvbGxlcicsIHsKICAgICAgICAgICAgICAgICck\nc2NvcGUnOiBzY29wZQogICAgICAgICAgICB9KTsKICAgICAgICB9KSk7Cgog\nICAgICAgIGl0KCdzaG91bGQgYmUgZGVmaW5lZCcsIGluamVjdChmdW5jdGlv\nbiAoJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgZXhwZWN0KGNvbnRyb2xs\nZXIpLnRvQmVEZWZpbmVkKCk7CiAgICAgICAgfSkpOwoKICAgICAgICBpdCgn\nc2hvdWxkIHJlbW92ZSBhdXRoZW50aWNhdGlvbiB0b2tlbiBmcm9tIGNvb2tp\nZXMnLCBpbmplY3QoZnVuY3Rpb24gKCRjb250cm9sbGVyKSB7CiAgICAgICAg\nICAgIGV4cGVjdChjb29raWVTdG9yZS5nZXQoJ3Rva2VuJykpLnRvQmVVbmRl\nZmluZWQoKTsKICAgICAgICB9KSk7CgogICAgICAgIGl0KCdzaG91bGQgcmVt\nb3ZlIGJhc2tldCBpZCBmcm9tIHNlc3Npb24gc3RvcmFnZScsIGluamVjdChm\ndW5jdGlvbiAoJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgZXhwZWN0KHdp\nbmRvdy5zZXNzaW9uU3RvcmFnZS5iaWQpLnRvQmVVbmRlZmluZWQoKTsKICAg\nICAgICB9KSk7CgogICAgICAgIGl0KCdzaG91bGQgZm9yd2FyZCB0byBtYWlu\nIHBhZ2UnLCBpbmplY3QoZnVuY3Rpb24gKCRjb250cm9sbGVyKSB7CiAgICAg\nICAgICAgIGV4cGVjdChsb2NhdGlvbi5wYXRoKCkpLnRvQmUoJy8nKTsKICAg\nICAgICB9KSk7CgogICAgfSk7Cgp9KTsK\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/logoutControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/e5209a25188c9b3a921c89e5a926faae51172855","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/logoutControllerSpec.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:44 GMT
      ETag:
      - W/"e5209a25188c9b3a921c89e5a926faae51172855"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C396:1CD927:3543136:3883BA0:66E29D90
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4972'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '28'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/navbarControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"navbarControllerSpec.js","path":"test/client/navbarControllerSpec.js","sha":"de62a60440019e9fdaee82cdf1888363f71f7892","size":1467,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/navbarControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/navbarControllerSpec.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/de62a60440019e9fdaee82cdf1888363f71f7892","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/navbarControllerSpec.js","type":"file","content":"ZGVzY3JpYmUoJ2NvbnRyb2xsZXJzJywgZnVuY3Rpb24gKCkgewogICAgdmFy\nIHNjb3BlLCBjb250cm9sbGVyLCAkaHR0cEJhY2tlbmQ7CgogICAgYmVmb3Jl\nRWFjaChtb2R1bGUoJ215QXBwJykpOwogICAgYmVmb3JlRWFjaChpbmplY3Qo\nZnVuY3Rpb24oJGluamVjdG9yKSB7CiAgICAgICAgJGh0dHBCYWNrZW5kID0g\nJGluamVjdG9yLmdldCgnJGh0dHBCYWNrZW5kJyk7CiAgICB9KSk7CgogICAg\nZGVzY3JpYmUoJ05hdmJhckNvbnRyb2xsZXInLCBmdW5jdGlvbiAoKSB7CiAg\nICAgICAgYmVmb3JlRWFjaChpbmplY3QoZnVuY3Rpb24gKCRyb290U2NvcGUs\nICRjb250cm9sbGVyKSB7CiAgICAgICAgICAgIHNjb3BlID0gJHJvb3RTY29w\nZS4kbmV3KCk7CiAgICAgICAgICAgIGNvbnRyb2xsZXIgPSAkY29udHJvbGxl\ncignTmF2YmFyQ29udHJvbGxlcicsIHsKICAgICAgICAgICAgICAgICckc2Nv\ncGUnOiBzY29wZQogICAgICAgICAgICB9KTsKICAgICAgICB9KSk7CgogICAg\nICAgIGl0KCdzaG91bGQgYmUgZGVmaW5lZCcsIGluamVjdChmdW5jdGlvbiAo\nJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgZXhwZWN0KGNvbnRyb2xsZXIp\nLnRvQmVEZWZpbmVkKCk7CiAgICAgICAgfSkpOwoKICAgICAgICBpdCgnc2hv\ndWxkIGhvbGQgYXBwbGljYXRpb24gdmVyc2lvbicsIGluamVjdChmdW5jdGlv\nbiAoJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgJGh0dHBCYWNrZW5kLndo\nZW5HRVQoJy9yZXN0L2FkbWluL2FwcGxpY2F0aW9uLXZlcnNpb24nKS5yZXNw\nb25kKDIwMCwge3ZlcnNpb246ICd4Lnkueid9KTsKCiAgICAgICAgICAgICRo\ndHRwQmFja2VuZC5mbHVzaCgpOwoKICAgICAgICAgICAgZXhwZWN0KHNjb3Bl\nLnZlcnNpb24pLnRvQmUoJ3Z4LnkueicpOwogICAgICAgIH0pKTsKCiAgICAg\nICAgaXQoJ3Nob3VsZCBzaG93IG5vdGhpbmcgb24gbWlzc2luZyBhcHBsaWNh\ndGlvbiB2ZXJzaW9uJywgaW5qZWN0KGZ1bmN0aW9uICgkY29udHJvbGxlcikg\newogICAgICAgICAgICAkaHR0cEJhY2tlbmQud2hlbkdFVCgnL3Jlc3QvYWRt\naW4vYXBwbGljYXRpb24tdmVyc2lvbicpLnJlc3BvbmQoMjAwLCB7fSk7Cgog\nICAgICAgICAgICAkaHR0cEJhY2tlbmQuZmx1c2goKTsKCiAgICAgICAgICAg\nIGV4cGVjdChzY29wZS52ZXJzaW9uKS50b0JlKCcnKTsKICAgICAgICB9KSk7\nCgogICAgICAgIGl0KCdzaG91bGQgc2hvdyBub3RoaW5nIG9uIGVycm9yIHJl\ndHJpZXZpbmcgYXBwbGljYXRpb24gdmVyc2lvbicsIGluamVjdChmdW5jdGlv\nbiAoJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgJGh0dHBCYWNrZW5kLndo\nZW5HRVQoJy9yZXN0L2FkbWluL2FwcGxpY2F0aW9uLXZlcnNpb24nKS5yZXNw\nb25kKDUwMCk7CgogICAgICAgICAgICAkaHR0cEJhY2tlbmQuZmx1c2goKTsK\nCiAgICAgICAgICAgIGV4cGVjdChzY29wZS52ZXJzaW9uKS50b0JlKCcnKTsK\nICAgICAgICB9KSk7CgogICAgfSk7Cgp9KTsK\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/navbarControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/de62a60440019e9fdaee82cdf1888363f71f7892","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/navbarControllerSpec.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:45 GMT
      ETag:
      - W/"de62a60440019e9fdaee82cdf1888363f71f7892"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C397:FB021:2A8977:2DCAAE:66E29D90
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4971'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '29'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/productdetailsControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"productdetailsControllerSpec.js","path":"test/client/productdetailsControllerSpec.js","sha":"b52a89ba85de1dd72420e5c08e68e01a69426d80","size":1714,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/productdetailsControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/productdetailsControllerSpec.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/b52a89ba85de1dd72420e5c08e68e01a69426d80","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/productdetailsControllerSpec.js","type":"file","content":"ZGVzY3JpYmUoJ2NvbnRyb2xsZXJzJywgZnVuY3Rpb24gKCkgewogICAgdmFy\nIHNjb3BlLCBjb250cm9sbGVyLCAkaHR0cEJhY2tlbmQsICRzY2U7CgogICAg\nYmVmb3JlRWFjaChtb2R1bGUoJ215QXBwJykpOwogICAgYmVmb3JlRWFjaChp\nbmplY3QoZnVuY3Rpb24oJGluamVjdG9yKSB7CiAgICAgICAgJGh0dHBCYWNr\nZW5kID0gJGluamVjdG9yLmdldCgnJGh0dHBCYWNrZW5kJyk7CiAgICAgICAg\nJHNjZSA9ICRpbmplY3Rvci5nZXQoJyRzY2UnKTsKICAgIH0pKTsKCiAgICBk\nZXNjcmliZSgnUHJvZHVjdERldGFpbHNDb250cm9sbGVyJywgZnVuY3Rpb24g\nKCkgewogICAgICAgIGJlZm9yZUVhY2goaW5qZWN0KGZ1bmN0aW9uICgkcm9v\ndFNjb3BlLCAkY29udHJvbGxlcikgewogICAgICAgICAgICBzY29wZSA9ICRy\nb290U2NvcGUuJG5ldygpOwogICAgICAgICAgICBjb250cm9sbGVyID0gJGNv\nbnRyb2xsZXIoJ1Byb2R1Y3REZXRhaWxzQ29udHJvbGxlcicsIHsKICAgICAg\nICAgICAgICAgICckc2NvcGUnOiBzY29wZSwKICAgICAgICAgICAgICAgICdp\nZCc6IDQyCiAgICAgICAgICAgIH0pOwogICAgICAgIH0pKTsKCiAgICAgICAg\naXQoJ3Nob3VsZCBiZSBkZWZpbmVkJywgaW5qZWN0KGZ1bmN0aW9uICgkY29u\ndHJvbGxlcikgewogICAgICAgICAgICBleHBlY3QoY29udHJvbGxlcikudG9C\nZURlZmluZWQoKTsKICAgICAgICB9KSk7CgogICAgICAgIGl0KCdzaG91bGQg\naG9sZCBzaW5nbGUgcHJvZHVjdCB3aXRoIGdpdmVuIGlkJywgaW5qZWN0KGZ1\nbmN0aW9uICgkY29udHJvbGxlcikgewogICAgICAgICAgICAkaHR0cEJhY2tl\nbmQud2hlbkdFVCgnL2FwaS9Qcm9kdWN0cy80MicpLnJlc3BvbmQoMjAwLCB7\nZGF0YToge25hbWU6ICdUZXN0IEp1aWNlJ319KTsKCiAgICAgICAgICAgICRo\ndHRwQmFja2VuZC5mbHVzaCgpOwoKICAgICAgICAgICAgZXhwZWN0KHNjb3Bl\nLnByb2R1Y3QpLnRvQmVEZWZpbmVkKCk7CiAgICAgICAgICAgIGV4cGVjdChz\nY29wZS5wcm9kdWN0Lm5hbWUpLnRvQmUoJ1Rlc3QgSnVpY2UnKTsKICAgICAg\nICB9KSk7CgogICAgICAgIGl0KCdzaG91bGQgcmVuZGVyIHByb2R1Y3QgZGVz\nY3JpcHRpb24gYXMgdHJ1c3RlZCBIVE1MJywgaW5qZWN0KGZ1bmN0aW9uICgk\nY29udHJvbGxlcikgewogICAgICAgICAgICAkaHR0cEJhY2tlbmQud2hlbkdF\nVCgnL2FwaS9Qcm9kdWN0cy80MicpLnJlc3BvbmQoMjAwLCB7ZGF0YToge2Rl\nc2NyaXB0aW9uOiAnPHNjcmlwdD5hbGVydCgiWFNTNCIpPC9zY3JpcHQ+J319\nKTsKICAgICAgICAgICAgc3B5T24oJHNjZSwgJ3RydXN0QXNIdG1sJyk7Cgog\nICAgICAgICAgICAkaHR0cEJhY2tlbmQuZmx1c2goKTsKCiAgICAgICAgICAg\nIGV4cGVjdCgkc2NlLnRydXN0QXNIdG1sKS50b0hhdmVCZWVuQ2FsbGVkV2l0\naCgnPHNjcmlwdD5hbGVydCgiWFNTNCIpPC9zY3JpcHQ+Jyk7CiAgICAgICAg\nfSkpOwoKICAgICAgICBpdCgnc2hvdWxkIGhvbGQgbm8gcHJvZHVjdCBpZiBB\nUEkgY2FsbCBmYWlscycsIGluamVjdChmdW5jdGlvbiAoJGNvbnRyb2xsZXIp\nIHsKICAgICAgICAgICAgJGh0dHBCYWNrZW5kLndoZW5HRVQoJy9hcGkvUHJv\nZHVjdHMvNDInKS5yZXNwb25kKDUwMCk7CgogICAgICAgICAgICAkaHR0cEJh\nY2tlbmQuZmx1c2goKTsKCiAgICAgICAgICAgIGV4cGVjdChzY29wZS5wcm9k\ndWN0KS50b0JlVW5kZWZpbmVkKCk7CiAgICAgICAgfSkpOwoKICAgIH0pOwoK\nfSk7Cg==\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/productdetailsControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/b52a89ba85de1dd72420e5c08e68e01a69426d80","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/productdetailsControllerSpec.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:45 GMT
      ETag:
      - W/"b52a89ba85de1dd72420e5c08e68e01a69426d80"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C398:119800:A5FEF:ACFC7:66E29D91
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4970'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '30'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/registerControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"registerControllerSpec.js","path":"test/client/registerControllerSpec.js","sha":"59a5d8335f0b80de10b041fe95424b41b82c2758","size":1095,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/registerControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/registerControllerSpec.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/59a5d8335f0b80de10b041fe95424b41b82c2758","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/registerControllerSpec.js","type":"file","content":"ZGVzY3JpYmUoJ2NvbnRyb2xsZXJzJywgZnVuY3Rpb24gKCkgewogICAgdmFy\nIHNjb3BlLCBsb2NhdGlvbiwgY29udHJvbGxlciwgJGh0dHBCYWNrZW5kOwoK\nICAgIGJlZm9yZUVhY2gobW9kdWxlKCdteUFwcCcpKTsKICAgIGJlZm9yZUVh\nY2goaW5qZWN0KGZ1bmN0aW9uKCRpbmplY3RvcikgewogICAgICAgICRodHRw\nQmFja2VuZCA9ICRpbmplY3Rvci5nZXQoJyRodHRwQmFja2VuZCcpOwogICAg\nfSkpOwoKICAgIGRlc2NyaWJlKCdSZWdpc3RlckNvbnRyb2xsZXInLCBmdW5j\ndGlvbiAoKSB7CiAgICAgICAgYmVmb3JlRWFjaChpbmplY3QoZnVuY3Rpb24g\nKCRyb290U2NvcGUsICRjb250cm9sbGVyLCAkbG9jYXRpb24pIHsKICAgICAg\nICAgICAgc2NvcGUgPSAkcm9vdFNjb3BlLiRuZXcoKTsKICAgICAgICAgICAg\nbG9jYXRpb24gPSAkbG9jYXRpb247CiAgICAgICAgICAgIGNvbnRyb2xsZXIg\nPSAkY29udHJvbGxlcignUmVnaXN0ZXJDb250cm9sbGVyJywgewogICAgICAg\nICAgICAgICAgJyRzY29wZSc6IHNjb3BlCiAgICAgICAgICAgIH0pOwogICAg\nICAgIH0pKTsKCiAgICAgICAgaXQoJ3Nob3VsZCBiZSBkZWZpbmVkJywgaW5q\nZWN0KGZ1bmN0aW9uICgkY29udHJvbGxlcikgewogICAgICAgICAgICBleHBl\nY3QoY29udHJvbGxlcikudG9CZURlZmluZWQoKTsKICAgICAgICAgICAgZXhw\nZWN0KHNjb3BlLnNhdmUpLnRvQmVEZWZpbmVkKCk7CiAgICAgICAgfSkpOwoK\nICAgICAgICBpdCgncmVzZXRzIHRoZSByZWdpc3RyYXRpb24gZm9ybSBhbmQg\ncmVkaXJlY3RzIHRvIGxvZ2luIHBhZ2UgYWZ0ZXIgdXNlciByZWdpc3RyYXRp\nb24nLCBpbmplY3QoZnVuY3Rpb24gKCRjb250cm9sbGVyKSB7CiAgICAgICAg\nICAgICRodHRwQmFja2VuZC53aGVuUE9TVCgnL2FwaS9Vc2Vycy8nKS5yZXNw\nb25kKDIwMCk7CgogICAgICAgICAgICBzY29wZS5zYXZlKCk7CiAgICAgICAg\nICAgICRodHRwQmFja2VuZC5mbHVzaCgpOwoKICAgICAgICAgICAgZXhwZWN0\nKHNjb3BlLnVzZXIpLnRvRXF1YWwoe30pOwogICAgICAgICAgICBleHBlY3Qo\nbG9jYXRpb24ucGF0aCgpKS50b0JlKCcvbG9naW4nKTsKICAgICAgICB9KSk7\nCgogICAgfSk7Cgp9KTsK\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/registerControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/59a5d8335f0b80de10b041fe95424b41b82c2758","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/registerControllerSpec.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:46 GMT
      ETag:
      - W/"59a5d8335f0b80de10b041fe95424b41b82c2758"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C399:D3B94:2245F91:24625A2:66E29D92
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4969'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '31'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/searchControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"searchControllerSpec.js","path":"test/client/searchControllerSpec.js","sha":"8141856c87eb9bf2ae83f0d410ead890048f3766","size":1249,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/searchControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/searchControllerSpec.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/8141856c87eb9bf2ae83f0d410ead890048f3766","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/searchControllerSpec.js","type":"file","content":"ZGVzY3JpYmUoJ2NvbnRyb2xsZXJzJywgZnVuY3Rpb24gKCkgewogICAgdmFy\nIHNjb3BlLCBsb2NhdGlvbiwgY29udHJvbGxlcjsKCiAgICBiZWZvcmVFYWNo\nKG1vZHVsZSgnbXlBcHAnKSk7CgogICAgZGVzY3JpYmUoJ1NlYXJjaENvbnRy\nb2xsZXInLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgYmVmb3JlRWFjaChpbmpl\nY3QoZnVuY3Rpb24gKCRyb290U2NvcGUsICRsb2NhdGlvbiwgJGNvbnRyb2xs\nZXIpIHsKICAgICAgICAgICAgc2NvcGUgPSAkcm9vdFNjb3BlLiRuZXcoKTsK\nICAgICAgICAgICAgbG9jYXRpb24gPSAkbG9jYXRpb247CiAgICAgICAgICAg\nIGNvbnRyb2xsZXIgPSAkY29udHJvbGxlcignU2VhcmNoQ29udHJvbGxlcics\nIHsKICAgICAgICAgICAgICAgICckc2NvcGUnOiBzY29wZQogICAgICAgICAg\nICB9KTsKICAgICAgICB9KSk7CgogICAgICAgIGl0KCdzaG91bGQgYmUgZGVm\naW5lZCcsIGluamVjdChmdW5jdGlvbiAoJGNvbnRyb2xsZXIpIHsKICAgICAg\nICAgICAgZXhwZWN0KGNvbnRyb2xsZXIpLnRvQmVEZWZpbmVkKCk7CiAgICAg\nICAgICAgIGV4cGVjdChzY29wZS5zZWFyY2gpLnRvQmVEZWZpbmVkKCk7CiAg\nICAgICAgfSkpOwoKICAgICAgICBpdCgnZm9yd2FyZHMgdG8gc2VhcmNoIHJl\nc3VsdCB3aXRoIHNlYXJjaCBxdWVyeSBhcyBVUkwgcGFyYW1ldGVyJywgaW5q\nZWN0KGZ1bmN0aW9uICgkY29udHJvbGxlcikgewogICAgICAgICAgICBzY29w\nZS5zZWFyY2hRdWVyeSA9ICdsZW1vbiBqdWljZSc7CiAgICAgICAgICAgIHNj\nb3BlLnNlYXJjaCgpOwogICAgICAgICAgICBleHBlY3QobG9jYXRpb24ucGF0\naCgpKS50b0JlKCcvc2VhcmNoJyk7CiAgICAgICAgICAgIGV4cGVjdChsb2Nh\ndGlvbi5zZWFyY2goKSkudG9FcXVhbCh7cTogJ2xlbW9uIGp1aWNlJ30pOwog\nICAgICAgIH0pKTsKCiAgICAgICAgaXQoJ2ZvcndhcmRzIHRvIHNlYXJjaCBy\nZXN1bHQgd2l0aCBlbXB0eSBzZWFyY2ggY3JpdGVyaWEgaWYgbm8gc2VhcmNo\nIHF1ZXJ5IGlzIHByZXNlbnQnLCBpbmplY3QoZnVuY3Rpb24gKCRjb250cm9s\nbGVyKSB7CiAgICAgICAgICAgIHNjb3BlLnNlYXJjaFF1ZXJ5ID0gdW5kZWZp\nbmVkOwogICAgICAgICAgICBzY29wZS5zZWFyY2goKTsKICAgICAgICAgICAg\nZXhwZWN0KGxvY2F0aW9uLnBhdGgoKSkudG9CZSgnL3NlYXJjaCcpOwogICAg\nICAgICAgICBleHBlY3QobG9jYXRpb24uc2VhcmNoKCkpLnRvRXF1YWwoe3E6\nICcnfSk7CiAgICAgICAgfSkpOwoKICAgIH0pOwoKfSk7Cg==\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/searchControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/8141856c87eb9bf2ae83f0d410ead890048f3766","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/searchControllerSpec.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:47 GMT
      ETag:
      - W/"8141856c87eb9bf2ae83f0d410ead890048f3766"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C39A:368170:1DC10EE:1F76BF0:66E29D93
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4968'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '32'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/searchresultControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"searchresultControllerSpec.js","path":"test/client/searchresultControllerSpec.js","sha":"4507ae54457904235a5f5c690aa503b9e00b884a","size":7838,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/searchresultControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/searchresultControllerSpec.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/4507ae54457904235a5f5c690aa503b9e00b884a","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/searchresultControllerSpec.js","type":"file","content":"ZGVzY3JpYmUoJ2NvbnRyb2xsZXJzJywgZnVuY3Rpb24gKCkgewogICAgdmFy\nIHNjb3BlLCBsb2NhdGlvbiwgY29udHJvbGxlciwgJGh0dHBCYWNrZW5kLCAk\nc2NlLCAkbW9kYWwsIHdpbmRvdzsKCiAgICBiZWZvcmVFYWNoKG1vZHVsZSgn\nbXlBcHAnKSk7CiAgICBiZWZvcmVFYWNoKGluamVjdChmdW5jdGlvbigkaW5q\nZWN0b3IpIHsKICAgICAgICAkaHR0cEJhY2tlbmQgPSAkaW5qZWN0b3IuZ2V0\nKCckaHR0cEJhY2tlbmQnKTsKICAgICAgICAkc2NlID0gJGluamVjdG9yLmdl\ndCgnJHNjZScpOwogICAgICAgICRtb2RhbCA9ICRpbmplY3Rvci5nZXQoJyRt\nb2RhbCcpOwogICAgfSkpOwoKICAgIGRlc2NyaWJlKCdTZWFyY2hSZXN1bHRD\nb250cm9sbGVyJywgZnVuY3Rpb24gKCkgewogICAgICAgIGJlZm9yZUVhY2go\naW5qZWN0KGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkbG9jYXRpb24sICR3aW5k\nb3csICRjb250cm9sbGVyKSB7CiAgICAgICAgICAgIHNjb3BlID0gJHJvb3RT\nY29wZS4kbmV3KCk7CiAgICAgICAgICAgIGxvY2F0aW9uID0gJGxvY2F0aW9u\nOwogICAgICAgICAgICB3aW5kb3cgPSAkd2luZG93OwogICAgICAgICAgICBj\nb250cm9sbGVyID0gJGNvbnRyb2xsZXIoJ1NlYXJjaFJlc3VsdENvbnRyb2xs\nZXInLCB7CiAgICAgICAgICAgICAgICAnJHNjb3BlJzogc2NvcGUKICAgICAg\nICAgICAgfSk7CiAgICAgICAgfSkpOwoKICAgICAgICBpdCgnc2hvdWxkIGJl\nIGRlZmluZWQnLCBpbmplY3QoZnVuY3Rpb24gKCRjb250cm9sbGVyKSB7CiAg\nICAgICAgICAgIGV4cGVjdChjb250cm9sbGVyKS50b0JlRGVmaW5lZCgpOwog\nICAgICAgICAgICBleHBlY3Qoc2NvcGUuc2hvd0RldGFpbCkudG9CZURlZmlu\nZWQoKTsKICAgICAgICAgICAgZXhwZWN0KHNjb3BlLmFkZFRvQmFza2V0KS50\nb0JlRGVmaW5lZCgpOwogICAgICAgIH0pKTsKCiAgICAgICAgeGl0KCdzaG91\nbGQgcmVuZGVyIHVzZXIgc2VhcmNoIHF1ZXJ5IGFzIHRydXN0ZWQgSFRNTCcs\nIGluamVjdChmdW5jdGlvbiAoJGNvbnRyb2xsZXIsICRsb2NhdGlvbikgewog\nICAgICAgICAgICAkaHR0cEJhY2tlbmQud2hlbkdFVCgnL3Jlc3QvcHJvZHVj\ndC9zZWFyY2g/cT08c2NyaXB0PmFsZXJ0KCJYU1MxIik8L3NjcmlwdD4nKS5y\nZXNwb25kKDIwMCwge2RhdGE6IFtdfSk7CiAgICAgICAgICAgIHNweU9uKGxv\nY2F0aW9uLCAnc2VhcmNoJykuYW5kUmV0dXJuKCB7cSA6ICc8c2NyaXB0PmFs\nZXJ0KCJYU1MxIik8L3NjcmlwdD4nfSApOyAvLyBUT0RPIE1vY2tpbmcgbG9j\nYXRpb24gZmFpbHMKICAgICAgICAgICAgc3B5T24oJHNjZSwgJ3RydXN0QXNI\ndG1sJyk7CgogICAgICAgICAgICAkaHR0cEJhY2tlbmQuZmx1c2goKTsKCiAg\nICAgICAgICAgIGV4cGVjdChzY29wZS5zZWFyY2hRdWVyeSkudG9CZURlZmlu\nZWQoKTsKICAgICAgICAgICAgZXhwZWN0KCRzY2UudHJ1c3RBc0h0bWwpLnRv\nSGF2ZUJlZW5DYWxsZWRXaXRoKCc8c2NyaXB0PmFsZXJ0KCJYU1MxIik8L3Nj\ncmlwdD4nKTsKICAgICAgICB9KSk7CgogICAgICAgIGl0KCdzaG91bGQgcmVu\nZGVyIHByb2R1Y3QgZGVzY3JpcHRpb25zIGFzIHRydXN0ZWQgSFRNTCcsIGlu\namVjdChmdW5jdGlvbiAoJGNvbnRyb2xsZXIsICRsb2NhdGlvbikgewogICAg\nICAgICAgICAkaHR0cEJhY2tlbmQud2hlbkdFVCgnL3Jlc3QvcHJvZHVjdC9z\nZWFyY2g/cT11bmRlZmluZWQnKS5yZXNwb25kKDIwMCwge2RhdGE6IFt7ZGVz\nY3JpcHRpb246ICc8c2NyaXB0PmFsZXJ0KCJYU1M0Iik8L3NjcmlwdD4nfV19\nKTsKICAgICAgICAgICAgc3B5T24oJHNjZSwgJ3RydXN0QXNIdG1sJyk7Cgog\nICAgICAgICAgICAkaHR0cEJhY2tlbmQuZmx1c2goKTsKCiAgICAgICAgICAg\nIGV4cGVjdCgkc2NlLnRydXN0QXNIdG1sKS50b0hhdmVCZWVuQ2FsbGVkV2l0\naCgnPHNjcmlwdD5hbGVydCgiWFNTNCIpPC9zY3JpcHQ+Jyk7CiAgICAgICAg\nfSkpOwoKICAgICAgICBpdCgnc2hvdWxkIGhvbGQgbm8gcHJvZHVjdHMgd2hl\nbiBwcm9kdWN0IHNlYXJjaCBBUEkgY2FsbCBmYWlscycsIGluamVjdChmdW5j\ndGlvbiAoJGNvbnRyb2xsZXIsICRsb2NhdGlvbikgewogICAgICAgICAgICAk\naHR0cEJhY2tlbmQud2hlbkdFVCgnL3Jlc3QvcHJvZHVjdC9zZWFyY2g/cT11\nbmRlZmluZWQnKS5yZXNwb25kKDUwMCk7CgogICAgICAgICAgICAkaHR0cEJh\nY2tlbmQuZmx1c2goKTsKCiAgICAgICAgICAgIGV4cGVjdChzY29wZS5wcm9k\ndWN0cykudG9CZVVuZGVmaW5lZCgpOwogICAgICAgIH0pKTsKCiAgICAgICAg\naXQoJ3Nob3VsZCBvcGVuIGEgbW9kYWwgZGlhbG9nIHdpdGggcHJvZHVjdCBk\nZXRhaWxzJywgaW5qZWN0KGZ1bmN0aW9uICgkY29udHJvbGxlcikgewogICAg\nICAgICAgICBzcHlPbigkbW9kYWwsICdvcGVuJyk7CgogICAgICAgICAgICBz\nY29wZS5zaG93RGV0YWlsKCk7CgogICAgICAgICAgICBleHBlY3QoJG1vZGFs\nLm9wZW4pLnRvSGF2ZUJlZW5DYWxsZWQoKTsKICAgICAgICB9KSk7CgogICAg\nICAgIGl0KCdzaG91bGQgYWRkIG5ldyBwcm9kdWN0IHRvIGJhc2tldCcsIGlu\namVjdChmdW5jdGlvbiAoJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgJGh0\ndHBCYWNrZW5kLndoZW5HRVQoJy9yZXN0L3Byb2R1Y3Qvc2VhcmNoP3E9dW5k\nZWZpbmVkJykucmVzcG9uZCgyMDAsIHtkYXRhOiBbXX0pOwoKICAgICAgICAg\nICAgd2luZG93LnNlc3Npb25TdG9yYWdlLmJpZCA9IDQ3MTE7CiAgICAgICAg\nICAgICRodHRwQmFja2VuZC53aGVuR0VUKCcvcmVzdC9iYXNrZXQvNDcxMScp\nLnJlc3BvbmQoMjAwLCB7ZGF0YToge3Byb2R1Y3RzOiBbXX19KTsKICAgICAg\nICAgICAgJGh0dHBCYWNrZW5kLndoZW5QT1NUKCcvYXBpL0Jhc2tldEl0ZW1z\nLycpLnJlc3BvbmQoMjAwLCB7ZGF0YToge1Byb2R1Y3RJZDogMX19KTsKICAg\nICAgICAgICAgJGh0dHBCYWNrZW5kLndoZW5HRVQoJy9hcGkvUHJvZHVjdHMv\nMScpLnJlc3BvbmQoMjAwLCB7ZGF0YToge25hbWU6ICdDaGVycnkgSnVpY2Un\nfX0pOwoKICAgICAgICAgICAgc2NvcGUuYWRkVG9CYXNrZXQoMSk7CiAgICAg\nICAgICAgICRodHRwQmFja2VuZC5mbHVzaCgpOwoKICAgICAgICAgICAgZXhw\nZWN0KHNjb3BlLmNvbmZpcm1hdGlvbikudG9CZSgnUGxhY2VkIENoZXJyeSBK\ndWljZSBpbnRvIGJhc2tldC4nKTsKICAgICAgICB9KSk7CgogICAgICAgIGl0\nKCdzaG91bGQgYWRkIHNpbWlsYXIgcHJvZHVjdCB0byBiYXNrZXQnLCBpbmpl\nY3QoZnVuY3Rpb24gKCRjb250cm9sbGVyKSB7CiAgICAgICAgICAgICRodHRw\nQmFja2VuZC53aGVuR0VUKCcvcmVzdC9wcm9kdWN0L3NlYXJjaD9xPXVuZGVm\naW5lZCcpLnJlc3BvbmQoMjAwLCB7ZGF0YTogW119KTsKCiAgICAgICAgICAg\nIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5iaWQgPSA0NzExOwogICAgICAgICAg\nICAkaHR0cEJhY2tlbmQud2hlbkdFVCgnL3Jlc3QvYmFza2V0LzQ3MTEnKS5y\nZXNwb25kKDIwMCwge2RhdGE6IHtwcm9kdWN0czogW3tpZCA6IDF9LCB7aWQg\nOiAyLCBuYW1lOiAnVG9tYXRvIEp1aWNlJywgYmFza2V0SXRlbToge2lkOiA0\nMn19XX19KTsKICAgICAgICAgICAgJGh0dHBCYWNrZW5kLndoZW5HRVQoJy9h\ncGkvQmFza2V0SXRlbXMvNDInKS5yZXNwb25kKDIwMCwge2RhdGE6IHtpZDog\nNDIsIHF1YW50aXR5OiA1fX0pOwogICAgICAgICAgICAkaHR0cEJhY2tlbmQu\nd2hlblBVVCgnL2FwaS9CYXNrZXRJdGVtcy80MicpLnJlc3BvbmQoMjAwLCB7\nZGF0YToge1Byb2R1Y3RJZDogMn19KTsKICAgICAgICAgICAgJGh0dHBCYWNr\nZW5kLndoZW5HRVQoJy9hcGkvUHJvZHVjdHMvMicpLnJlc3BvbmQoMjAwLCB7\nZGF0YToge25hbWU6ICdUb21hdG8gSnVpY2UnfX0pOwoKICAgICAgICAgICAg\nc2NvcGUuYWRkVG9CYXNrZXQoMik7CiAgICAgICAgICAgICRodHRwQmFja2Vu\nZC5mbHVzaCgpOwoKICAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvbmZpcm1h\ndGlvbikudG9CZSgnQWRkZWQgYW5vdGhlciBUb21hdG8gSnVpY2UgdG8gYmFz\na2V0LicpOwogICAgICAgIH0pKTsKCiAgICAgICAgaXQoJ3Nob3VsZCBub3Qg\nYWRkIGFueXRoaW5nIHRvIGJhc2tldCBvbiBlcnJvciByZXRyaWV2aW5nIGJh\nc2tldCcsIGluamVjdChmdW5jdGlvbiAoJGNvbnRyb2xsZXIpIHsKICAgICAg\nICAgICAgJGh0dHBCYWNrZW5kLndoZW5HRVQoJy9yZXN0L3Byb2R1Y3Qvc2Vh\ncmNoP3E9dW5kZWZpbmVkJykucmVzcG9uZCgyMDAsIHtkYXRhOiBbXX0pOwoK\nICAgICAgICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLmJpZCA9IDgxNTsK\nICAgICAgICAgICAgJGh0dHBCYWNrZW5kLndoZW5HRVQoJy9yZXN0L2Jhc2tl\ndC84MTUnKS5yZXNwb25kKDUwMCk7CgogICAgICAgICAgICBzY29wZS5hZGRU\nb0Jhc2tldCgpOwogICAgICAgICAgICAkaHR0cEJhY2tlbmQuZmx1c2goKTsK\nCiAgICAgICAgICAgIGV4cGVjdChzY29wZS5jb25maXJtYXRpb24pLnRvQmVV\nbmRlZmluZWQoKTsKICAgICAgICB9KSk7CgogICAgICAgIGl0KCdzaG91bGQg\nbm90IGFkZCBhbnl0aGluZyB0byBiYXNrZXQgb24gZXJyb3IgcmV0cmlldmlu\nZyBleGlzdGluZyBiYXNrZXQgaXRlbScsIGluamVjdChmdW5jdGlvbiAoJGNv\nbnRyb2xsZXIpIHsKICAgICAgICAgICAgJGh0dHBCYWNrZW5kLndoZW5HRVQo\nJy9yZXN0L3Byb2R1Y3Qvc2VhcmNoP3E9dW5kZWZpbmVkJykucmVzcG9uZCgy\nMDAsIHtkYXRhOiBbXX0pOwoKICAgICAgICAgICAgd2luZG93LnNlc3Npb25T\ndG9yYWdlLmJpZCA9IDQ3MTE7CiAgICAgICAgICAgICRodHRwQmFja2VuZC53\naGVuR0VUKCcvcmVzdC9iYXNrZXQvNDcxMScpLnJlc3BvbmQoMjAwLCB7ZGF0\nYToge3Byb2R1Y3RzOiBbe2lkIDogMX0sIHtpZCA6IDIsIG5hbWU6ICdUb21h\ndG8gSnVpY2UnLCBiYXNrZXRJdGVtOiB7aWQ6IDQyfX1dfX0pOwogICAgICAg\nICAgICAkaHR0cEJhY2tlbmQud2hlbkdFVCgnL2FwaS9CYXNrZXRJdGVtcy80\nMicpLnJlc3BvbmQoNTAwKTsKCiAgICAgICAgICAgIHNjb3BlLmFkZFRvQmFz\na2V0KDIpOwogICAgICAgICAgICAkaHR0cEJhY2tlbmQuZmx1c2goKTsKCiAg\nICAgICAgICAgIGV4cGVjdChzY29wZS5jb25maXJtYXRpb24pLnRvQmVVbmRl\nZmluZWQoKTsKCiAgICAgICAgfSkpOwoKICAgICAgICBpdCgnc2hvdWxkIG5v\ndCBhZGQgYW55dGhpbmcgdG8gYmFza2V0IG9uIGVycm9yIHVwZGF0aW5nIGJh\nc2tldCBpdGVtJywgaW5qZWN0KGZ1bmN0aW9uICgkY29udHJvbGxlcikgewog\nICAgICAgICAgICAkaHR0cEJhY2tlbmQud2hlbkdFVCgnL3Jlc3QvcHJvZHVj\ndC9zZWFyY2g/cT11bmRlZmluZWQnKS5yZXNwb25kKDIwMCwge2RhdGE6IFtd\nfSk7CgogICAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuYmlkID0g\nNDcxMTsKICAgICAgICAgICAgJGh0dHBCYWNrZW5kLndoZW5HRVQoJy9yZXN0\nL2Jhc2tldC80NzExJykucmVzcG9uZCgyMDAsIHtkYXRhOiB7cHJvZHVjdHM6\nIFt7aWQgOiAxfSwge2lkIDogMiwgbmFtZTogJ1RvbWF0byBKdWljZScsIGJh\nc2tldEl0ZW06IHtpZDogNDJ9fV19fSk7CiAgICAgICAgICAgICRodHRwQmFj\na2VuZC53aGVuR0VUKCcvYXBpL0Jhc2tldEl0ZW1zLzQyJykucmVzcG9uZCgy\nMDAsIHtkYXRhOiB7aWQ6IDQyLCBxdWFudGl0eTogNX19KTsKICAgICAgICAg\nICAgJGh0dHBCYWNrZW5kLndoZW5QVVQoJy9hcGkvQmFza2V0SXRlbXMvNDIn\nKS5yZXNwb25kKDUwMCk7CgogICAgICAgICAgICBzY29wZS5hZGRUb0Jhc2tl\ndCgyKTsKICAgICAgICAgICAgJGh0dHBCYWNrZW5kLmZsdXNoKCk7CgogICAg\nICAgICAgICBleHBlY3Qoc2NvcGUuY29uZmlybWF0aW9uKS50b0JlVW5kZWZp\nbmVkKCk7CgogICAgICAgIH0pKTsKCiAgICAgICAgaXQoJ3Nob3VsZCBub3Qg\nYWRkIGFueXRoaW5nIHRvIGJhc2tldCBvbiBlcnJvciByZXRyaWV2aW5nIHBy\nb2R1Y3QgYXNzb2NpYXRlZCB3aXRoIGJhc2tldCBpdGVtJywgaW5qZWN0KGZ1\nbmN0aW9uICgkY29udHJvbGxlcikgewogICAgICAgICAgICAkaHR0cEJhY2tl\nbmQud2hlbkdFVCgnL3Jlc3QvcHJvZHVjdC9zZWFyY2g/cT11bmRlZmluZWQn\nKS5yZXNwb25kKDIwMCwge2RhdGE6IFtdfSk7CgogICAgICAgICAgICB3aW5k\nb3cuc2Vzc2lvblN0b3JhZ2UuYmlkID0gNDcxMTsKICAgICAgICAgICAgJGh0\ndHBCYWNrZW5kLndoZW5HRVQoJy9yZXN0L2Jhc2tldC80NzExJykucmVzcG9u\nZCgyMDAsIHtkYXRhOiB7cHJvZHVjdHM6IFt7aWQgOiAxfSwge2lkIDogMiwg\nbmFtZTogJ1RvbWF0byBKdWljZScsIGJhc2tldEl0ZW06IHtpZDogNDJ9fV19\nfSk7CiAgICAgICAgICAgICRodHRwQmFja2VuZC53aGVuR0VUKCcvYXBpL0Jh\nc2tldEl0ZW1zLzQyJykucmVzcG9uZCgyMDAsIHtkYXRhOiB7aWQ6IDQyLCBx\ndWFudGl0eTogNX19KTsKICAgICAgICAgICAgJGh0dHBCYWNrZW5kLndoZW5Q\nVVQoJy9hcGkvQmFza2V0SXRlbXMvNDInKS5yZXNwb25kKDIwMCwge2RhdGE6\nIHtQcm9kdWN0SWQ6IDJ9fSk7CiAgICAgICAgICAgICRodHRwQmFja2VuZC53\naGVuR0VUKCcvYXBpL1Byb2R1Y3RzLzInKS5yZXNwb25kKDUwMCk7CgogICAg\nICAgICAgICBzY29wZS5hZGRUb0Jhc2tldCgyKTsKICAgICAgICAgICAgJGh0\ndHBCYWNrZW5kLmZsdXNoKCk7CgogICAgICAgICAgICBleHBlY3Qoc2NvcGUu\nY29uZmlybWF0aW9uKS50b0JlVW5kZWZpbmVkKCk7CgogICAgICAgIH0pKTsK\nCiAgICAgICAgaXQoJ3Nob3VsZCBub3QgYWRkIGFueXRoaW5nIG9uIGVycm9y\nIGNyZWF0aW5nIG5ldyBiYXNrZXQgaXRlbScsIGluamVjdChmdW5jdGlvbiAo\nJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgJGh0dHBCYWNrZW5kLndoZW5H\nRVQoJy9yZXN0L3Byb2R1Y3Qvc2VhcmNoP3E9dW5kZWZpbmVkJykucmVzcG9u\nZCgyMDAsIHtkYXRhOiBbXX0pOwoKICAgICAgICAgICAgd2luZG93LnNlc3Np\nb25TdG9yYWdlLmJpZCA9IDQ3MTE7CiAgICAgICAgICAgICRodHRwQmFja2Vu\nZC53aGVuR0VUKCcvcmVzdC9iYXNrZXQvNDcxMScpLnJlc3BvbmQoMjAwLCB7\nZGF0YToge3Byb2R1Y3RzOiBbXX19KTsKICAgICAgICAgICAgJGh0dHBCYWNr\nZW5kLndoZW5QT1NUKCcvYXBpL0Jhc2tldEl0ZW1zLycpLnJlc3BvbmQoNTAw\nKTsKCiAgICAgICAgICAgIHNjb3BlLmFkZFRvQmFza2V0KDEpOwogICAgICAg\nICAgICAkaHR0cEJhY2tlbmQuZmx1c2goKTsKCiAgICAgICAgICAgIGV4cGVj\ndChzY29wZS5jb25maXJtYXRpb24pLnRvQmVVbmRlZmluZWQoKTsKICAgICAg\nICB9KSk7CgogICAgICAgIGl0KCdzaG91bGQgbm90IGFkZCBhbnl0aGluZyBv\nbiBlcnJvciByZXRyaWV2aW5nIHByb2R1Y3QgYWZ0ZXIgY3JlYXRpbmcgbmV3\nIGJhc2tldCBpdGVtJywgaW5qZWN0KGZ1bmN0aW9uICgkY29udHJvbGxlcikg\newogICAgICAgICAgICAkaHR0cEJhY2tlbmQud2hlbkdFVCgnL3Jlc3QvcHJv\nZHVjdC9zZWFyY2g/cT11bmRlZmluZWQnKS5yZXNwb25kKDIwMCwge2RhdGE6\nIFtdfSk7CgogICAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuYmlk\nID0gNDcxMTsKICAgICAgICAgICAgJGh0dHBCYWNrZW5kLndoZW5HRVQoJy9y\nZXN0L2Jhc2tldC80NzExJykucmVzcG9uZCgyMDAsIHtkYXRhOiB7cHJvZHVj\ndHM6IFtdfX0pOwogICAgICAgICAgICAkaHR0cEJhY2tlbmQud2hlblBPU1Qo\nJy9hcGkvQmFza2V0SXRlbXMvJykucmVzcG9uZCgyMDAsIHtkYXRhOiB7UHJv\nZHVjdElkOiAxfX0pOwogICAgICAgICAgICAkaHR0cEJhY2tlbmQud2hlbkdF\nVCgnL2FwaS9Qcm9kdWN0cy8xJykucmVzcG9uZCg1MDApOwoKICAgICAgICAg\nICAgc2NvcGUuYWRkVG9CYXNrZXQoMSk7CiAgICAgICAgICAgICRodHRwQmFj\na2VuZC5mbHVzaCgpOwoKICAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvbmZp\ncm1hdGlvbikudG9CZVVuZGVmaW5lZCgpOwogICAgICAgIH0pKTsKCiAgICB9\nKTsKCn0pOwo=\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/searchresultControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/4507ae54457904235a5f5c690aa503b9e00b884a","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/searchresultControllerSpec.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:48 GMT
      ETag:
      - W/"4507ae54457904235a5f5c690aa503b9e00b884a"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C39B:3DC74B:3213E11:3515394:66E29D93
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4967'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '33'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/servicesSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"servicesSpec.js","path":"test/client/servicesSpec.js","sha":"a15518eaebd8a1a5cc46f5ba53fc4a9424ef7348","size":9234,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/servicesSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/servicesSpec.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/a15518eaebd8a1a5cc46f5ba53fc4a9424ef7348","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/servicesSpec.js","type":"file","content":"ZGVzY3JpYmUoJ3NlcnZpY2VzJywgZnVuY3Rpb24gKCkgewogICAgdmFyICRo\ndHRwQmFja2VuZCwgcmVzdWx0OwoKICAgIGJlZm9yZUVhY2gobW9kdWxlKCdt\neUFwcCcpKTsKICAgIGJlZm9yZUVhY2goaW5qZWN0KGZ1bmN0aW9uKCRpbmpl\nY3RvcikgewogICAgICAgICRodHRwQmFja2VuZCA9ICRpbmplY3Rvci5nZXQo\nJyRodHRwQmFja2VuZCcpOwogICAgICAgIHJlc3VsdCA9IHVuZGVmaW5lZDsK\nICAgIH0pKTsKCiAgICBkZXNjcmliZSgnVXNlclNlcnZpY2UnLCBmdW5jdGlv\nbiAoKSB7CiAgICAgICAgaXQoJ3Nob3VsZCBiZSBkZWZpbmVkJywgaW5qZWN0\nKGZ1bmN0aW9uIChVc2VyU2VydmljZSkgewogICAgICAgICAgICBleHBlY3Qo\nVXNlclNlcnZpY2UpLnRvQmVEZWZpbmVkKCk7CiAgICAgICAgICAgIGV4cGVj\ndChVc2VyU2VydmljZS5maW5kKS50b0JlRGVmaW5lZCgpOwogICAgICAgICAg\nICBleHBlY3QoVXNlclNlcnZpY2UuZ2V0KS50b0JlRGVmaW5lZCgpOwogICAg\nICAgICAgICBleHBlY3QoVXNlclNlcnZpY2UuY2hhbmdlUGFzc3dvcmQpLnRv\nQmVEZWZpbmVkKCk7CiAgICAgICAgICAgIGV4cGVjdChVc2VyU2VydmljZS53\naG9BbUkpLnRvQmVEZWZpbmVkKCk7CiAgICAgICAgfSkpOwoKICAgICAgICBp\ndCgnc2hvdWxkIGdldCBhbGwgdXNlcnMgZGlyZWN0bHkgZnJvbSB0aGUgcmVz\ndCBhcGknLCBpbmplY3QoZnVuY3Rpb24gKFVzZXJTZXJ2aWNlKSB7CiAgICAg\nICAgICAgICRodHRwQmFja2VuZC53aGVuR0VUKCcvcmVzdC91c2VyL2F1dGhl\nbnRpY2F0aW9uLWRldGFpbHMvJykucmVzcG9uZCgyMDAsICdhcGlSZXNwb25z\nZScpOwoKICAgICAgICAgICAgVXNlclNlcnZpY2UuZmluZCgpLnN1Y2Nlc3Mo\nZnVuY3Rpb24gKGRhdGEpIHsgcmVzdWx0ID0gZGF0YTsgfSk7CiAgICAgICAg\nICAgICRodHRwQmFja2VuZC5mbHVzaCgpOwoKICAgICAgICAgICAgZXhwZWN0\nKHJlc3VsdCkudG9CZSgnYXBpUmVzcG9uc2UnKTsKICAgICAgICB9KSk7Cgog\nICAgICAgIGl0KCdzaG91bGQgZ2V0IHNpbmdsZSB1c2VycyBkaXJlY3RseSBm\ncm9tIHRoZSByZXN0IGFwaScsIGluamVjdChmdW5jdGlvbiAoVXNlclNlcnZp\nY2UpIHsKICAgICAgICAgICAgJGh0dHBCYWNrZW5kLndoZW5HRVQoJy9hcGkv\nVXNlcnMvMScpLnJlc3BvbmQoMjAwLCAnYXBpUmVzcG9uc2UnKTsKCiAgICAg\nICAgICAgIFVzZXJTZXJ2aWNlLmdldCgxKS5zdWNjZXNzKGZ1bmN0aW9uIChk\nYXRhKSB7IHJlc3VsdCA9IGRhdGE7IH0pOwogICAgICAgICAgICAkaHR0cEJh\nY2tlbmQuZmx1c2goKTsKCiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQpLnRv\nQmUoJ2FwaVJlc3BvbnNlJyk7CiAgICAgICAgfSkpOwoKICAgICAgICBpdCgn\nc2hvdWxkIGNyZWF0ZSB1c2VyIGRpcmVjdGx5IHZpYSB0aGUgcmVzdCBhcGkn\nLCBpbmplY3QoZnVuY3Rpb24gKFVzZXJTZXJ2aWNlKSB7CiAgICAgICAgICAg\nICRodHRwQmFja2VuZC53aGVuUE9TVCgnL2FwaS9Vc2Vycy8nKS5yZXNwb25k\nKDIwMCwgJ2FwaVJlc3BvbnNlJyk7CgogICAgICAgICAgICBVc2VyU2Vydmlj\nZS5zYXZlKCkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkgeyByZXN1bHQgPSBk\nYXRhOyB9KTsKICAgICAgICAgICAgJGh0dHBCYWNrZW5kLmZsdXNoKCk7Cgog\nICAgICAgICAgICBleHBlY3QocmVzdWx0KS50b0JlKCdhcGlSZXNwb25zZScp\nOwogICAgICAgIH0pKTsKCiAgICAgICAgaXQoJ3Nob3VsZCBsb2dpbiB1c2Vy\nIGRpcmVjdGx5IHZpYSB0aGUgcmVzdCBhcGknLCBpbmplY3QoZnVuY3Rpb24g\nKFVzZXJTZXJ2aWNlKSB7CiAgICAgICAgICAgICRodHRwQmFja2VuZC53aGVu\nUE9TVCgnL3Jlc3QvdXNlci9sb2dpbicpLnJlc3BvbmQoMjAwLCAnYXBpUmVz\ncG9uc2UnKTsKCiAgICAgICAgICAgIFVzZXJTZXJ2aWNlLmxvZ2luKCkuc3Vj\nY2VzcyhmdW5jdGlvbiAoZGF0YSkgeyByZXN1bHQgPSBkYXRhOyB9KTsKICAg\nICAgICAgICAgJGh0dHBCYWNrZW5kLmZsdXNoKCk7CgogICAgICAgICAgICBl\neHBlY3QocmVzdWx0KS50b0JlKCdhcGlSZXNwb25zZScpOwogICAgICAgIH0p\nKTsKCiAgICAgICAgaXQoJ3Nob3VsZCBjaGFuZ2UgdXNlciBwYXNzd29yZCBk\naXJlY3RseSB2aWEgdGhlIHJlc3QgYXBpJywgaW5qZWN0KGZ1bmN0aW9uIChV\nc2VyU2VydmljZSkgewogICAgICAgICAgICAkaHR0cEJhY2tlbmQud2hlbkdF\nVCgnL3Jlc3QvdXNlci9jaGFuZ2UtcGFzc3dvcmQ/Y3VycmVudD1mb28mbmV3\nPWJhciZyZXBlYXQ9YmFyJykucmVzcG9uZCgyMDAsICdhcGlSZXNwb25zZScp\nOwoKICAgICAgICAgICAgVXNlclNlcnZpY2UuY2hhbmdlUGFzc3dvcmQoe2N1\ncnJlbnQ6ICdmb28nLCBuZXc6ICdiYXInLCByZXBlYXQ6ICdiYXInfSkuc3Vj\nY2VzcyhmdW5jdGlvbiAoZGF0YSkgeyByZXN1bHQgPSBkYXRhOyB9KTsKICAg\nICAgICAgICAgJGh0dHBCYWNrZW5kLmZsdXNoKCk7CgogICAgICAgICAgICBl\neHBlY3QocmVzdWx0KS50b0JlKCdhcGlSZXNwb25zZScpOwogICAgICAgIH0p\nKTsKCiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gdGhlIGxvZ2dlZC1pbiB1\nc2VycyBpZGVudGl0eSBkaXJlY3RseSBmcm9tIHRoZSByZXN0IGFwaScsIGlu\namVjdChmdW5jdGlvbiAoVXNlclNlcnZpY2UpIHsKICAgICAgICAgICAgJGh0\ndHBCYWNrZW5kLndoZW5HRVQoJy9yZXN0L3VzZXIvd2hvYW1pJykucmVzcG9u\nZCgyMDAsICdhcGlSZXNwb25zZScpOwoKICAgICAgICAgICAgVXNlclNlcnZp\nY2Uud2hvQW1JKCkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkgeyByZXN1bHQg\nPSBkYXRhOyB9KTsKICAgICAgICAgICAgJGh0dHBCYWNrZW5kLmZsdXNoKCk7\nCgogICAgICAgICAgICBleHBlY3QocmVzdWx0KS50b0JlKCdhcGlSZXNwb25z\nZScpOwogICAgICAgIH0pKTsKCiAgICB9KTsKCiAgICBkZXNjcmliZSgnUHJv\nZHVjdFNlcnZpY2UnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgaXQoJ3Nob3Vs\nZCBiZSBkZWZpbmVkJywgaW5qZWN0KGZ1bmN0aW9uIChQcm9kdWN0U2Vydmlj\nZSkgewogICAgICAgICAgICBleHBlY3QoUHJvZHVjdFNlcnZpY2UpLnRvQmVE\nZWZpbmVkKCk7CiAgICAgICAgICAgIGV4cGVjdChQcm9kdWN0U2VydmljZS5m\naW5kKS50b0JlRGVmaW5lZCgpOwogICAgICAgICAgICBleHBlY3QoUHJvZHVj\ndFNlcnZpY2UuZ2V0KS50b0JlRGVmaW5lZCgpOwogICAgICAgICAgICBleHBl\nY3QoUHJvZHVjdFNlcnZpY2Uuc2VhcmNoKS50b0JlRGVmaW5lZCgpOwogICAg\nICAgIH0pKTsKCiAgICAgICAgaXQoJ3Nob3VsZCBnZXQgYWxsIHByb2R1Y3Rz\nIGRpcmVjdGx5IGZyb20gdGhlIHJlc3QgYXBpJywgaW5qZWN0KGZ1bmN0aW9u\nIChQcm9kdWN0U2VydmljZSkgewogICAgICAgICAgICAkaHR0cEJhY2tlbmQu\nd2hlbkdFVCgnL2FwaS9Qcm9kdWN0cy8nKS5yZXNwb25kKDIwMCwgJ2FwaVJl\nc3BvbnNlJyk7CgogICAgICAgICAgICBQcm9kdWN0U2VydmljZS5maW5kKCku\nc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkgeyByZXN1bHQgPSBkYXRhOyB9KTsK\nICAgICAgICAgICAgJGh0dHBCYWNrZW5kLmZsdXNoKCk7CgogICAgICAgICAg\nICBleHBlY3QocmVzdWx0KS50b0JlKCdhcGlSZXNwb25zZScpOwogICAgICAg\nIH0pKTsKCiAgICAgICAgaXQoJ3Nob3VsZCBnZXQgc2luZ2xlIHByb2R1Y3Qg\nZGlyZWN0bHkgZnJvbSB0aGUgcmVzdCBhcGknLCBpbmplY3QoZnVuY3Rpb24g\nKFByb2R1Y3RTZXJ2aWNlKSB7CiAgICAgICAgICAgICRodHRwQmFja2VuZC53\naGVuR0VUKCcvYXBpL1Byb2R1Y3RzLzEnKS5yZXNwb25kKDIwMCwgJ2FwaVJl\nc3BvbnNlJyk7CgogICAgICAgICAgICBQcm9kdWN0U2VydmljZS5nZXQoMSku\nc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkgeyByZXN1bHQgPSBkYXRhOyB9KTsK\nICAgICAgICAgICAgJGh0dHBCYWNrZW5kLmZsdXNoKCk7CgogICAgICAgICAg\nICBleHBlY3QocmVzdWx0KS50b0JlKCdhcGlSZXNwb25zZScpOwogICAgICAg\nIH0pKTsKCiAgICB9KTsKCiAgICBkZXNjcmliZSgnRmVlZGJhY2tTZXJ2aWNl\nJywgZnVuY3Rpb24gKCkgewogICAgICAgIGl0KCdzaG91bGQgYmUgZGVmaW5l\nZCcsIGluamVjdChmdW5jdGlvbiAoRmVlZGJhY2tTZXJ2aWNlKSB7CiAgICAg\nICAgICAgIGV4cGVjdChGZWVkYmFja1NlcnZpY2UpLnRvQmVEZWZpbmVkKCk7\nCiAgICAgICAgICAgIGV4cGVjdChGZWVkYmFja1NlcnZpY2UuZmluZCkudG9C\nZURlZmluZWQoKTsKICAgICAgICAgICAgZXhwZWN0KEZlZWRiYWNrU2Vydmlj\nZS5zYXZlKS50b0JlRGVmaW5lZCgpOwogICAgICAgICAgICBleHBlY3QoRmVl\nZGJhY2tTZXJ2aWNlLmRlbCkudG9CZURlZmluZWQoKTsKICAgICAgICB9KSk7\nCgogICAgICAgIGl0KCdzaG91bGQgZ2V0IGFsbCBmZWVkYmFjayBkaXJlY3Rs\neSBmcm9tIHRoZSByZXN0IGFwaScsIGluamVjdChmdW5jdGlvbiAoRmVlZGJh\nY2tTZXJ2aWNlKSB7CiAgICAgICAgICAgICRodHRwQmFja2VuZC53aGVuR0VU\nKCcvYXBpL0ZlZWRiYWNrcy8nKS5yZXNwb25kKDIwMCwgJ2FwaVJlc3BvbnNl\nJyk7CgogICAgICAgICAgICBGZWVkYmFja1NlcnZpY2UuZmluZCgpLnN1Y2Nl\nc3MoZnVuY3Rpb24gKGRhdGEpIHsgcmVzdWx0ID0gZGF0YTsgfSk7CiAgICAg\nICAgICAgICRodHRwQmFja2VuZC5mbHVzaCgpOwoKICAgICAgICAgICAgZXhw\nZWN0KHJlc3VsdCkudG9CZSgnYXBpUmVzcG9uc2UnKTsKICAgICAgICB9KSk7\nCgogICAgICAgIGl0KCdzaG91bGQgZGVsZXRlIGZlZWRiYWNrIGRpcmVjdGx5\nIHZpYSB0aGUgcmVzdCBhcGknLCBpbmplY3QoZnVuY3Rpb24gKEZlZWRiYWNr\nU2VydmljZSkgewogICAgICAgICAgICAkaHR0cEJhY2tlbmQud2hlbkRFTEVU\nRSgnL2FwaS9GZWVkYmFja3MvMScpLnJlc3BvbmQoMjAwLCAnYXBpUmVzcG9u\nc2UnKTsKCiAgICAgICAgICAgIEZlZWRiYWNrU2VydmljZS5kZWwoMSkuc3Vj\nY2VzcyhmdW5jdGlvbiAoZGF0YSkgeyByZXN1bHQgPSBkYXRhOyB9KTsKICAg\nICAgICAgICAgJGh0dHBCYWNrZW5kLmZsdXNoKCk7CgogICAgICAgICAgICBl\neHBlY3QocmVzdWx0KS50b0JlKCdhcGlSZXNwb25zZScpOwogICAgICAgIH0p\nKTsKCiAgICAgICAgaXQoJ3Nob3VsZCBjcmVhdGUgZmVlZGJhY2sgZGlyZWN0\nbHkgdmlhIHRoZSByZXN0IGFwaScsIGluamVjdChmdW5jdGlvbiAoRmVlZGJh\nY2tTZXJ2aWNlKSB7CiAgICAgICAgICAgICRodHRwQmFja2VuZC53aGVuUE9T\nVCgnL2FwaS9GZWVkYmFja3MvJykucmVzcG9uZCgyMDAsICdhcGlSZXNwb25z\nZScpOwoKICAgICAgICAgICAgRmVlZGJhY2tTZXJ2aWNlLnNhdmUoKS5zdWNj\nZXNzKGZ1bmN0aW9uIChkYXRhKSB7IHJlc3VsdCA9IGRhdGE7IH0pOwogICAg\nICAgICAgICAkaHR0cEJhY2tlbmQuZmx1c2goKTsKCiAgICAgICAgICAgIGV4\ncGVjdChyZXN1bHQpLnRvQmUoJ2FwaVJlc3BvbnNlJyk7CiAgICAgICAgfSkp\nOwogICAgfSk7CgogICAgZGVzY3JpYmUoJ0Jhc2tldFNlcnZpY2UnLCBmdW5j\ndGlvbiAoKSB7CiAgICAgICAgaXQoJ3Nob3VsZCBiZSBkZWZpbmVkJywgaW5q\nZWN0KGZ1bmN0aW9uIChCYXNrZXRTZXJ2aWNlKSB7CiAgICAgICAgICAgIGV4\ncGVjdChCYXNrZXRTZXJ2aWNlKS50b0JlRGVmaW5lZCgpOwogICAgICAgICAg\nICBleHBlY3QoQmFza2V0U2VydmljZS5maW5kKS50b0JlRGVmaW5lZCgpOwog\nICAgICAgICAgICBleHBlY3QoQmFza2V0U2VydmljZS5nZXQpLnRvQmVEZWZp\nbmVkKCk7CiAgICAgICAgICAgIGV4cGVjdChCYXNrZXRTZXJ2aWNlLnB1dCku\ndG9CZURlZmluZWQoKTsKICAgICAgICAgICAgZXhwZWN0KEJhc2tldFNlcnZp\nY2UuZGVsKS50b0JlRGVmaW5lZCgpOwogICAgICAgIH0pKTsKCiAgICAgICAg\naXQoJ3Nob3VsZCBnZXQgYmFza2V0IGRpcmVjdGx5IGZyb20gdGhlIHJlc3Qg\nYXBpJywgaW5qZWN0KGZ1bmN0aW9uIChCYXNrZXRTZXJ2aWNlKSB7CiAgICAg\nICAgICAgICRodHRwQmFja2VuZC53aGVuR0VUKCcvcmVzdC9iYXNrZXQvMScp\nLnJlc3BvbmQoMjAwLCAnYXBpUmVzcG9uc2UnKTsKCiAgICAgICAgICAgIEJh\nc2tldFNlcnZpY2UuZmluZCgxKS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7\nIHJlc3VsdCA9IGRhdGE7IH0pOwogICAgICAgICAgICAkaHR0cEJhY2tlbmQu\nZmx1c2goKTsKCiAgICAgICAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJ2Fw\naVJlc3BvbnNlJyk7CiAgICAgICAgfSkpOwoKICAgICAgICBpdCgnc2hvdWxk\nIGdldCBzaW5nbGUgYmFza2V0IGl0ZW0gZGlyZWN0bHkgdmlhIHRoZSByZXN0\nIGFwaScsIGluamVjdChmdW5jdGlvbiAoQmFza2V0U2VydmljZSkgewogICAg\nICAgICAgICAkaHR0cEJhY2tlbmQud2hlbkdFVCgnL2FwaS9CYXNrZXRJdGVt\ncy8xJykucmVzcG9uZCgyMDAsICdhcGlSZXNwb25zZScpOwoKICAgICAgICAg\nICAgQmFza2V0U2VydmljZS5nZXQoMSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0\nYSkgeyByZXN1bHQgPSBkYXRhOyB9KTsKICAgICAgICAgICAgJGh0dHBCYWNr\nZW5kLmZsdXNoKCk7CgogICAgICAgICAgICBleHBlY3QocmVzdWx0KS50b0Jl\nKCdhcGlSZXNwb25zZScpOwogICAgICAgIH0pKTsKCiAgICAgICAgaXQoJ3No\nb3VsZCBjcmVhdGUgYmFza2V0IGl0ZW0gZGlyZWN0bHkgdmlhIHRoZSByZXN0\nIGFwaScsIGluamVjdChmdW5jdGlvbiAoQmFza2V0U2VydmljZSkgewogICAg\nICAgICAgICAkaHR0cEJhY2tlbmQud2hlblBPU1QoJy9hcGkvQmFza2V0SXRl\nbXMvJykucmVzcG9uZCgyMDAsICdhcGlSZXNwb25zZScpOwoKICAgICAgICAg\nICAgQmFza2V0U2VydmljZS5zYXZlKCkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0\nYSkgeyByZXN1bHQgPSBkYXRhOyB9KTsKICAgICAgICAgICAgJGh0dHBCYWNr\nZW5kLmZsdXNoKCk7CgogICAgICAgICAgICBleHBlY3QocmVzdWx0KS50b0Jl\nKCdhcGlSZXNwb25zZScpOwogICAgICAgIH0pKTsKCiAgICAgICAgaXQoJ3No\nb3VsZCB1cGRhdGUgYmFza2V0IGl0ZW0gZGlyZWN0bHkgdmlhIHRoZSByZXN0\nIGFwaScsIGluamVjdChmdW5jdGlvbiAoQmFza2V0U2VydmljZSkgewogICAg\nICAgICAgICAkaHR0cEJhY2tlbmQud2hlblBVVCgnL2FwaS9CYXNrZXRJdGVt\ncy8xJykucmVzcG9uZCgyMDAsICdhcGlSZXNwb25zZScpOwoKICAgICAgICAg\nICAgQmFza2V0U2VydmljZS5wdXQoMSwge30pLnN1Y2Nlc3MoZnVuY3Rpb24g\nKGRhdGEpIHsgcmVzdWx0ID0gZGF0YTsgfSk7CiAgICAgICAgICAgICRodHRw\nQmFja2VuZC5mbHVzaCgpOwoKICAgICAgICAgICAgZXhwZWN0KHJlc3VsdCku\ndG9CZSgnYXBpUmVzcG9uc2UnKTsKICAgICAgICB9KSk7CgogICAgICAgIGl0\nKCdzaG91bGQgZGVsZXRlIGJhc2tldCBpdGVtIGRpcmVjdGx5IHZpYSB0aGUg\ncmVzdCBhcGknLCBpbmplY3QoZnVuY3Rpb24gKEJhc2tldFNlcnZpY2UpIHsK\nICAgICAgICAgICAgJGh0dHBCYWNrZW5kLndoZW5ERUxFVEUoJy9hcGkvQmFz\na2V0SXRlbXMvMScpLnJlc3BvbmQoMjAwLCAnYXBpUmVzcG9uc2UnKTsKCiAg\nICAgICAgICAgIEJhc2tldFNlcnZpY2UuZGVsKDEpLnN1Y2Nlc3MoZnVuY3Rp\nb24gKGRhdGEpIHsgcmVzdWx0ID0gZGF0YTsgfSk7CiAgICAgICAgICAgICRo\ndHRwQmFja2VuZC5mbHVzaCgpOwoKICAgICAgICAgICAgZXhwZWN0KHJlc3Vs\ndCkudG9CZSgnYXBpUmVzcG9uc2UnKTsKICAgICAgICB9KSk7CgogICAgICAg\nIGl0KCdzaG91bGQgcGxhY2Ugb3JkZXIgZm9yIGJhc2tldCB2aWEgdGhlIHJl\nc3QgYXBpJywgaW5qZWN0KGZ1bmN0aW9uIChCYXNrZXRTZXJ2aWNlKSB7CiAg\nICAgICAgICAgICRodHRwQmFja2VuZC53aGVuUE9TVCgnL3Jlc3QvYmFza2V0\nLzEvb3JkZXInKS5yZXNwb25kKDIwMCwgJ2FwaVJlc3BvbnNlJyk7CgogICAg\nICAgICAgICBCYXNrZXRTZXJ2aWNlLm9yZGVyKDEpLnN1Y2Nlc3MoZnVuY3Rp\nb24gKGRhdGEpIHsgcmVzdWx0ID0gZGF0YTsgfSk7CiAgICAgICAgICAgICRo\ndHRwQmFja2VuZC5mbHVzaCgpOwoKICAgICAgICAgICAgZXhwZWN0KHJlc3Vs\ndCkudG9CZSgnYXBpUmVzcG9uc2UnKTsKICAgICAgICB9KSk7CgogICAgfSk7\nCgogICAgZGVzY3JpYmUoJ0NoYWxsZW5nZVNlcnZpY2UnLCBmdW5jdGlvbiAo\nKSB7CiAgICAgICAgaXQoJ3Nob3VsZCBiZSBkZWZpbmVkJywgaW5qZWN0KGZ1\nbmN0aW9uIChDaGFsbGVuZ2VTZXJ2aWNlKSB7CiAgICAgICAgICAgIGV4cGVj\ndChDaGFsbGVuZ2VTZXJ2aWNlKS50b0JlRGVmaW5lZCgpOwogICAgICAgICAg\nICBleHBlY3QoQ2hhbGxlbmdlU2VydmljZS5maW5kKS50b0JlRGVmaW5lZCgp\nOwogICAgICAgIH0pKTsKCiAgICAgICAgaXQoJ3Nob3VsZCBnZXQgYWxsIGZl\nZWRiYWNrIGRpcmVjdGx5IGZyb20gdGhlIHJlc3QgYXBpJywgaW5qZWN0KGZ1\nbmN0aW9uIChDaGFsbGVuZ2VTZXJ2aWNlKSB7CiAgICAgICAgICAgICRodHRw\nQmFja2VuZC53aGVuR0VUKCcvYXBpL0NoYWxsZW5nZXMvJykucmVzcG9uZCgy\nMDAsICdhcGlSZXNwb25zZScpOwoKICAgICAgICAgICAgQ2hhbGxlbmdlU2Vy\ndmljZS5maW5kKCkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkgeyByZXN1bHQg\nPSBkYXRhOyB9KTsKICAgICAgICAgICAgJGh0dHBCYWNrZW5kLmZsdXNoKCk7\nCgogICAgICAgICAgICBleHBlY3QocmVzdWx0KS50b0JlKCdhcGlSZXNwb25z\nZScpOwogICAgICAgIH0pKTsKCiAgICB9KTsKCiAgICBkZXNjcmliZSgnQWRt\naW5pc3RyYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24gKCkgewogICAgICAgIGl0\nKCdzaG91bGQgYmUgZGVmaW5lZCcsIGluamVjdChmdW5jdGlvbiAoQWRtaW5p\nc3RyYXRpb25TZXJ2aWNlKSB7CiAgICAgICAgICAgIGV4cGVjdChBZG1pbmlz\ndHJhdGlvblNlcnZpY2UpLnRvQmVEZWZpbmVkKCk7CiAgICAgICAgICAgIGV4\ncGVjdChBZG1pbmlzdHJhdGlvblNlcnZpY2UuZ2V0QXBwbGljYXRpb25WZXJz\naW9uKS50b0JlRGVmaW5lZCgpOwogICAgICAgIH0pKTsKCiAgICAgICAgaXQo\nJ3Nob3VsZCBnZXQgYXBwbGljYXRpb24gdmVyc2lvbiBkaXJlY3RseSBmcm9t\nIHRoZSByZXN0IGFwaScsIGluamVjdChmdW5jdGlvbiAoQWRtaW5pc3RyYXRp\nb25TZXJ2aWNlKSB7CiAgICAgICAgICAgICRodHRwQmFja2VuZC53aGVuR0VU\nKCcvcmVzdC9hZG1pbi9hcHBsaWNhdGlvbi12ZXJzaW9uJykucmVzcG9uZCgy\nMDAsICdhcGlSZXNwb25zZScpOwoKICAgICAgICAgICAgQWRtaW5pc3RyYXRp\nb25TZXJ2aWNlLmdldEFwcGxpY2F0aW9uVmVyc2lvbigpLnN1Y2Nlc3MoZnVu\nY3Rpb24gKGRhdGEpIHsgcmVzdWx0ID0gZGF0YTsgfSk7CiAgICAgICAgICAg\nICRodHRwQmFja2VuZC5mbHVzaCgpOwoKICAgICAgICAgICAgZXhwZWN0KHJl\nc3VsdCkudG9CZSgnYXBpUmVzcG9uc2UnKTsKICAgICAgICB9KSk7CgogICAg\nfSk7Cgp9KTsK\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/servicesSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/a15518eaebd8a1a5cc46f5ba53fc4a9424ef7348","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/servicesSpec.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:48 GMT
      ETag:
      - W/"a15518eaebd8a1a5cc46f5ba53fc4a9424ef7348"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C39C:10DF52:1FBC62:21636E:66E29D94
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4966'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '34'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repositories/24233689/pulls/35/files?page=2
  response:
    body:
      string: '[{"sha":"1d7007c59bd47797e7d1891641974588b61cac84","filename":"test/client/userControllerSpec.js","status":"added","additions":69,"deletions":0,"changes":69,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FuserControllerSpec.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FuserControllerSpec.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test%2Fclient%2FuserControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -0,0 +1,69 @@\n+describe(''controllers'', function () {\n+    var scope, controller,
        $httpBackend, $sce, $modal;\n+\n+    beforeEach(module(''myApp''));\n+    beforeEach(inject(function($injector)
        {\n+        $httpBackend = $injector.get(''$httpBackend'');\n+        $sce
        = $injector.get(''$sce'');\n+        $modal = $injector.get(''$modal'');\n+    }));\n+\n+    describe(''UserController'',
        function () {\n+        beforeEach(inject(function ($rootScope, $controller)
        {\n+            scope = $rootScope.$new();\n+            controller = $controller(''UserController'',
        {\n+                ''$scope'': scope\n+            });\n+        }));\n+\n+        it(''should
        be defined'', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+            expect(scope.showDetail).toBeDefined();\n+        }));\n+\n+        it(''should
        hold all users'', inject(function ($controller) {\n+            $httpBackend.whenGET(''/rest/user/authentication-details/'').respond(200,
        {data: [{email: ''a@a.de''},{email: ''b@b.de''}]});\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.users.length).toBe(2);\n+            expect(scope.users[0].email).toBeDefined();\n+            expect(scope.users[1].email).toBeDefined();\n+        }));\n+\n+        it(''should
        consider user email as trusted HTML'', inject(function ($controller) {\n+            $httpBackend.whenGET(''/rest/user/authentication-details/'').respond(200,
        {data: [{email: ''bjoern@<script>alert(\"XSS2\")</script>.de''}]});\n+            spyOn($sce,
        ''trustAsHtml'');\n+\n+            $httpBackend.flush();\n+\n+            expect($sce.trustAsHtml).toHaveBeenCalledWith(''bjoern@<script>alert(\"XSS2\")</script>.de'');\n+        }));\n+\n+        it(''should
        hold nothing when no users exist'', inject(function ($controller) {\n+            $httpBackend.whenGET(''/rest/user/authentication-details/'').respond(200,
        {data: {}});\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.users).toEqual({});\n+        }));\n+\n+        it(''should
        hold nothing on error from backend API'', inject(function ($controller) {\n+            $httpBackend.whenGET(''/rest/user/authentication-details/'').respond(500);\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.users).toBeUndefined();\n+        }));\n+\n+        it(''should
        open a modal dialog with user details'', inject(function ($controller) {\n+            spyOn($modal,
        ''open'');\n+\n+            scope.showDetail(42);\n+\n+            expect($modal.open).toHaveBeenCalled();\n+        }));\n+\n+    });\n+\n+});"},{"sha":"a70c5be195e8c0938a816d008851d5e97582ee8d","filename":"test/client/userdetailsControllerSpec.js","status":"added","additions":41,"deletions":0,"changes":41,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FuserdetailsControllerSpec.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fclient%2FuserdetailsControllerSpec.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test%2Fclient%2FuserdetailsControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -0,0 +1,41 @@\n+describe(''controllers'', function () {\n+    var scope, controller,
        $httpBackend;\n+\n+    beforeEach(module(''myApp''));\n+    beforeEach(inject(function($injector)
        {\n+        $httpBackend = $injector.get(''$httpBackend'');\n+    }));\n+\n+    describe(''UserDetailsController'',
        function () {\n+        beforeEach(inject(function ($rootScope, $controller)
        {\n+            scope = $rootScope.$new();\n+            controller = $controller(''UserDetailsController'',
        {\n+                ''$scope'': scope,\n+                ''id'': 42\n+            });\n+        }));\n+\n+        it(''should
        be defined'', inject(function ($controller) {\n+            expect(controller).toBeDefined();\n+        }));\n+\n+        it(''should
        hold single product with given id'', inject(function ($controller) {\n+            $httpBackend.whenGET(''/api/Users/42'').respond(200,
        {data: {email: ''test@juice-sh.op''}});\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.user).toBeDefined();\n+            expect(scope.user.email).toBe(''test@juice-sh.op'');\n+        }));\n+\n+        it(''should
        hold no product if API call fails'', inject(function ($controller) {\n+            $httpBackend.whenGET(''/api/Users/42'').respond(500);\n+\n+            $httpBackend.flush();\n+\n+            expect(scope.user).toBeUndefined();\n+        }));\n+\n+    });\n+\n+});"},{"sha":"530fa56eb4bb69b94319b272166b6ff2c29bfbf7","filename":"test/server/administrationApiSpec.js","status":"added","additions":14,"deletions":0,"changes":14,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fserver%2FadministrationApiSpec.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fserver%2FadministrationApiSpec.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test%2Fserver%2FadministrationApiSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -0,0 +1,14 @@\n+/*jslint node: true */\n+\n+var frisby = require(''frisby'');\n+\n+var
        REST_URL = ''http://localhost:3000/rest/admin'';\n+\n+frisby.create(''GET
        application version from package.json'')\n+    .get(REST_URL + \"/application-version\")\n+    .expectStatus(200)\n+    .expectHeaderContains(''content-type'',
        ''application/json'')\n+    .expectJSON({\n+        version: ''0.3.0''\n+    })\n+    .toss();\n\\
        No newline at end of file"},{"sha":"3a14ef541efc55b69859c0cced29f84f303e9ae7","filename":"test/server/feedbackApiSpec.js","status":"modified","additions":25,"deletions":1,"changes":26,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fserver%2FfeedbackApiSpec.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fserver%2FfeedbackApiSpec.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test%2Fserver%2FfeedbackApiSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -64,7 +64,7 @@ frisby.create(''DELETE existing feedback is forbidden via public
        API'')\n     .expectStatus(401)\n     .toss();\n \n-frisby.create(''DELETE
        existing 5-start feedback'')\n+frisby.create(''DELETE existing feedback'')\n     .delete(API_URL
        + ''/Feedbacks/1'')\n     .addHeaders(authHeader)\n     .expectStatus(200)\n@@
        -102,3 +102,27 @@ frisby.create(''POST fails to sanitize masked XSS-attack
        by not applying sanitiza\n         comment: ''But basically its the fault
        htmlparser2 in version 3.3.0 which sanitize-html 1.4.2 depends on: <script>alert(\"XSS3\")</script>''\n     })\n     .toss();\n+\n+frisby.create(''POST
        feedback in another users name as anonymous user'')\n+    .post(API_URL +
        ''/Feedbacks'', {\n+        comment: ''Lousy crap!'',\n+        rating: 1,\n+        UserId:
        3\n+    }, {json: true})\n+    .expectStatus(200)\n+    .expectHeaderContains(''content-type'',
        ''application/json'')\n+    .expectJSON(''data'', {\n+        UserId: 3\n+    }).toss();\n+\n+frisby.create(''POST
        feedback in a non-existing users name as anonymous user'')\n+    .post(API_URL
        + ''/Feedbacks'', {\n+        comment: ''When juice fails...'',\n+        rating:
        2,\n+        UserId: 4711\n+    }, {json: true})\n+    .expectStatus(200)\n+    .expectHeaderContains(''content-type'',
        ''application/json'')\n+    .expectJSON(''data'', {\n+        UserId: 4711\n+    }).toss();"},{"sha":"dc91d970ed999b12c04c8127140cfc99fa0865f3","filename":"test/server/userApiSpec.js","status":"modified","additions":59,"deletions":0,"changes":59,"blob_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fserver%2FuserApiSpec.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test%2Fserver%2FuserApiSpec.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test%2Fserver%2FuserApiSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","patch":"@@
        -35,6 +35,18 @@ frisby.create(''POST new user'')\n                 token:
        String\n             })\n             .afterJSON(function(auth) {\n+                frisby.create(''GET
        own user id and email on who-am-i request'')\n+                    .get(REST_URL
        + ''/user/whoami'')\n+                    .addHeaders({''Authorization'':
        ''Bearer '' + auth.token})\n+                    .expectStatus(200)\n+                    .expectHeaderContains(''content-type'',
        ''application/json'')\n+                    .expectJSONTypes({\n+                        id:
        Number\n+                    })\n+                    .expectJSON({\n+                        email:
        ''horst@horstma.nn''\n+                    })\n+                    .toss();\n                 frisby.create(''GET
        password change with recognized token as cookie'')\n                     .get(REST_URL
        + ''/user/change-password?new=foo&repeat=foo'')\n                     .addHeaders({
        ''Cookie'': ''token='' + auth.token })\n@@ -54,6 +66,32 @@ frisby.create(''POST
        new user'')\n                         id: 2\n                     })\n                     .toss();\n+                frisby.create(''POST
        feedback is associated with current user'')\n+                    .addHeaders({''Authorization'':
        ''Bearer '' + auth.token})\n+                    .post(API_URL + ''/Feedbacks'',
        {\n+                        comment: ''Horst\\''s choice award!'',\n+                        rating:
        5,\n+                        UserId: 4\n+                    }, {json: true})\n+                    .expectStatus(200)\n+                    .expectHeaderContains(''content-type'',
        ''application/json'')\n+                    .expectJSON(''data'', {\n+                        UserId:
        4\n+                    })\n+                    .toss();\n+                frisby.create(''POST
        feedback is associated with any passed user id'')\n+                    .addHeaders({''Authorization'':
        ''Bearer '' + auth.token})\n+                    .post(API_URL + ''/Feedbacks'',
        {\n+                        comment: ''Bender\\''s choice award!'',\n+                        rating:
        2,\n+                        UserId: 3\n+                    }, {json: true})\n+                    .expectStatus(200)\n+                    .expectHeaderContains(''content-type'',
        ''application/json'')\n+                    .expectJSON(''data'', {\n+                        UserId:
        3\n+                    })\n+                    .toss();\n     }).toss();\n
        \n         frisby.create(''GET existing user by id'')\n@@ -248,3 +286,24 @@
        frisby.create(''POST new user with XSS attack in email address'')\n     .expectJSON(''data'',
        {\n         email: ''<script>alert(\"XSS2\")</script>''\n     }).toss();\n+\n+frisby.create(''GET
        who-am-i request returns nothing on missing auth token'')\n+    .get(REST_URL
        + ''/user/whoami'')\n+    .expectStatus(200)\n+    .expectHeaderContains(''content-type'',
        ''application/json'')\n+    .expectJSONTypes({\n+        id: undefined,\n+        email:
        undefined\n+    })\n+    .toss();\n+\n+frisby.create(''GET who-am-i request
        returns nothing on invalid auth token'')\n+    .get(REST_URL + ''/user/whoami'')\n+    .addHeaders(authHeader)\n+    .expectStatus(200)\n+    .expectHeaderContains(''content-type'',
        ''application/json'')\n+    .expectJSONTypes({\n+        id: undefined,\n+        email:
        undefined\n+    })\n+    .toss();"}]'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:49 GMT
      ETag:
      - W/"5884dd39833bc3891e8400ca2dc064a9a6d307e7464992a9d399d8d2f731ee57"
      Last-Modified:
      - Mon, 09 Sep 2024 07:19:10 GMT
      Link:
      - <https://api.github.com/repositories/24233689/pulls/35/files?page=1>; rel="prev",
        <https://api.github.com/repositories/24233689/pulls/35/files?page=1>; rel="first"
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C39D:F691B:2D498B:30BF6A:66E29D95
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4965'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '35'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - pull_requests=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/userControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"userControllerSpec.js","path":"test/client/userControllerSpec.js","sha":"1d7007c59bd47797e7d1891641974588b61cac84","size":2392,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/userControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/userControllerSpec.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/1d7007c59bd47797e7d1891641974588b61cac84","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/userControllerSpec.js","type":"file","content":"ZGVzY3JpYmUoJ2NvbnRyb2xsZXJzJywgZnVuY3Rpb24gKCkgewogICAgdmFy\nIHNjb3BlLCBjb250cm9sbGVyLCAkaHR0cEJhY2tlbmQsICRzY2UsICRtb2Rh\nbDsKCiAgICBiZWZvcmVFYWNoKG1vZHVsZSgnbXlBcHAnKSk7CiAgICBiZWZv\ncmVFYWNoKGluamVjdChmdW5jdGlvbigkaW5qZWN0b3IpIHsKICAgICAgICAk\naHR0cEJhY2tlbmQgPSAkaW5qZWN0b3IuZ2V0KCckaHR0cEJhY2tlbmQnKTsK\nICAgICAgICAkc2NlID0gJGluamVjdG9yLmdldCgnJHNjZScpOwogICAgICAg\nICRtb2RhbCA9ICRpbmplY3Rvci5nZXQoJyRtb2RhbCcpOwogICAgfSkpOwoK\nICAgIGRlc2NyaWJlKCdVc2VyQ29udHJvbGxlcicsIGZ1bmN0aW9uICgpIHsK\nICAgICAgICBiZWZvcmVFYWNoKGluamVjdChmdW5jdGlvbiAoJHJvb3RTY29w\nZSwgJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgc2NvcGUgPSAkcm9vdFNj\nb3BlLiRuZXcoKTsKICAgICAgICAgICAgY29udHJvbGxlciA9ICRjb250cm9s\nbGVyKCdVc2VyQ29udHJvbGxlcicsIHsKICAgICAgICAgICAgICAgICckc2Nv\ncGUnOiBzY29wZQogICAgICAgICAgICB9KTsKICAgICAgICB9KSk7CgogICAg\nICAgIGl0KCdzaG91bGQgYmUgZGVmaW5lZCcsIGluamVjdChmdW5jdGlvbiAo\nJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgZXhwZWN0KGNvbnRyb2xsZXIp\nLnRvQmVEZWZpbmVkKCk7CiAgICAgICAgICAgIGV4cGVjdChzY29wZS5zaG93\nRGV0YWlsKS50b0JlRGVmaW5lZCgpOwogICAgICAgIH0pKTsKCiAgICAgICAg\naXQoJ3Nob3VsZCBob2xkIGFsbCB1c2VycycsIGluamVjdChmdW5jdGlvbiAo\nJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgJGh0dHBCYWNrZW5kLndoZW5H\nRVQoJy9yZXN0L3VzZXIvYXV0aGVudGljYXRpb24tZGV0YWlscy8nKS5yZXNw\nb25kKDIwMCwge2RhdGE6IFt7ZW1haWw6ICdhQGEuZGUnfSx7ZW1haWw6ICdi\nQGIuZGUnfV19KTsKCiAgICAgICAgICAgICRodHRwQmFja2VuZC5mbHVzaCgp\nOwoKICAgICAgICAgICAgZXhwZWN0KHNjb3BlLnVzZXJzLmxlbmd0aCkudG9C\nZSgyKTsKICAgICAgICAgICAgZXhwZWN0KHNjb3BlLnVzZXJzWzBdLmVtYWls\nKS50b0JlRGVmaW5lZCgpOwogICAgICAgICAgICBleHBlY3Qoc2NvcGUudXNl\ncnNbMV0uZW1haWwpLnRvQmVEZWZpbmVkKCk7CiAgICAgICAgfSkpOwoKICAg\nICAgICBpdCgnc2hvdWxkIGNvbnNpZGVyIHVzZXIgZW1haWwgYXMgdHJ1c3Rl\nZCBIVE1MJywgaW5qZWN0KGZ1bmN0aW9uICgkY29udHJvbGxlcikgewogICAg\nICAgICAgICAkaHR0cEJhY2tlbmQud2hlbkdFVCgnL3Jlc3QvdXNlci9hdXRo\nZW50aWNhdGlvbi1kZXRhaWxzLycpLnJlc3BvbmQoMjAwLCB7ZGF0YTogW3tl\nbWFpbDogJ2Jqb2VybkA8c2NyaXB0PmFsZXJ0KCJYU1MyIik8L3NjcmlwdD4u\nZGUnfV19KTsKICAgICAgICAgICAgc3B5T24oJHNjZSwgJ3RydXN0QXNIdG1s\nJyk7CgogICAgICAgICAgICAkaHR0cEJhY2tlbmQuZmx1c2goKTsKCiAgICAg\nICAgICAgIGV4cGVjdCgkc2NlLnRydXN0QXNIdG1sKS50b0hhdmVCZWVuQ2Fs\nbGVkV2l0aCgnYmpvZXJuQDxzY3JpcHQ+YWxlcnQoIlhTUzIiKTwvc2NyaXB0\nPi5kZScpOwogICAgICAgIH0pKTsKCiAgICAgICAgaXQoJ3Nob3VsZCBob2xk\nIG5vdGhpbmcgd2hlbiBubyB1c2VycyBleGlzdCcsIGluamVjdChmdW5jdGlv\nbiAoJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgJGh0dHBCYWNrZW5kLndo\nZW5HRVQoJy9yZXN0L3VzZXIvYXV0aGVudGljYXRpb24tZGV0YWlscy8nKS5y\nZXNwb25kKDIwMCwge2RhdGE6IHt9fSk7CgogICAgICAgICAgICAkaHR0cEJh\nY2tlbmQuZmx1c2goKTsKCiAgICAgICAgICAgIGV4cGVjdChzY29wZS51c2Vy\ncykudG9FcXVhbCh7fSk7CiAgICAgICAgfSkpOwoKICAgICAgICBpdCgnc2hv\ndWxkIGhvbGQgbm90aGluZyBvbiBlcnJvciBmcm9tIGJhY2tlbmQgQVBJJywg\naW5qZWN0KGZ1bmN0aW9uICgkY29udHJvbGxlcikgewogICAgICAgICAgICAk\naHR0cEJhY2tlbmQud2hlbkdFVCgnL3Jlc3QvdXNlci9hdXRoZW50aWNhdGlv\nbi1kZXRhaWxzLycpLnJlc3BvbmQoNTAwKTsKCiAgICAgICAgICAgICRodHRw\nQmFja2VuZC5mbHVzaCgpOwoKICAgICAgICAgICAgZXhwZWN0KHNjb3BlLnVz\nZXJzKS50b0JlVW5kZWZpbmVkKCk7CiAgICAgICAgfSkpOwoKICAgICAgICBp\ndCgnc2hvdWxkIG9wZW4gYSBtb2RhbCBkaWFsb2cgd2l0aCB1c2VyIGRldGFp\nbHMnLCBpbmplY3QoZnVuY3Rpb24gKCRjb250cm9sbGVyKSB7CiAgICAgICAg\nICAgIHNweU9uKCRtb2RhbCwgJ29wZW4nKTsKCiAgICAgICAgICAgIHNjb3Bl\nLnNob3dEZXRhaWwoNDIpOwoKICAgICAgICAgICAgZXhwZWN0KCRtb2RhbC5v\ncGVuKS50b0hhdmVCZWVuQ2FsbGVkKCk7CiAgICAgICAgfSkpOwoKICAgIH0p\nOwoKfSk7Cg==\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/userControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/1d7007c59bd47797e7d1891641974588b61cac84","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/userControllerSpec.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:50 GMT
      ETag:
      - W/"1d7007c59bd47797e7d1891641974588b61cac84"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C39E:5F999:2F6F403:325C862:66E29D96
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4964'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '36'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/userdetailsControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"userdetailsControllerSpec.js","path":"test/client/userdetailsControllerSpec.js","sha":"a70c5be195e8c0938a816d008851d5e97582ee8d","size":1260,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/userdetailsControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/userdetailsControllerSpec.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/a70c5be195e8c0938a816d008851d5e97582ee8d","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/userdetailsControllerSpec.js","type":"file","content":"ZGVzY3JpYmUoJ2NvbnRyb2xsZXJzJywgZnVuY3Rpb24gKCkgewogICAgdmFy\nIHNjb3BlLCBjb250cm9sbGVyLCAkaHR0cEJhY2tlbmQ7CgogICAgYmVmb3Jl\nRWFjaChtb2R1bGUoJ215QXBwJykpOwogICAgYmVmb3JlRWFjaChpbmplY3Qo\nZnVuY3Rpb24oJGluamVjdG9yKSB7CiAgICAgICAgJGh0dHBCYWNrZW5kID0g\nJGluamVjdG9yLmdldCgnJGh0dHBCYWNrZW5kJyk7CiAgICB9KSk7CgogICAg\nZGVzY3JpYmUoJ1VzZXJEZXRhaWxzQ29udHJvbGxlcicsIGZ1bmN0aW9uICgp\nIHsKICAgICAgICBiZWZvcmVFYWNoKGluamVjdChmdW5jdGlvbiAoJHJvb3RT\nY29wZSwgJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgc2NvcGUgPSAkcm9v\ndFNjb3BlLiRuZXcoKTsKICAgICAgICAgICAgY29udHJvbGxlciA9ICRjb250\ncm9sbGVyKCdVc2VyRGV0YWlsc0NvbnRyb2xsZXInLCB7CiAgICAgICAgICAg\nICAgICAnJHNjb3BlJzogc2NvcGUsCiAgICAgICAgICAgICAgICAnaWQnOiA0\nMgogICAgICAgICAgICB9KTsKICAgICAgICB9KSk7CgogICAgICAgIGl0KCdz\naG91bGQgYmUgZGVmaW5lZCcsIGluamVjdChmdW5jdGlvbiAoJGNvbnRyb2xs\nZXIpIHsKICAgICAgICAgICAgZXhwZWN0KGNvbnRyb2xsZXIpLnRvQmVEZWZp\nbmVkKCk7CiAgICAgICAgfSkpOwoKICAgICAgICBpdCgnc2hvdWxkIGhvbGQg\nc2luZ2xlIHByb2R1Y3Qgd2l0aCBnaXZlbiBpZCcsIGluamVjdChmdW5jdGlv\nbiAoJGNvbnRyb2xsZXIpIHsKICAgICAgICAgICAgJGh0dHBCYWNrZW5kLndo\nZW5HRVQoJy9hcGkvVXNlcnMvNDInKS5yZXNwb25kKDIwMCwge2RhdGE6IHtl\nbWFpbDogJ3Rlc3RAanVpY2Utc2gub3AnfX0pOwoKICAgICAgICAgICAgJGh0\ndHBCYWNrZW5kLmZsdXNoKCk7CgogICAgICAgICAgICBleHBlY3Qoc2NvcGUu\ndXNlcikudG9CZURlZmluZWQoKTsKICAgICAgICAgICAgZXhwZWN0KHNjb3Bl\nLnVzZXIuZW1haWwpLnRvQmUoJ3Rlc3RAanVpY2Utc2gub3AnKTsKICAgICAg\nICB9KSk7CgogICAgICAgIGl0KCdzaG91bGQgaG9sZCBubyBwcm9kdWN0IGlm\nIEFQSSBjYWxsIGZhaWxzJywgaW5qZWN0KGZ1bmN0aW9uICgkY29udHJvbGxl\ncikgewogICAgICAgICAgICAkaHR0cEJhY2tlbmQud2hlbkdFVCgnL2FwaS9V\nc2Vycy80MicpLnJlc3BvbmQoNTAwKTsKCiAgICAgICAgICAgICRodHRwQmFj\na2VuZC5mbHVzaCgpOwoKICAgICAgICAgICAgZXhwZWN0KHNjb3BlLnVzZXIp\nLnRvQmVVbmRlZmluZWQoKTsKICAgICAgICB9KSk7CgogICAgfSk7Cgp9KTsK\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/client/userdetailsControllerSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/a70c5be195e8c0938a816d008851d5e97582ee8d","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/client/userdetailsControllerSpec.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:51 GMT
      ETag:
      - W/"a70c5be195e8c0938a816d008851d5e97582ee8d"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C39F:185D0:2B4353D:2E092A2:66E29D97
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4963'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '37'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/test/server/administrationApiSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"administrationApiSpec.js","path":"test/server/administrationApiSpec.js","sha":"530fa56eb4bb69b94319b272166b6ff2c29bfbf7","size":359,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/server/administrationApiSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/server/administrationApiSpec.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/530fa56eb4bb69b94319b272166b6ff2c29bfbf7","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/server/administrationApiSpec.js","type":"file","content":"Lypqc2xpbnQgbm9kZTogdHJ1ZSAqLwoKdmFyIGZyaXNieSA9IHJlcXVpcmUo\nJ2ZyaXNieScpOwoKdmFyIFJFU1RfVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6\nMzAwMC9yZXN0L2FkbWluJzsKCmZyaXNieS5jcmVhdGUoJ0dFVCBhcHBsaWNh\ndGlvbiB2ZXJzaW9uIGZyb20gcGFja2FnZS5qc29uJykKICAgIC5nZXQoUkVT\nVF9VUkwgKyAiL2FwcGxpY2F0aW9uLXZlcnNpb24iKQogICAgLmV4cGVjdFN0\nYXR1cygyMDApCiAgICAuZXhwZWN0SGVhZGVyQ29udGFpbnMoJ2NvbnRlbnQt\ndHlwZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAgIC5leHBlY3RKU09OKHsK\nICAgICAgICB2ZXJzaW9uOiAnMC4zLjAnCiAgICB9KQogICAgLnRvc3MoKTs=\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/server/administrationApiSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/530fa56eb4bb69b94319b272166b6ff2c29bfbf7","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/server/administrationApiSpec.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:52 GMT
      ETag:
      - W/"530fa56eb4bb69b94319b272166b6ff2c29bfbf7"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C3A0:1C97FE:33CCE48:3709951:66E29D97
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4962'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '38'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/test/server/feedbackApiSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"feedbackApiSpec.js","path":"test/server/feedbackApiSpec.js","sha":"3a14ef541efc55b69859c0cced29f84f303e9ae7","size":4371,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/server/feedbackApiSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/server/feedbackApiSpec.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/3a14ef541efc55b69859c0cced29f84f303e9ae7","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/server/feedbackApiSpec.js","type":"file","content":"Lypqc2xpbnQgbm9kZTogdHJ1ZSAqLwoKdmFyIGZyaXNieSA9IHJlcXVpcmUo\nJ2ZyaXNieScpLAogICAgaW5zZWN1cml0eSA9IHJlcXVpcmUoJy4uLy4uL2xp\nYi9pbnNlY3VyaXR5Jyk7Cgp2YXIgQVBJX1VSTCA9ICdodHRwOi8vbG9jYWxo\nb3N0OjMwMDAvYXBpJzsKCnZhciBhdXRoSGVhZGVyID0geyAnQXV0aG9yaXph\ndGlvbic6ICdCZWFyZXIgJyArIGluc2VjdXJpdHkuYXV0aG9yaXplKCkgfSA7\nCgpmcmlzYnkuY3JlYXRlKCdQT1NUIG5ldyBmZWVkYmFjaycpCiAgICAucG9z\ndChBUElfVVJMICsgJy9GZWVkYmFja3MnLCB7CiAgICAgICAgY29tbWVudDog\nJ1BlcmZlY3QhJywKICAgICAgICByYXRpbmc6IDUKICAgIH0pCiAgICAuZXhw\nZWN0U3RhdHVzKDIwMCkKICAgIC5leHBlY3RIZWFkZXJDb250YWlucygnY29u\ndGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKQogICAgLmV4cGVjdEpT\nT05UeXBlcygnZGF0YScsIHsKICAgICAgICBpZDogTnVtYmVyLAogICAgICAg\nIGNyZWF0ZWRBdDogU3RyaW5nLAogICAgICAgIHVwZGF0ZWRBdDogU3RyaW5n\nCiAgICB9KQogICAgLmFmdGVySlNPTihmdW5jdGlvbihmZWVkYmFjaykgewog\nICAgICAgIGZyaXNieS5jcmVhdGUoJ0dFVCBleGlzdGluZyBmZWVkYmFjayBp\ndGVtIGJ5IGlkJykKICAgICAgICAgICAgLmFkZEhlYWRlcnMoYXV0aEhlYWRl\ncikKICAgICAgICAgICAgLmdldChBUElfVVJMICsgJy9GZWVkYmFja3MvJyAr\nIGZlZWRiYWNrLmRhdGEuaWQpCiAgICAgICAgICAgIC5leHBlY3RTdGF0dXMo\nMjAwKQogICAgICAgICAgICAuYWZ0ZXJKU09OKGZ1bmN0aW9uICgpIHsKICAg\nICAgICAgICAgICAgIGZyaXNieS5jcmVhdGUoJ1BVVCB1cGRhdGUgZXhpc3Rp\nbmcgZmVlZGJhY2snKQogICAgICAgICAgICAgICAgICAgIC5hZGRIZWFkZXJz\nKGF1dGhIZWFkZXIpCiAgICAgICAgICAgICAgICAgICAgLnB1dChBUElfVVJM\nICsgJy9GZWVkYmFja3MvJyArIGZlZWRiYWNrLmRhdGEuaWQsIHsKICAgICAg\nICAgICAgICAgICAgICAgICAgcmF0aW5nOiAyCiAgICAgICAgICAgICAgICAg\nICAgfSkKICAgICAgICAgICAgICAgICAgICAuZXhwZWN0U3RhdHVzKDIwMCkK\nICAgICAgICAgICAgICAgICAgICAuYWZ0ZXJKU09OKGZ1bmN0aW9uICgpIHsK\nICAgICAgICAgICAgICAgICAgICAgICAgZnJpc2J5LmNyZWF0ZSgnREVMRVRF\nIGV4aXN0aW5nIGZlZWRiYWNrJykKICAgICAgICAgICAgICAgICAgICAgICAg\nICAgIC5hZGRIZWFkZXJzKGF1dGhIZWFkZXIpCiAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAuZGVsZXRlKEFQSV9VUkwgKyAnL0ZlZWRiYWNrcy8nICsg\nK2ZlZWRiYWNrLmRhdGEuaWQpCiAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAuZXhwZWN0U3RhdHVzKDIwMCkKICAgICAgICAgICAgICAgICAgICAgICAg\nICAgIC50b3NzKCk7CiAgICAgICAgICAgICAgICAgICAgfSkudG9zcygpOwog\nICAgICAgICAgICB9KS50b3NzKCk7CiAgICB9KS50b3NzKCk7CgpmcmlzYnku\nY3JlYXRlKCdHRVQgYWxsIGZlZWRiYWNrJykKICAgIC5nZXQoQVBJX1VSTCAr\nICcvRmVlZGJhY2tzJykKICAgIC5leHBlY3RTdGF0dXMoMjAwKQogICAgLnRv\nc3MoKTsKCmZyaXNieS5jcmVhdGUoJ0dFVCBleGlzdGluZyBmZWVkYmFjayBi\neSBpZCBpcyBmb3JiaWRkZW4gdmlhIHB1YmxpYyBBUEknKQogICAgLmdldChB\nUElfVVJMICsgJy9GZWVkYmFja3MvMScpCiAgICAuZXhwZWN0U3RhdHVzKDQw\nMSkKICAgIC50b3NzKCk7CgpmcmlzYnkuY3JlYXRlKCdQVVQgdXBkYXRlIGV4\naXN0aW5nIGZlZWRiYWNrIGlzIGZvcmJpZGRlbiB2aWEgcHVibGljIEFQSScp\nCiAgICAucHV0KEFQSV9VUkwgKyAnL0ZlZWRiYWNrcy8xJywgewogICAgICAg\nIGNvbW1lbnQ6ICJUaGlzIHN1Y2tzIGxpa2Ugbm90aGluZyBoYXMgZXZlciBz\ndWNrZWQgYmVmb3JlIiwKICAgICAgICByYXRpbmc6IDEKICAgIH0pCiAgICAu\nZXhwZWN0U3RhdHVzKDQwMSkKICAgIC50b3NzKCk7CgpmcmlzYnkuY3JlYXRl\nKCdERUxFVEUgZXhpc3RpbmcgZmVlZGJhY2sgaXMgZm9yYmlkZGVuIHZpYSBw\ndWJsaWMgQVBJJykKICAgIC5kZWxldGUoQVBJX1VSTCArICcvRmVlZGJhY2tz\nLzEnKQogICAgLmV4cGVjdFN0YXR1cyg0MDEpCiAgICAudG9zcygpOwoKZnJp\nc2J5LmNyZWF0ZSgnREVMRVRFIGV4aXN0aW5nIGZlZWRiYWNrJykKICAgIC5k\nZWxldGUoQVBJX1VSTCArICcvRmVlZGJhY2tzLzEnKQogICAgLmFkZEhlYWRl\ncnMoYXV0aEhlYWRlcikKICAgIC5leHBlY3RTdGF0dXMoMjAwKQogICAgLnRv\nc3MoKTsKCmZyaXNieS5jcmVhdGUoJ1BPU1Qgc2FuaXRpemVzIHVuc2FmZSBI\nVE1MIGZyb20gY29tbWVudCcpCiAgICAucG9zdChBUElfVVJMICsgJy9GZWVk\nYmFja3MnLCB7CiAgICAgICAgY29tbWVudDogJ0kgYW0gYSBoYXJtPHNjcmlw\ndD5zdGVhbC1jb29raWU8L3NjcmlwdD48aW1nIHNyYz0iY3NyZi1hdHRhY2si\nLz48aWZyYW1lIHNyYz0iZXZpbC1jb250ZW50Ij48L2lmcmFtZT5sZXNzIGNv\nbW1lbnQuJywKICAgICAgICByYXRpbmc6IDEKICAgIH0pCiAgICAuZXhwZWN0\nU3RhdHVzKDIwMCkKICAgIC5leHBlY3RKU09OKCdkYXRhJywgewogICAgICAg\nIGNvbW1lbnQ6ICdJIGFtIGEgaGFybWxlc3MgY29tbWVudC4nCiAgICB9KQog\nICAgLnRvc3MoKTsKCmZyaXNieS5jcmVhdGUoJ1BPU1QgZmFpbHMgdG8gc2Fu\naXRpemUgbWFza2VkIENTUkYtYXR0YWNrIGJ5IG5vdCBhcHBseWluZyBzYW5p\ndGl6YXRpb24gcmVjdXJzaXZlbHknKQogICAgLnBvc3QoQVBJX1VSTCArICcv\nRmVlZGJhY2tzJywgewogICAgICAgIGNvbW1lbnQ6ICdUaGUgc2FuaXRpemUt\naHRtbCBtb2R1bGUgdXAgdG8gYXQgbGVhc3QgdmVyc2lvbiAxLjQuMiBoYXMg\ndGhpcyBpc3N1ZTogPDxpbWcgc3JjPSJjc3JmLWF0dGFjayIvPmltZyBzcmM9\nImNzcmYtYXR0YWNrIi8+JywKICAgICAgICByYXRpbmc6IDEKICAgIH0pCiAg\nICAuZXhwZWN0U3RhdHVzKDIwMCkKICAgIC5leHBlY3RKU09OKCdkYXRhJywg\newogICAgICAgIGNvbW1lbnQ6ICdUaGUgc2FuaXRpemUtaHRtbCBtb2R1bGUg\ndXAgdG8gYXQgbGVhc3QgdmVyc2lvbiAxLjQuMiBoYXMgdGhpcyBpc3N1ZTog\nPGltZyBzcmM9ImNzcmYtYXR0YWNrIi8+JwogICAgfSkKICAgIC50b3NzKCk7\nCgpmcmlzYnkuY3JlYXRlKCdQT1NUIGZhaWxzIHRvIHNhbml0aXplIG1hc2tl\nZCBYU1MtYXR0YWNrIGJ5IG5vdCBhcHBseWluZyBzYW5pdGl6YXRpb24gcmVj\ndXJzaXZlbHknKQogICAgLnBvc3QoQVBJX1VSTCArICcvRmVlZGJhY2tzJywg\newogICAgICAgIGNvbW1lbnQ6ICdCdXQgYmFzaWNhbGx5IGl0cyB0aGUgZmF1\nbHQgaHRtbHBhcnNlcjIgaW4gdmVyc2lvbiAzLjMuMCB3aGljaCBzYW5pdGl6\nZS1odG1sIDEuNC4yIGRlcGVuZHMgb246IDw8c2NyaXB0PmFsZXJ0KCJYU1Mz\nIik8L3NjcmlwdD5zY3JpcHQ+YWxlcnQoIlhTUzMiKTw8L3NjcmlwdD4vc2Ny\naXB0PicsCiAgICAgICAgcmF0aW5nOiAxCiAgICB9KQogICAgLmV4cGVjdFN0\nYXR1cygyMDApCiAgICAuZXhwZWN0SlNPTignZGF0YScsIHsKICAgICAgICBj\nb21tZW50OiAnQnV0IGJhc2ljYWxseSBpdHMgdGhlIGZhdWx0IGh0bWxwYXJz\nZXIyIGluIHZlcnNpb24gMy4zLjAgd2hpY2ggc2FuaXRpemUtaHRtbCAxLjQu\nMiBkZXBlbmRzIG9uOiA8c2NyaXB0PmFsZXJ0KCJYU1MzIik8L3NjcmlwdD4n\nCiAgICB9KQogICAgLnRvc3MoKTsKCmZyaXNieS5jcmVhdGUoJ1BPU1QgZmVl\nZGJhY2sgaW4gYW5vdGhlciB1c2VycyBuYW1lIGFzIGFub255bW91cyB1c2Vy\nJykKICAgIC5wb3N0KEFQSV9VUkwgKyAnL0ZlZWRiYWNrcycsIHsKICAgICAg\nICBjb21tZW50OiAnTG91c3kgY3JhcCEnLAogICAgICAgIHJhdGluZzogMSwK\nICAgICAgICBVc2VySWQ6IDMKICAgIH0sIHtqc29uOiB0cnVlfSkKICAgIC5l\neHBlY3RTdGF0dXMoMjAwKQogICAgLmV4cGVjdEhlYWRlckNvbnRhaW5zKCdj\nb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpCiAgICAuZXhwZWN0\nSlNPTignZGF0YScsIHsKICAgICAgICBVc2VySWQ6IDMKICAgIH0pLnRvc3Mo\nKTsKCmZyaXNieS5jcmVhdGUoJ1BPU1QgZmVlZGJhY2sgaW4gYSBub24tZXhp\nc3RpbmcgdXNlcnMgbmFtZSBhcyBhbm9ueW1vdXMgdXNlcicpCiAgICAucG9z\ndChBUElfVVJMICsgJy9GZWVkYmFja3MnLCB7CiAgICAgICAgY29tbWVudDog\nJ1doZW4ganVpY2UgZmFpbHMuLi4nLAogICAgICAgIHJhdGluZzogMiwKICAg\nICAgICBVc2VySWQ6IDQ3MTEKICAgIH0sIHtqc29uOiB0cnVlfSkKICAgIC5l\neHBlY3RTdGF0dXMoMjAwKQogICAgLmV4cGVjdEhlYWRlckNvbnRhaW5zKCdj\nb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpCiAgICAuZXhwZWN0\nSlNPTignZGF0YScsIHsKICAgICAgICBVc2VySWQ6IDQ3MTEKICAgIH0pLnRv\nc3MoKTsK\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/server/feedbackApiSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/3a14ef541efc55b69859c0cced29f84f303e9ae7","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/server/feedbackApiSpec.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:52 GMT
      ETag:
      - W/"3a14ef541efc55b69859c0cced29f84f303e9ae7"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C3A1:175782:186CC43:19DD4D2:66E29D98
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4961'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '39'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/test/server/userApiSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204
  response:
    body:
      string: '{"name":"userApiSpec.js","path":"test/server/userApiSpec.js","sha":"dc91d970ed999b12c04c8127140cfc99fa0865f3","size":10709,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/server/userApiSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","html_url":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/server/userApiSpec.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/dc91d970ed999b12c04c8127140cfc99fa0865f3","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/server/userApiSpec.js","type":"file","content":"Lypqc2xpbnQgbm9kZTogdHJ1ZSAqLwoKdmFyIGZyaXNieSA9IHJlcXVpcmUo\nJ2ZyaXNieScpLAogICAgaW5zZWN1cml0eSA9IHJlcXVpcmUoJy4uLy4uL2xp\nYi9pbnNlY3VyaXR5Jyk7Cgp2YXIgQVBJX1VSTCA9ICdodHRwOi8vbG9jYWxo\nb3N0OjMwMDAvYXBpJzsKdmFyIFJFU1RfVVJMID0gJ2h0dHA6Ly9sb2NhbGhv\nc3Q6MzAwMC9yZXN0JzsKCnZhciBhdXRoSGVhZGVyID0geyAnQXV0aG9yaXph\ndGlvbic6ICdCZWFyZXIgJyArIGluc2VjdXJpdHkuYXV0aG9yaXplKCkgfSA7\nCgpmcmlzYnkuY3JlYXRlKCdQT1NUIG5ldyB1c2VyJykKICAgIC5wb3N0KEFQ\nSV9VUkwgKyAnL1VzZXJzJywgewogICAgICAgIGVtYWlsOiAnaG9yc3RAaG9y\nc3RtYS5ubicsCiAgICAgICAgcGFzc3dvcmQ6ICdob29vb29yc3QnCiAgICB9\nKQogICAgLmV4cGVjdFN0YXR1cygyMDApCiAgICAuZXhwZWN0SGVhZGVyQ29u\ndGFpbnMoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAg\nIC5leHBlY3RKU09OVHlwZXMoJ2RhdGEnLCB7CiAgICAgICAgaWQ6IE51bWJl\nciwKICAgICAgICBjcmVhdGVkQXQ6IFN0cmluZywKICAgICAgICB1cGRhdGVk\nQXQ6IFN0cmluZwogICAgfSkKICAgIC5leHBlY3RKU09OKCdkYXRhJywgewog\nICAgICAgIHBhc3N3b3JkOiBpbnNlY3VyaXR5Lmhhc2goJ2hvb29vb3JzdCcp\nCiAgICB9KQogICAgLmFmdGVySlNPTihmdW5jdGlvbiAodXNlcikgewogICAg\nICAgIGZyaXNieS5jcmVhdGUoJ1BPU1QgbG9naW4gZXhpc3RpbmcgdXNlcicp\nCiAgICAgICAgICAgIC5wb3N0KFJFU1RfVVJMICsgJy91c2VyL2xvZ2luJywg\newogICAgICAgICAgICAgICAgZW1haWw6ICdob3JzdEBob3JzdG1hLm5uJywK\nICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAnaG9vb29vcnN0JwogICAgICAg\nICAgICB9LCB7anNvbjogdHJ1ZX0pCiAgICAgICAgICAgIC5leHBlY3RTdGF0\ndXMoMjAwKQogICAgICAgICAgICAuZXhwZWN0SGVhZGVyQ29udGFpbnMoJ2Nv\nbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAgICAgICAgICAg\nLmV4cGVjdEpTT05UeXBlcyh7CiAgICAgICAgICAgICAgICB0b2tlbjogU3Ry\naW5nCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5hZnRlckpTT04oZnVu\nY3Rpb24oYXV0aCkgewogICAgICAgICAgICAgICAgZnJpc2J5LmNyZWF0ZSgn\nR0VUIG93biB1c2VyIGlkIGFuZCBlbWFpbCBvbiB3aG8tYW0taSByZXF1ZXN0\nJykKICAgICAgICAgICAgICAgICAgICAuZ2V0KFJFU1RfVVJMICsgJy91c2Vy\nL3dob2FtaScpCiAgICAgICAgICAgICAgICAgICAgLmFkZEhlYWRlcnMoeydB\ndXRob3JpemF0aW9uJzogJ0JlYXJlciAnICsgYXV0aC50b2tlbn0pCiAgICAg\nICAgICAgICAgICAgICAgLmV4cGVjdFN0YXR1cygyMDApCiAgICAgICAgICAg\nICAgICAgICAgLmV4cGVjdEhlYWRlckNvbnRhaW5zKCdjb250ZW50LXR5cGUn\nLCAnYXBwbGljYXRpb24vanNvbicpCiAgICAgICAgICAgICAgICAgICAgLmV4\ncGVjdEpTT05UeXBlcyh7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBO\ndW1iZXIKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAg\nICAgIC5leHBlY3RKU09OKHsKICAgICAgICAgICAgICAgICAgICAgICAgZW1h\naWw6ICdob3JzdEBob3JzdG1hLm5uJwogICAgICAgICAgICAgICAgICAgIH0p\nCiAgICAgICAgICAgICAgICAgICAgLnRvc3MoKTsKICAgICAgICAgICAgICAg\nIGZyaXNieS5jcmVhdGUoJ0dFVCBwYXNzd29yZCBjaGFuZ2Ugd2l0aCByZWNv\nZ25pemVkIHRva2VuIGFzIGNvb2tpZScpCiAgICAgICAgICAgICAgICAgICAg\nLmdldChSRVNUX1VSTCArICcvdXNlci9jaGFuZ2UtcGFzc3dvcmQ/bmV3PWZv\nbyZyZXBlYXQ9Zm9vJykKICAgICAgICAgICAgICAgICAgICAuYWRkSGVhZGVy\ncyh7ICdDb29raWUnOiAndG9rZW49JyArIGF1dGgudG9rZW4gfSkKICAgICAg\nICAgICAgICAgICAgICAuZXhwZWN0U3RhdHVzKDIwMCkKICAgICAgICAgICAg\nICAgICAgICAudG9zcygpOwogICAgICAgICAgICAgICAgZnJpc2J5LmNyZWF0\nZSgnR0VUIHBhc3N3b3JkIGNoYW5nZSB3aXRoIHJlY29nbml6ZWQgdG9rZW4g\nYXMgY29va2llIGluIGRvdWJsZS1xdW90ZXMnKQogICAgICAgICAgICAgICAg\nICAgIC5nZXQoUkVTVF9VUkwgKyAnL3VzZXIvY2hhbmdlLXBhc3N3b3JkP25l\ndz1mb28mcmVwZWF0PWZvbycpCiAgICAgICAgICAgICAgICAgICAgLmFkZEhl\nYWRlcnMoeyAnQ29va2llJzogJ3Rva2VuPSUyMicgKyBhdXRoLnRva2VuICsg\nJyUyMicgfSkKICAgICAgICAgICAgICAgICAgICAuZXhwZWN0U3RhdHVzKDIw\nMCkKICAgICAgICAgICAgICAgICAgICAudG9zcygpOwogICAgICAgICAgICAg\nICAgZnJpc2J5LmNyZWF0ZSgnR0VUIGV4aXN0aW5nIGJhc2tldCBvZiBhbm90\naGVyIHVzZXInKQogICAgICAgICAgICAgICAgICAgIC5hZGRIZWFkZXJzKHsn\nQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgJyArIGF1dGgudG9rZW59KQogICAg\nICAgICAgICAgICAgICAgIC5nZXQoUkVTVF9VUkwgKyAnL2Jhc2tldC8yJykK\nICAgICAgICAgICAgICAgICAgICAuZXhwZWN0U3RhdHVzKDIwMCkKICAgICAg\nICAgICAgICAgICAgICAuZXhwZWN0SGVhZGVyQ29udGFpbnMoJ2NvbnRlbnQt\ndHlwZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAgICAgICAgICAgICAgICAg\nICAuZXhwZWN0SlNPTignZGF0YScsIHsKICAgICAgICAgICAgICAgICAgICAg\nICAgaWQ6IDIKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAg\nICAgICAgIC50b3NzKCk7CiAgICAgICAgICAgICAgICBmcmlzYnkuY3JlYXRl\nKCdQT1NUIGZlZWRiYWNrIGlzIGFzc29jaWF0ZWQgd2l0aCBjdXJyZW50IHVz\nZXInKQogICAgICAgICAgICAgICAgICAgIC5hZGRIZWFkZXJzKHsnQXV0aG9y\naXphdGlvbic6ICdCZWFyZXIgJyArIGF1dGgudG9rZW59KQogICAgICAgICAg\nICAgICAgICAgIC5wb3N0KEFQSV9VUkwgKyAnL0ZlZWRiYWNrcycsIHsKICAg\nICAgICAgICAgICAgICAgICAgICAgY29tbWVudDogJ0hvcnN0XCdzIGNob2lj\nZSBhd2FyZCEnLAogICAgICAgICAgICAgICAgICAgICAgICByYXRpbmc6IDUs\nCiAgICAgICAgICAgICAgICAgICAgICAgIFVzZXJJZDogNAogICAgICAgICAg\nICAgICAgICAgIH0sIHtqc29uOiB0cnVlfSkKICAgICAgICAgICAgICAgICAg\nICAuZXhwZWN0U3RhdHVzKDIwMCkKICAgICAgICAgICAgICAgICAgICAuZXhw\nZWN0SGVhZGVyQ29udGFpbnMoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlv\nbi9qc29uJykKICAgICAgICAgICAgICAgICAgICAuZXhwZWN0SlNPTignZGF0\nYScsIHsKICAgICAgICAgICAgICAgICAgICAgICAgVXNlcklkOiA0CiAgICAg\nICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAudG9zcygp\nOwogICAgICAgICAgICAgICAgZnJpc2J5LmNyZWF0ZSgnUE9TVCBmZWVkYmFj\nayBpcyBhc3NvY2lhdGVkIHdpdGggYW55IHBhc3NlZCB1c2VyIGlkJykKICAg\nICAgICAgICAgICAgICAgICAuYWRkSGVhZGVycyh7J0F1dGhvcml6YXRpb24n\nOiAnQmVhcmVyICcgKyBhdXRoLnRva2VufSkKICAgICAgICAgICAgICAgICAg\nICAucG9zdChBUElfVVJMICsgJy9GZWVkYmFja3MnLCB7CiAgICAgICAgICAg\nICAgICAgICAgICAgIGNvbW1lbnQ6ICdCZW5kZXJcJ3MgY2hvaWNlIGF3YXJk\nIScsCiAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZzogMiwKICAgICAg\nICAgICAgICAgICAgICAgICAgVXNlcklkOiAzCiAgICAgICAgICAgICAgICAg\nICAgfSwge2pzb246IHRydWV9KQogICAgICAgICAgICAgICAgICAgIC5leHBl\nY3RTdGF0dXMoMjAwKQogICAgICAgICAgICAgICAgICAgIC5leHBlY3RIZWFk\nZXJDb250YWlucygnY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL2pzb24n\nKQogICAgICAgICAgICAgICAgICAgIC5leHBlY3RKU09OKCdkYXRhJywgewog\nICAgICAgICAgICAgICAgICAgICAgICBVc2VySWQ6IDMKICAgICAgICAgICAg\nICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC50b3NzKCk7CiAgICB9\nKS50b3NzKCk7CgogICAgICAgIGZyaXNieS5jcmVhdGUoJ0dFVCBleGlzdGlu\nZyB1c2VyIGJ5IGlkJykKICAgICAgICAgICAgLmFkZEhlYWRlcnMoYXV0aEhl\nYWRlcikKICAgICAgICAgICAgLmdldChBUElfVVJMICsgJy9Vc2Vycy8nICsg\ndXNlci5kYXRhLmlkKQogICAgICAgICAgICAuZXhwZWN0U3RhdHVzKDIwMCkK\nICAgICAgICAgICAgLmFmdGVyKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAg\nICAgZnJpc2J5LmNyZWF0ZSgnUFVUIHVwZGF0ZSBleGlzdGluZyB1c2VyJykK\nICAgICAgICAgICAgICAgICAgICAuYWRkSGVhZGVycyhhdXRoSGVhZGVyKQog\nICAgICAgICAgICAgICAgICAgIC5wdXQoQVBJX1VSTCArICcvVXNlcnMvJyAr\nIHVzZXIuZGF0YS5pZCwgewogICAgICAgICAgICAgICAgICAgICAgICBlbWFp\nbDogJ2hvcnN0LmhvcnN0bWFubkBob3JzdG1hLm5uJwogICAgICAgICAgICAg\nICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLmV4cGVjdFN0YXR1cygy\nMDApCiAgICAgICAgICAgICAgICAgICAgLmFmdGVyKGZ1bmN0aW9uKCkgewog\nICAgICAgICAgICAgICAgICAgICAgICBmcmlzYnkuY3JlYXRlKCdERUxFVEUg\nZXhpc3RpbmcgdXNlciBpcyBmb3JiaWRkZW4gdmlhIEFQSSBldmVuIHdoZW4g\nYXV0aGVudGljYXRlZCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAu\nYWRkSGVhZGVycyhhdXRoSGVhZGVyKQogICAgICAgICAgICAgICAgICAgICAg\nICAgICAgLmRlbGV0ZShBUElfVVJMICsgJy9Vc2Vycy8nICsgKyB1c2VyLmRh\ndGEuaWQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZXhwZWN0U3Rh\ndHVzKDQwMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b3NzKCk7\nCiAgICAgICAgICAgICAgICAgICAgfSkudG9zcygpOwogICAgICAgICAgICB9\nKS50b3NzKCk7CiAgICB9KS50b3NzKCk7CgoKZnJpc2J5LmNyZWF0ZSgnR0VU\nIGFsbCB1c2VycyBpcyBmb3JiaWRkZW4gdmlhIHB1YmxpYyBBUEknKQogICAg\nLmdldChBUElfVVJMICsgJy9Vc2VycycpCiAgICAuZXhwZWN0U3RhdHVzKDQw\nMSkKICAgIC50b3NzKCk7CgpmcmlzYnkuY3JlYXRlKCdHRVQgZXhpc3Rpbmcg\ndXNlciBieSBpZCBpcyBmb3JiaWRkZW4gdmlhIHB1YmxpYyBBUEknKQogICAg\nLmdldChBUElfVVJMICsgJy9Vc2Vycy8xJykKICAgIC5leHBlY3RTdGF0dXMo\nNDAxKQogICAgLnRvc3MoKTsKCmZyaXNieS5jcmVhdGUoJ1BVVCB1cGRhdGUg\nZXhpc3RpbmcgdXNlciBpcyBmb3JiaWRkZW4gdmlhIHB1YmxpYyBBUEknKQog\nICAgLnB1dChBUElfVVJMICsgJy9Vc2Vycy8xJywgewogICAgICAgIGVtYWls\nOiAnYWRtaW5pc3RyQHQub3InCiAgICB9KQogICAgLmV4cGVjdFN0YXR1cyg0\nMDEpCiAgICAudG9zcygpOwoKZnJpc2J5LmNyZWF0ZSgnREVMRVRFIGV4aXN0\naW5nIHVzZXIgaXMgZm9yYmlkZGVuIHZpYSBwdWJsaWMgQVBJJykKICAgIC5k\nZWxldGUoQVBJX1VSTCArICcvVXNlcnMvMScpCiAgICAuZXhwZWN0U3RhdHVz\nKDQwMSkKICAgIC50b3NzKCk7CgpmcmlzYnkuY3JlYXRlKCdQVVQgdXBkYXRl\nIEJlbmRlcnMgcGFzc3dvcmQgdG8gInNsdXJtQ2w0c3NpYyInKQogICAgLnB1\ndChBUElfVVJMICsgJy9Vc2Vycy8zJywgewogICAgICAgIHBhc3N3b3JkOiAn\nc2x1cm1DbDRzc2ljJwogICAgfSkKICAgIC5hZGRIZWFkZXJzKGF1dGhIZWFk\nZXIpCiAgICAuZXhwZWN0U3RhdHVzKDIwMCkKICAgIC5leHBlY3RKU09OKCdk\nYXRhJywgewogICAgICAgIHBhc3N3b3JkOiBpbnNlY3VyaXR5Lmhhc2goJ3Ns\ndXJtQ2w0c3NpYycpCiAgICB9KQogICAgLnRvc3MoKTsKCmZyaXNieS5jcmVh\ndGUoJ1BPU1QgbG9naW4gbm9uLWV4aXN0aW5nIHVzZXInKQogICAgLnBvc3Qo\nUkVTVF9VUkwgKyAnL3VzZXIvbG9naW4nLCB7CiAgICAgICAgZW1haWw6ICdv\ndHRvQG1laS5lcicsCiAgICAgICAgcGFzc3dvcmQ6ICdvb29vdHRvJwogICAg\nfSwge2pzb246IHRydWV9KQogICAgLmV4cGVjdFN0YXR1cyg0MDEpCiAgICAu\ndG9zcygpOwoKZnJpc2J5LmNyZWF0ZSgnUE9TVCBsb2dpbiB3aXRob3V0IGNy\nZWRlbnRpYWxzJykKICAgIC5wb3N0KFJFU1RfVVJMICsgJy91c2VyL2xvZ2lu\nJywgewogICAgICAgIGVtYWlsOiB1bmRlZmluZWQsCiAgICAgICAgcGFzc3dv\ncmQ6IHVuZGVmaW5lZAogICAgfSwge2pzb246IHRydWV9KQogICAgLmV4cGVj\ndFN0YXR1cyg0MDEpCiAgICAudG9zcygpOwoKZnJpc2J5LmNyZWF0ZSgnUE9T\nVCBsb2dpbiB3aXRoIGFkbWluIGNyZWRlbnRpYWxzJykKICAgIC5wb3N0KFJF\nU1RfVVJMICsgJy91c2VyL2xvZ2luJywgewogICAgICAgIGVtYWlsOiAnYWRt\naW5AanVpY2Utc2gub3AnLAogICAgICAgIHBhc3N3b3JkOiAnYWRtaW4xMjMn\nCiAgICB9LCB7anNvbjogdHJ1ZX0pCiAgICAuZXhwZWN0U3RhdHVzKDIwMCkK\nICAgIC5leHBlY3RIZWFkZXJDb250YWlucygnY29udGVudC10eXBlJywgJ2Fw\ncGxpY2F0aW9uL2pzb24nKQogICAgLmV4cGVjdEpTT05UeXBlcyh7CiAgICAg\nICAgdG9rZW46IFN0cmluZwogICAgfSkKICAgIC50b3NzKCk7CgpmcmlzYnku\nY3JlYXRlKCdQT1NUIGxvZ2luIHdpdGggV0hFUkUtY2xhdXNlIGRpc2FibGlu\nZyBTUUwgaW5qZWN0aW9uIGF0dGFjaycpCiAgICAucG9zdChSRVNUX1VSTCAr\nICcvdXNlci9sb2dpbicsIHsKICAgICAgICBlbWFpbDogJ1wnIG9yIDE9MS0t\nJywKICAgICAgICBwYXNzd29yZDogdW5kZWZpbmVkCiAgICB9LCB7anNvbjog\ndHJ1ZX0pCiAgICAuZXhwZWN0U3RhdHVzKDIwMCkKICAgIC5leHBlY3RIZWFk\nZXJDb250YWlucygnY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL2pzb24n\nKQogICAgLmV4cGVjdEpTT05UeXBlcyh7CiAgICAgICAgdG9rZW46IFN0cmlu\nZwogICAgfSkKICAgIC50b3NzKCk7CgpmcmlzYnkuY3JlYXRlKCdQT1NUIGxv\nZ2luIHdpdGgga25vd24gZW1haWwgImFkbWluQGp1aWNlLXNoLm9wIiBpbiBT\nUUwgaW5qZWN0aW9uIGF0dGFjaycpCiAgICAucG9zdChSRVNUX1VSTCArICcv\ndXNlci9sb2dpbicsIHsKICAgICAgICBlbWFpbDogJ2FkbWluQGp1aWNlLXNo\nLm9wXCctLScsCiAgICAgICAgcGFzc3dvcmQ6IHVuZGVmaW5lZAogICAgfSwg\ne2pzb246IHRydWV9KQogICAgLmV4cGVjdFN0YXR1cygyMDApCiAgICAuZXhw\nZWN0SGVhZGVyQ29udGFpbnMoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlv\nbi9qc29uJykKICAgIC5leHBlY3RKU09OVHlwZXMoewogICAgICAgIHRva2Vu\nOiBTdHJpbmcKICAgIH0pCiAgICAudG9zcygpOwoKZnJpc2J5LmNyZWF0ZSgn\nUE9TVCBsb2dpbiB3aXRoIGtub3duIGVtYWlsICJqaW1AanVpY2Utc2gub3Ai\nIGluIFNRTCBpbmplY3Rpb24gYXR0YWNrJykKICAgIC5wb3N0KFJFU1RfVVJM\nICsgJy91c2VyL2xvZ2luJywgewogICAgICAgIGVtYWlsOiAnamltQGp1aWNl\nLXNoLm9wXCctLScsCiAgICAgICAgcGFzc3dvcmQ6IHVuZGVmaW5lZAogICAg\nfSwge2pzb246IHRydWV9KQogICAgLmV4cGVjdFN0YXR1cygyMDApCiAgICAu\nZXhwZWN0SGVhZGVyQ29udGFpbnMoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNh\ndGlvbi9qc29uJykKICAgIC5leHBlY3RKU09OVHlwZXMoewogICAgICAgIHRv\na2VuOiBTdHJpbmcKICAgIH0pCiAgICAudG9zcygpOwoKZnJpc2J5LmNyZWF0\nZSgnUE9TVCBsb2dpbiB3aXRoIGtub3duIGVtYWlsICJiZW5kZXJAanVpY2Ut\nc2gub3AiIGluIFNRTCBpbmplY3Rpb24gYXR0YWNrJykKICAgIC5wb3N0KFJF\nU1RfVVJMICsgJy91c2VyL2xvZ2luJywgewogICAgICAgIGVtYWlsOiAnYmVu\nZGVyQGp1aWNlLXNoLm9wXCctLScsCiAgICAgICAgcGFzc3dvcmQ6IHVuZGVm\naW5lZAogICAgfSwge2pzb246IHRydWV9KQogICAgLmV4cGVjdFN0YXR1cygy\nMDApCiAgICAuZXhwZWN0SGVhZGVyQ29udGFpbnMoJ2NvbnRlbnQtdHlwZScs\nICdhcHBsaWNhdGlvbi9qc29uJykKICAgIC5leHBlY3RKU09OVHlwZXMoewog\nICAgICAgIHRva2VuOiBTdHJpbmcKICAgIH0pCiAgICAudG9zcygpOwoKZnJp\nc2J5LmNyZWF0ZSgnUE9TVCBsb2dpbiB3aXRoIHF1ZXJ5LWJyZWFraW5nIFNR\nTCBJbmplY3Rpb24gYXR0YWNrJykKICAgIC5wb3N0KFJFU1RfVVJMICsgJy91\nc2VyL2xvZ2luJywgewogICAgICAgIGVtYWlsOiAnXCc7JywKICAgICAgICBw\nYXNzd29yZDogdW5kZWZpbmVkCiAgICB9LCB7anNvbjogdHJ1ZX0pCiAgICAu\nZXhwZWN0U3RhdHVzKDQwMSkKICAgIC50b3NzKCk7CgpmcmlzYnkuY3JlYXRl\nKCdHRVQgcGFzc3dvcmQgY2hhbmdlIHdpdGhvdXQgcGFzc2luZyBhbnkgcGFz\nc3dvcmRzJykKICAgIC5nZXQoUkVTVF9VUkwgKyAnL3VzZXIvY2hhbmdlLXBh\nc3N3b3JkJykKICAgIC5leHBlY3RTdGF0dXMoNDAxKQogICAgLmV4cGVjdEJv\nZHlDb250YWlucygnUGFzc3dvcmQgY2Fubm90IGJlIGVtcHR5JykKICAgIC50\nb3NzKCk7CgpmcmlzYnkuY3JlYXRlKCdHRVQgcGFzc3dvcmQgY2hhbmdlIHdp\ndGggcGFzc2luZyB3cm9uZyByZXBlYXRlZCBwYXNzd29yZCcpCiAgICAuZ2V0\nKFJFU1RfVVJMICsgJy91c2VyL2NoYW5nZS1wYXNzd29yZD9uZXc9Zm9vJnJl\ncGVhdD1iYXInKQogICAgLmV4cGVjdFN0YXR1cyg0MDEpCiAgICAuZXhwZWN0\nQm9keUNvbnRhaW5zKCdOZXcgYW5kIHJlcGVhdGVkIHBhc3N3b3JkIGRvIG5v\ndCBtYXRjaCcpCiAgICAudG9zcygpOwoKZnJpc2J5LmNyZWF0ZSgnR0VUIHBh\nc3N3b3JkIGNoYW5nZSB3aXRob3V0IHBhc3NpbmcgYW4gYXV0aG9yaXphdGlv\nbiB0b2tlbicpCiAgICAuZ2V0KFJFU1RfVVJMICsgJy91c2VyL2NoYW5nZS1w\nYXNzd29yZD9uZXc9Zm9vJnJlcGVhdD1mb28nKQogICAgLmV4cGVjdFN0YXR1\ncyg1MDApCiAgICAuZXhwZWN0SGVhZGVyQ29udGFpbnMoJ2NvbnRlbnQtdHlw\nZScsICd0ZXh0L2h0bWwnKQogICAgLmV4cGVjdEJvZHlDb250YWlucygnPGgx\nPkp1aWNlIFNob3AgKEV4cHJlc3MgficpCiAgICAuZXhwZWN0Qm9keUNvbnRh\naW5zKCdFcnJvcjogQmxvY2tlZCBpbGxlZ2FsIGFjdGl2aXR5JykKICAgIC50\nb3NzKCk7CgpmcmlzYnkuY3JlYXRlKCdHRVQgcGFzc3dvcmQgY2hhbmdlIHdp\ndGggcGFzc2luZyB1bnJlY29nbml6ZWQgYXV0aG9yaXphdGlvbiBjb29raWUn\nKQogICAgLmdldChSRVNUX1VSTCArICcvdXNlci9jaGFuZ2UtcGFzc3dvcmQ/\nbmV3PWZvbyZyZXBlYXQ9Zm9vJykKICAgIC5hZGRIZWFkZXJzKHsgJ0Nvb2tp\nZSc6ICd0b2tlbj11bmtub3duJyB9KQogICAgLmV4cGVjdFN0YXR1cyg1MDAp\nCiAgICAuZXhwZWN0SGVhZGVyQ29udGFpbnMoJ2NvbnRlbnQtdHlwZScsICd0\nZXh0L2h0bWwnKQogICAgLmV4cGVjdEJvZHlDb250YWlucygnPGgxPkp1aWNl\nIFNob3AgKEV4cHJlc3MgficpCiAgICAuZXhwZWN0Qm9keUNvbnRhaW5zKCdF\ncnJvcjogQmxvY2tlZCBpbGxlZ2FsIGFjdGl2aXR5JykKICAgIC50b3NzKCk7\nCgpmcmlzYnkuY3JlYXRlKCdHRVQgYWxsIHVzZXJzJykKICAgIC5hZGRIZWFk\nZXJzKGF1dGhIZWFkZXIpCiAgICAuZ2V0KEFQSV9VUkwgKyAnL1VzZXJzJykK\nICAgIC5leHBlY3RTdGF0dXMoMjAwKQogICAgLnRvc3MoKTsKCmZyaXNieS5j\ncmVhdGUoJ0dFVCBhbGwgdXNlcnMgZGVjb3JhdGVkIHdpdGggYXR0cmlidXRl\nIGZvciBhdXRoZW50aWNhdGlvbiB0b2tlbicpCiAgICAuYWRkSGVhZGVycyhh\ndXRoSGVhZGVyKQogICAgLmdldChSRVNUX1VSTCArICcvdXNlci9hdXRoZW50\naWNhdGlvbi1kZXRhaWxzJykKICAgIC5leHBlY3RTdGF0dXMoMjAwKQogICAg\nLmV4cGVjdEpTT05UeXBlcygnZGF0YS4/Jyx7CiAgICAgICAgdG9rZW46IFN0\ncmluZwogICAgfSkudG9zcygpOwoKZnJpc2J5LmNyZWF0ZSgnUE9TVCBuZXcg\ndXNlciB3aXRoIFhTUyBhdHRhY2sgaW4gZW1haWwgYWRkcmVzcycpCiAgICAu\ncG9zdChBUElfVVJMICsgJy9Vc2VycycsIHsKICAgICAgICBlbWFpbDogJzxz\nY3JpcHQ+YWxlcnQoIlhTUzIiKTwvc2NyaXB0PicsCiAgICAgICAgcGFzc3dv\ncmQ6ICdkb2VzLm5vdC5tYXR0ZXInCiAgICB9KQogICAgLmV4cGVjdFN0YXR1\ncygyMDApCiAgICAuZXhwZWN0SGVhZGVyQ29udGFpbnMoJ2NvbnRlbnQtdHlw\nZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAgIC5leHBlY3RKU09OKCdkYXRh\nJywgewogICAgICAgIGVtYWlsOiAnPHNjcmlwdD5hbGVydCgiWFNTMiIpPC9z\nY3JpcHQ+JwogICAgfSkudG9zcygpOwoKZnJpc2J5LmNyZWF0ZSgnR0VUIHdo\nby1hbS1pIHJlcXVlc3QgcmV0dXJucyBub3RoaW5nIG9uIG1pc3NpbmcgYXV0\naCB0b2tlbicpCiAgICAuZ2V0KFJFU1RfVVJMICsgJy91c2VyL3dob2FtaScp\nCiAgICAuZXhwZWN0U3RhdHVzKDIwMCkKICAgIC5leHBlY3RIZWFkZXJDb250\nYWlucygnY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKQogICAg\nLmV4cGVjdEpTT05UeXBlcyh7CiAgICAgICAgaWQ6IHVuZGVmaW5lZCwKICAg\nICAgICBlbWFpbDogdW5kZWZpbmVkCiAgICB9KQogICAgLnRvc3MoKTsKCmZy\naXNieS5jcmVhdGUoJ0dFVCB3aG8tYW0taSByZXF1ZXN0IHJldHVybnMgbm90\naGluZyBvbiBpbnZhbGlkIGF1dGggdG9rZW4nKQogICAgLmdldChSRVNUX1VS\nTCArICcvdXNlci93aG9hbWknKQogICAgLmFkZEhlYWRlcnMoYXV0aEhlYWRl\ncikKICAgIC5leHBlY3RTdGF0dXMoMjAwKQogICAgLmV4cGVjdEhlYWRlckNv\nbnRhaW5zKCdjb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpCiAg\nICAuZXhwZWN0SlNPTlR5cGVzKHsKICAgICAgICBpZDogdW5kZWZpbmVkLAog\nICAgICAgIGVtYWlsOiB1bmRlZmluZWQKICAgIH0pCiAgICAudG9zcygpOwo=\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/server/userApiSpec.js?ref=c17a2afaeafc194fc33ec4fcfb3395aa88440204","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/dc91d970ed999b12c04c8127140cfc99fa0865f3","html":"https://github.com/juice-shop/juice-shop/blob/c17a2afaeafc194fc33ec4fcfb3395aa88440204/test/server/userApiSpec.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:53 GMT
      ETag:
      - W/"dc91d970ed999b12c04c8127140cfc99fa0865f3"
      Last-Modified:
      - Mon, 20 Oct 2014 23:50:28 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C3A2:8AACB:258EA6C:27ED95A:66E29D99
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4960'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '40'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop
  response:
    body:
      string: '{"id":24233689,"node_id":"MDEwOlJlcG9zaXRvcnkyNDIzMzY4OQ==","name":"juice-shop","full_name":"juice-shop/juice-shop","private":false,"owner":{"login":"juice-shop","id":83415759,"node_id":"MDEyOk9yZ2FuaXphdGlvbjgzNDE1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/83415759?v=4","gravatar_id":"","url":"https://api.github.com/users/juice-shop","html_url":"https://github.com/juice-shop","followers_url":"https://api.github.com/users/juice-shop/followers","following_url":"https://api.github.com/users/juice-shop/following{/other_user}","gists_url":"https://api.github.com/users/juice-shop/gists{/gist_id}","starred_url":"https://api.github.com/users/juice-shop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juice-shop/subscriptions","organizations_url":"https://api.github.com/users/juice-shop/orgs","repos_url":"https://api.github.com/users/juice-shop/repos","events_url":"https://api.github.com/users/juice-shop/events{/privacy}","received_events_url":"https://api.github.com/users/juice-shop/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/juice-shop/juice-shop","description":"OWASP
        Juice Shop: Probably the most modern and sophisticated insecure web application","fork":false,"url":"https://api.github.com/repos/juice-shop/juice-shop","forks_url":"https://api.github.com/repos/juice-shop/juice-shop/forks","keys_url":"https://api.github.com/repos/juice-shop/juice-shop/keys{/key_id}","collaborators_url":"https://api.github.com/repos/juice-shop/juice-shop/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/juice-shop/juice-shop/teams","hooks_url":"https://api.github.com/repos/juice-shop/juice-shop/hooks","issue_events_url":"https://api.github.com/repos/juice-shop/juice-shop/issues/events{/number}","events_url":"https://api.github.com/repos/juice-shop/juice-shop/events","assignees_url":"https://api.github.com/repos/juice-shop/juice-shop/assignees{/user}","branches_url":"https://api.github.com/repos/juice-shop/juice-shop/branches{/branch}","tags_url":"https://api.github.com/repos/juice-shop/juice-shop/tags","blobs_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/juice-shop/juice-shop/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/juice-shop/juice-shop/git/refs{/sha}","trees_url":"https://api.github.com/repos/juice-shop/juice-shop/git/trees{/sha}","statuses_url":"https://api.github.com/repos/juice-shop/juice-shop/statuses/{sha}","languages_url":"https://api.github.com/repos/juice-shop/juice-shop/languages","stargazers_url":"https://api.github.com/repos/juice-shop/juice-shop/stargazers","contributors_url":"https://api.github.com/repos/juice-shop/juice-shop/contributors","subscribers_url":"https://api.github.com/repos/juice-shop/juice-shop/subscribers","subscription_url":"https://api.github.com/repos/juice-shop/juice-shop/subscription","commits_url":"https://api.github.com/repos/juice-shop/juice-shop/commits{/sha}","git_commits_url":"https://api.github.com/repos/juice-shop/juice-shop/git/commits{/sha}","comments_url":"https://api.github.com/repos/juice-shop/juice-shop/comments{/number}","issue_comment_url":"https://api.github.com/repos/juice-shop/juice-shop/issues/comments{/number}","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/{+path}","compare_url":"https://api.github.com/repos/juice-shop/juice-shop/compare/{base}...{head}","merges_url":"https://api.github.com/repos/juice-shop/juice-shop/merges","archive_url":"https://api.github.com/repos/juice-shop/juice-shop/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/juice-shop/juice-shop/downloads","issues_url":"https://api.github.com/repos/juice-shop/juice-shop/issues{/number}","pulls_url":"https://api.github.com/repos/juice-shop/juice-shop/pulls{/number}","milestones_url":"https://api.github.com/repos/juice-shop/juice-shop/milestones{/number}","notifications_url":"https://api.github.com/repos/juice-shop/juice-shop/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/juice-shop/juice-shop/labels{/name}","releases_url":"https://api.github.com/repos/juice-shop/juice-shop/releases{/id}","deployments_url":"https://api.github.com/repos/juice-shop/juice-shop/deployments","created_at":"2014-09-19T14:53:06Z","updated_at":"2024-09-12T03:41:18Z","pushed_at":"2024-09-11T11:20:34Z","git_url":"git://github.com/juice-shop/juice-shop.git","ssh_url":"git@github.com:juice-shop/juice-shop.git","clone_url":"https://github.com/juice-shop/juice-shop.git","svn_url":"https://github.com/juice-shop/juice-shop","homepage":"https://owasp-juice.shop","size":240302,"stargazers_count":10088,"watchers_count":10088,"language":"TypeScript","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":10349,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":8,"license":{"key":"mit","name":"MIT
        License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["24pullrequests","application-security","appsec","ctf","hacking","hacktoberfest","javascript","owasp","owasp-top-10","owasp-top-ten","pentesting","security","vulnapp","vulnerable"],"visibility":"public","forks":10349,"open_issues":8,"watchers":10088,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true},"custom_properties":{},"organization":{"login":"juice-shop","id":83415759,"node_id":"MDEyOk9yZ2FuaXphdGlvbjgzNDE1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/83415759?v=4","gravatar_id":"","url":"https://api.github.com/users/juice-shop","html_url":"https://github.com/juice-shop","followers_url":"https://api.github.com/users/juice-shop/followers","following_url":"https://api.github.com/users/juice-shop/following{/other_user}","gists_url":"https://api.github.com/users/juice-shop/gists{/gist_id}","starred_url":"https://api.github.com/users/juice-shop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juice-shop/subscriptions","organizations_url":"https://api.github.com/users/juice-shop/orgs","repos_url":"https://api.github.com/users/juice-shop/repos","events_url":"https://api.github.com/users/juice-shop/events{/privacy}","received_events_url":"https://api.github.com/users/juice-shop/received_events","type":"Organization","site_admin":false},"network_count":10349,"subscribers_count":162}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:54 GMT
      ETag:
      - W/"7b8319cf490b0686fe354b5dfd122015a32e8ebf4d7323fcc770e341dce533b7"
      Last-Modified:
      - Thu, 12 Sep 2024 03:41:18 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C3A3:1EF05C:32C285D:35E03C2:66E29D99
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4959'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '41'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - metadata=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/pulls/40
  response:
    body:
      string: '{"url":"https://api.github.com/repos/juice-shop/juice-shop/pulls/40","id":23284988,"node_id":"MDExOlB1bGxSZXF1ZXN0MjMyODQ5ODg=","html_url":"https://github.com/juice-shop/juice-shop/pull/40","diff_url":"https://github.com/juice-shop/juice-shop/pull/40.diff","patch_url":"https://github.com/juice-shop/juice-shop/pull/40.patch","issue_url":"https://api.github.com/repos/juice-shop/juice-shop/issues/40","number":40,"state":"closed","locked":true,"title":"Refactorings
        and updates for v.1.0.0","user":{"login":"bkimminich","id":3531020,"node_id":"MDQ6VXNlcjM1MzEwMjA=","avatar_url":"https://avatars.githubusercontent.com/u/3531020?v=4","gravatar_id":"","url":"https://api.github.com/users/bkimminich","html_url":"https://github.com/bkimminich","followers_url":"https://api.github.com/users/bkimminich/followers","following_url":"https://api.github.com/users/bkimminich/following{/other_user}","gists_url":"https://api.github.com/users/bkimminich/gists{/gist_id}","starred_url":"https://api.github.com/users/bkimminich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkimminich/subscriptions","organizations_url":"https://api.github.com/users/bkimminich/orgs","repos_url":"https://api.github.com/users/bkimminich/repos","events_url":"https://api.github.com/users/bkimminich/events{/privacy}","received_events_url":"https://api.github.com/users/bkimminich/received_events","type":"User","site_admin":false},"body":"-
        Separation of Concerns: `server.js` was split into `models`, `datacreator`,
        `datacache` and `middleware` modules\n- Updated to latest version of Express
        and most other libraries (Angular remains 1.2.x, same with Jasmine staying
        on 1.4.x)\n- Code cleanup\n","created_at":"2014-10-24T09:29:11Z","updated_at":"2019-11-05T02:04:38Z","closed_at":"2014-10-24T09:29:57Z","merged_at":"2014-10-24T09:29:57Z","merge_commit_sha":"c99ff93fe57e8c7a2912528f42082df8e174b0f8","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/juice-shop/juice-shop/pulls/40/commits","review_comments_url":"https://api.github.com/repos/juice-shop/juice-shop/pulls/40/comments","review_comment_url":"https://api.github.com/repos/juice-shop/juice-shop/pulls/comments{/number}","comments_url":"https://api.github.com/repos/juice-shop/juice-shop/issues/40/comments","statuses_url":"https://api.github.com/repos/juice-shop/juice-shop/statuses/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","head":{"label":"juice-shop:develop","ref":"develop","sha":"6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","user":{"login":"juice-shop","id":83415759,"node_id":"MDEyOk9yZ2FuaXphdGlvbjgzNDE1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/83415759?v=4","gravatar_id":"","url":"https://api.github.com/users/juice-shop","html_url":"https://github.com/juice-shop","followers_url":"https://api.github.com/users/juice-shop/followers","following_url":"https://api.github.com/users/juice-shop/following{/other_user}","gists_url":"https://api.github.com/users/juice-shop/gists{/gist_id}","starred_url":"https://api.github.com/users/juice-shop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juice-shop/subscriptions","organizations_url":"https://api.github.com/users/juice-shop/orgs","repos_url":"https://api.github.com/users/juice-shop/repos","events_url":"https://api.github.com/users/juice-shop/events{/privacy}","received_events_url":"https://api.github.com/users/juice-shop/received_events","type":"Organization","site_admin":false},"repo":{"id":24233689,"node_id":"MDEwOlJlcG9zaXRvcnkyNDIzMzY4OQ==","name":"juice-shop","full_name":"juice-shop/juice-shop","private":false,"owner":{"login":"juice-shop","id":83415759,"node_id":"MDEyOk9yZ2FuaXphdGlvbjgzNDE1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/83415759?v=4","gravatar_id":"","url":"https://api.github.com/users/juice-shop","html_url":"https://github.com/juice-shop","followers_url":"https://api.github.com/users/juice-shop/followers","following_url":"https://api.github.com/users/juice-shop/following{/other_user}","gists_url":"https://api.github.com/users/juice-shop/gists{/gist_id}","starred_url":"https://api.github.com/users/juice-shop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juice-shop/subscriptions","organizations_url":"https://api.github.com/users/juice-shop/orgs","repos_url":"https://api.github.com/users/juice-shop/repos","events_url":"https://api.github.com/users/juice-shop/events{/privacy}","received_events_url":"https://api.github.com/users/juice-shop/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/juice-shop/juice-shop","description":"OWASP
        Juice Shop: Probably the most modern and sophisticated insecure web application","fork":false,"url":"https://api.github.com/repos/juice-shop/juice-shop","forks_url":"https://api.github.com/repos/juice-shop/juice-shop/forks","keys_url":"https://api.github.com/repos/juice-shop/juice-shop/keys{/key_id}","collaborators_url":"https://api.github.com/repos/juice-shop/juice-shop/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/juice-shop/juice-shop/teams","hooks_url":"https://api.github.com/repos/juice-shop/juice-shop/hooks","issue_events_url":"https://api.github.com/repos/juice-shop/juice-shop/issues/events{/number}","events_url":"https://api.github.com/repos/juice-shop/juice-shop/events","assignees_url":"https://api.github.com/repos/juice-shop/juice-shop/assignees{/user}","branches_url":"https://api.github.com/repos/juice-shop/juice-shop/branches{/branch}","tags_url":"https://api.github.com/repos/juice-shop/juice-shop/tags","blobs_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/juice-shop/juice-shop/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/juice-shop/juice-shop/git/refs{/sha}","trees_url":"https://api.github.com/repos/juice-shop/juice-shop/git/trees{/sha}","statuses_url":"https://api.github.com/repos/juice-shop/juice-shop/statuses/{sha}","languages_url":"https://api.github.com/repos/juice-shop/juice-shop/languages","stargazers_url":"https://api.github.com/repos/juice-shop/juice-shop/stargazers","contributors_url":"https://api.github.com/repos/juice-shop/juice-shop/contributors","subscribers_url":"https://api.github.com/repos/juice-shop/juice-shop/subscribers","subscription_url":"https://api.github.com/repos/juice-shop/juice-shop/subscription","commits_url":"https://api.github.com/repos/juice-shop/juice-shop/commits{/sha}","git_commits_url":"https://api.github.com/repos/juice-shop/juice-shop/git/commits{/sha}","comments_url":"https://api.github.com/repos/juice-shop/juice-shop/comments{/number}","issue_comment_url":"https://api.github.com/repos/juice-shop/juice-shop/issues/comments{/number}","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/{+path}","compare_url":"https://api.github.com/repos/juice-shop/juice-shop/compare/{base}...{head}","merges_url":"https://api.github.com/repos/juice-shop/juice-shop/merges","archive_url":"https://api.github.com/repos/juice-shop/juice-shop/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/juice-shop/juice-shop/downloads","issues_url":"https://api.github.com/repos/juice-shop/juice-shop/issues{/number}","pulls_url":"https://api.github.com/repos/juice-shop/juice-shop/pulls{/number}","milestones_url":"https://api.github.com/repos/juice-shop/juice-shop/milestones{/number}","notifications_url":"https://api.github.com/repos/juice-shop/juice-shop/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/juice-shop/juice-shop/labels{/name}","releases_url":"https://api.github.com/repos/juice-shop/juice-shop/releases{/id}","deployments_url":"https://api.github.com/repos/juice-shop/juice-shop/deployments","created_at":"2014-09-19T14:53:06Z","updated_at":"2024-09-12T03:41:18Z","pushed_at":"2024-09-11T11:20:34Z","git_url":"git://github.com/juice-shop/juice-shop.git","ssh_url":"git@github.com:juice-shop/juice-shop.git","clone_url":"https://github.com/juice-shop/juice-shop.git","svn_url":"https://github.com/juice-shop/juice-shop","homepage":"https://owasp-juice.shop","size":240302,"stargazers_count":10088,"watchers_count":10088,"language":"TypeScript","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":10349,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":8,"license":{"key":"mit","name":"MIT
        License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["24pullrequests","application-security","appsec","ctf","hacking","hacktoberfest","javascript","owasp","owasp-top-10","owasp-top-ten","pentesting","security","vulnapp","vulnerable"],"visibility":"public","forks":10349,"open_issues":8,"watchers":10088,"default_branch":"master"}},"base":{"label":"juice-shop:master","ref":"master","sha":"b931970df9be0e7d9ce4b069acb1fa7430f480e8","user":{"login":"juice-shop","id":83415759,"node_id":"MDEyOk9yZ2FuaXphdGlvbjgzNDE1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/83415759?v=4","gravatar_id":"","url":"https://api.github.com/users/juice-shop","html_url":"https://github.com/juice-shop","followers_url":"https://api.github.com/users/juice-shop/followers","following_url":"https://api.github.com/users/juice-shop/following{/other_user}","gists_url":"https://api.github.com/users/juice-shop/gists{/gist_id}","starred_url":"https://api.github.com/users/juice-shop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juice-shop/subscriptions","organizations_url":"https://api.github.com/users/juice-shop/orgs","repos_url":"https://api.github.com/users/juice-shop/repos","events_url":"https://api.github.com/users/juice-shop/events{/privacy}","received_events_url":"https://api.github.com/users/juice-shop/received_events","type":"Organization","site_admin":false},"repo":{"id":24233689,"node_id":"MDEwOlJlcG9zaXRvcnkyNDIzMzY4OQ==","name":"juice-shop","full_name":"juice-shop/juice-shop","private":false,"owner":{"login":"juice-shop","id":83415759,"node_id":"MDEyOk9yZ2FuaXphdGlvbjgzNDE1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/83415759?v=4","gravatar_id":"","url":"https://api.github.com/users/juice-shop","html_url":"https://github.com/juice-shop","followers_url":"https://api.github.com/users/juice-shop/followers","following_url":"https://api.github.com/users/juice-shop/following{/other_user}","gists_url":"https://api.github.com/users/juice-shop/gists{/gist_id}","starred_url":"https://api.github.com/users/juice-shop/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juice-shop/subscriptions","organizations_url":"https://api.github.com/users/juice-shop/orgs","repos_url":"https://api.github.com/users/juice-shop/repos","events_url":"https://api.github.com/users/juice-shop/events{/privacy}","received_events_url":"https://api.github.com/users/juice-shop/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/juice-shop/juice-shop","description":"OWASP
        Juice Shop: Probably the most modern and sophisticated insecure web application","fork":false,"url":"https://api.github.com/repos/juice-shop/juice-shop","forks_url":"https://api.github.com/repos/juice-shop/juice-shop/forks","keys_url":"https://api.github.com/repos/juice-shop/juice-shop/keys{/key_id}","collaborators_url":"https://api.github.com/repos/juice-shop/juice-shop/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/juice-shop/juice-shop/teams","hooks_url":"https://api.github.com/repos/juice-shop/juice-shop/hooks","issue_events_url":"https://api.github.com/repos/juice-shop/juice-shop/issues/events{/number}","events_url":"https://api.github.com/repos/juice-shop/juice-shop/events","assignees_url":"https://api.github.com/repos/juice-shop/juice-shop/assignees{/user}","branches_url":"https://api.github.com/repos/juice-shop/juice-shop/branches{/branch}","tags_url":"https://api.github.com/repos/juice-shop/juice-shop/tags","blobs_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/juice-shop/juice-shop/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/juice-shop/juice-shop/git/refs{/sha}","trees_url":"https://api.github.com/repos/juice-shop/juice-shop/git/trees{/sha}","statuses_url":"https://api.github.com/repos/juice-shop/juice-shop/statuses/{sha}","languages_url":"https://api.github.com/repos/juice-shop/juice-shop/languages","stargazers_url":"https://api.github.com/repos/juice-shop/juice-shop/stargazers","contributors_url":"https://api.github.com/repos/juice-shop/juice-shop/contributors","subscribers_url":"https://api.github.com/repos/juice-shop/juice-shop/subscribers","subscription_url":"https://api.github.com/repos/juice-shop/juice-shop/subscription","commits_url":"https://api.github.com/repos/juice-shop/juice-shop/commits{/sha}","git_commits_url":"https://api.github.com/repos/juice-shop/juice-shop/git/commits{/sha}","comments_url":"https://api.github.com/repos/juice-shop/juice-shop/comments{/number}","issue_comment_url":"https://api.github.com/repos/juice-shop/juice-shop/issues/comments{/number}","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/{+path}","compare_url":"https://api.github.com/repos/juice-shop/juice-shop/compare/{base}...{head}","merges_url":"https://api.github.com/repos/juice-shop/juice-shop/merges","archive_url":"https://api.github.com/repos/juice-shop/juice-shop/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/juice-shop/juice-shop/downloads","issues_url":"https://api.github.com/repos/juice-shop/juice-shop/issues{/number}","pulls_url":"https://api.github.com/repos/juice-shop/juice-shop/pulls{/number}","milestones_url":"https://api.github.com/repos/juice-shop/juice-shop/milestones{/number}","notifications_url":"https://api.github.com/repos/juice-shop/juice-shop/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/juice-shop/juice-shop/labels{/name}","releases_url":"https://api.github.com/repos/juice-shop/juice-shop/releases{/id}","deployments_url":"https://api.github.com/repos/juice-shop/juice-shop/deployments","created_at":"2014-09-19T14:53:06Z","updated_at":"2024-09-12T03:41:18Z","pushed_at":"2024-09-11T11:20:34Z","git_url":"git://github.com/juice-shop/juice-shop.git","ssh_url":"git@github.com:juice-shop/juice-shop.git","clone_url":"https://github.com/juice-shop/juice-shop.git","svn_url":"https://github.com/juice-shop/juice-shop","homepage":"https://owasp-juice.shop","size":240302,"stargazers_count":10088,"watchers_count":10088,"language":"TypeScript","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":10349,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":8,"license":{"key":"mit","name":"MIT
        License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["24pullrequests","application-security","appsec","ctf","hacking","hacktoberfest","javascript","owasp","owasp-top-10","owasp-top-ten","pentesting","security","vulnapp","vulnerable"],"visibility":"public","forks":10349,"open_issues":8,"watchers":10088,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/juice-shop/juice-shop/pulls/40"},"html":{"href":"https://github.com/juice-shop/juice-shop/pull/40"},"issue":{"href":"https://api.github.com/repos/juice-shop/juice-shop/issues/40"},"comments":{"href":"https://api.github.com/repos/juice-shop/juice-shop/issues/40/comments"},"review_comments":{"href":"https://api.github.com/repos/juice-shop/juice-shop/pulls/40/comments"},"review_comment":{"href":"https://api.github.com/repos/juice-shop/juice-shop/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/juice-shop/juice-shop/pulls/40/commits"},"statuses":{"href":"https://api.github.com/repos/juice-shop/juice-shop/statuses/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1"}},"author_association":"MEMBER","auto_merge":null,"active_lock_reason":null,"merged":true,"mergeable":null,"rebaseable":null,"mergeable_state":"unknown","merged_by":{"login":"bkimminich","id":3531020,"node_id":"MDQ6VXNlcjM1MzEwMjA=","avatar_url":"https://avatars.githubusercontent.com/u/3531020?v=4","gravatar_id":"","url":"https://api.github.com/users/bkimminich","html_url":"https://github.com/bkimminich","followers_url":"https://api.github.com/users/bkimminich/followers","following_url":"https://api.github.com/users/bkimminich/following{/other_user}","gists_url":"https://api.github.com/users/bkimminich/gists{/gist_id}","starred_url":"https://api.github.com/users/bkimminich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkimminich/subscriptions","organizations_url":"https://api.github.com/users/bkimminich/orgs","repos_url":"https://api.github.com/users/bkimminich/repos","events_url":"https://api.github.com/users/bkimminich/events{/privacy}","received_events_url":"https://api.github.com/users/bkimminich/received_events","type":"User","site_admin":false},"comments":1,"review_comments":0,"maintainer_can_modify":false,"commits":21,"additions":891,"deletions":758,"changed_files":20}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:55 GMT
      ETag:
      - W/"fdbbe219412f5e29dfe028ecfe1e211f03c4c268f3e4ea12c38b7d0e7d4388d4"
      Last-Modified:
      - Mon, 09 Sep 2024 07:19:10 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C3A4:5E8E2:2932584:2BC2072:66E29D9A
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4958'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '42'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - pull_requests=read; contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/vnd.github.v3.diff
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: https://github.com/juice-shop/juice-shop/pull/40.diff
  response:
    body:
      string: ''
    headers:
      Cache-Control:
      - no-cache
      Content-Length:
      - '0'
      Content-Security-Policy:
      - 'default-src ''none''; base-uri ''self''; child-src github.com/assets-cdn/worker/
        github.com/webpack/ github.com/assets/ gist.github.com/assets-cdn/worker/;
        connect-src ''self'' uploads.github.com www.githubstatus.com collector.github.com
        raw.githubusercontent.com api.github.com github-cloud.s3.amazonaws.com github-production-repository-file-5c1aeb.s3.amazonaws.com
        github-production-upload-manifest-file-7fdce7.s3.amazonaws.com github-production-user-asset-6210df.s3.amazonaws.com
        *.rel.tunnels.api.visualstudio.com wss://*.rel.tunnels.api.visualstudio.com
        api.githubcopilot.com objects-origin.githubusercontent.com copilot-proxy.githubusercontent.com/v1/engines/github-completion/completions
        proxy.enterprise.githubcopilot.com/v1/engines/github-completion/completions
        *.actions.githubusercontent.com wss://*.actions.githubusercontent.com productionresultssa0.blob.core.windows.net/
        productionresultssa1.blob.core.windows.net/ productionresultssa2.blob.core.windows.net/
        productionresultssa3.blob.core.windows.net/ productionresultssa4.blob.core.windows.net/
        productionresultssa5.blob.core.windows.net/ productionresultssa6.blob.core.windows.net/
        productionresultssa7.blob.core.windows.net/ productionresultssa8.blob.core.windows.net/
        productionresultssa9.blob.core.windows.net/ productionresultssa10.blob.core.windows.net/
        productionresultssa11.blob.core.windows.net/ productionresultssa12.blob.core.windows.net/
        productionresultssa13.blob.core.windows.net/ productionresultssa14.blob.core.windows.net/
        productionresultssa15.blob.core.windows.net/ productionresultssa16.blob.core.windows.net/
        productionresultssa17.blob.core.windows.net/ productionresultssa18.blob.core.windows.net/
        productionresultssa19.blob.core.windows.net/ github-production-repository-image-32fea6.s3.amazonaws.com
        github-production-release-asset-2e65be.s3.amazonaws.com insights.github.com
        wss://alive.github.com; font-src github.githubassets.com; form-action ''self''
        github.com gist.github.com copilot-workspace.githubnext.com objects-origin.githubusercontent.com;
        frame-ancestors ''none''; frame-src viewscreen.githubusercontent.com notebooks.githubusercontent.com;
        img-src ''self'' data: blob: github.githubassets.com media.githubusercontent.com
        camo.githubusercontent.com identicons.github.com avatars.githubusercontent.com
        github-cloud.s3.amazonaws.com objects.githubusercontent.com secured-user-images.githubusercontent.com/
        user-images.githubusercontent.com/ private-user-images.githubusercontent.com
        opengraph.githubassets.com github-production-user-asset-6210df.s3.amazonaws.com
        customer-stories-feed.github.com spotlights-feed.github.com objects-origin.githubusercontent.com
        *.githubusercontent.com; manifest-src ''self''; media-src github.com user-images.githubusercontent.com/
        secured-user-images.githubusercontent.com/ private-user-images.githubusercontent.com
        github-production-user-asset-6210df.s3.amazonaws.com gist.github.com; script-src
        github.githubassets.com; style-src ''unsafe-inline'' github.githubassets.com;
        upgrade-insecure-requests; worker-src github.com/assets-cdn/worker/ github.com/webpack/
        github.com/assets/ gist.github.com/assets-cdn/worker/'
      Content-Type:
      - text/html; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:55 GMT
      Location:
      - https://patch-diff.githubusercontent.com/raw/juice-shop/juice-shop/pull/40.diff
      Referrer-Policy:
      - no-referrer-when-downgrade
      Server:
      - GitHub.com
      Set-Cookie:
      - _gh_sess=AYfER2zufTtArtrnjSIIdyFvcyWOc1ZnQfZUi8itSj%2F6FlJE6stPvY1a5HzFPpVT3l97m1N3iMKIAS%2BBzj6wqfE2HKNz%2FscJLYNCdbWChR4ZlDQ1ZtXnoX8rt2AmRR3tdcN3mAF%2FW6586kPdn7BvA5iBn%2BVjB%2BPXb1PHMVrWl0rHD4XXgXVgjcSCupSvivdFxLJEb5lqx3FcxyVLRV%2BiDT6aN7iLGgOJkIrFhMi8ara2uy3qJl2xNP3qMBowJHGuYNURuTSbr8qE13vPV1Fnvg%3D%3D--jsCKhJPe8QGlPCUG--ol40QeXme3F84Dl%2Fn57DrQ%3D%3D;
        Path=/; HttpOnly; Secure; SameSite=Lax
      - _octo=GH1.1.1391923894.1726127515; Path=/; Domain=github.com; Expires=Fri,
        12 Sep 2025 07:51:55 GMT; Secure; SameSite=Lax
      - logged_in=no; Path=/; Domain=github.com; Expires=Fri, 12 Sep 2025 07:51:55
        GMT; HttpOnly; Secure; SameSite=Lax
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Vary:
      - X-PJAX, X-PJAX-Container, Turbo-Visit, Turbo-Frame, Accept-Encoding, Accept,
        X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Request-Id:
      - C3A6:3DD69D:431C9E4:4A331EB:66E29D9B
      X-XSS-Protection:
      - '0'
    status:
      code: 302
      message: Found
- request:
    body: null
    headers:
      Accept:
      - application/vnd.github.v3.diff
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: https://patch-diff.githubusercontent.com/raw/juice-shop/juice-shop/pull/40.diff
  response:
    body:
      string: "diff --git a/.travis.yml b/.travis.yml\nindex ea7f579699f..8b1832e4988
        100644\n--- a/.travis.yml\n+++ b/.travis.yml\n@@ -16,5 +16,5 @@ deploy:\n
        \    secure: bzxWh4DRhjcJ52FXzZhEOMmseDOPCDw/yC5ikblBH0uwoXIPJD2yKJ884CqzyL8Jf3yFBpZasVvbFjNDPpyGxZv0UMInYhJBHuyFXKe+pqyf1z7vif0FaH2Fze9VfmCV/GPRiNMMgTcvgoCIJs8wXsCoRcafWVaX9m4xH5ZHt/I=\n
        env:\n   global:\n-    - secure: U7+Gv3U8nP+AopuI9HrwqnrBeXBc39HyRZ7/di66rlVujzXeN8O821uQVjnxdIB8GcbmJyGx7Av1hqTBYyhot2mMtmtFnwUs5ijc3tu1IMv5BabQUIzHvMkXjAAAHRwBCbb2QMXHk/oEhdy0evsO8JDIwiHDP0SeFCS7sY9obco=\n-
        \   - secure: XMZ+PkMPArPdJMlWEu1l2BDFC8l2YR57ZkLOYIhOuITXfxPL389ujJvf6FPZoayUKjajCGDQ3TpBD46Gx6Cc1KFyORvKNx8wu83l+xcE5Oo8XuSx3VScpZv1jmdw8TgomqstjiWhcQjbjDZ52MCpBHMNTkNtJKNNAbDaC6/uXFQ=\n\\
        No newline at end of file\n+    - secure: qT8aMCYSV2rLyn0csYUkPGABuj97LV30oK6hAMCLZJA3knU+uGj1+5vtkCF+5tVYHCVOYxaaBfARfB/6y/nG+sxwZyUrYfOvM1xozwaQnI+/V2hPv22msTC/9cW7I9RwyNxydxT7Rredbdhpi/5W6Wx7e7ARTbsdi7QYDMA/FOk=\n+
        \   - secure: oKuecH+rXXiHdUL/ARWFXZ6FM8K/ASxIEpI44tDujSmJtgCMjgnsl3+GtF7e5EJGjfkNDDot09bsBboLqpFJeGXSVPSKtxtrRefnb8Ld0EpdlD3L7a9f6IHF7tmMZi2YxtJE80bLD6Tp/+Yz3Luqe+EydUjbn6OYFubF5+UcjqE=\n\\
        No newline at end of file\ndiff --git a/README.md b/README.md\nindex 55c836bd024..6d69e84a6cc
        100644\n--- a/README.md\n+++ b/README.md\n@@ -8,7 +8,7 @@ An intentionally
        insecure RIA suitable for pentesting and security awareness tra\n [![Dependency
        Status](https://gemnasium.com/bkimminich/juice-shop.svg)](https://gemnasium.com/bkimminich/juice-shop)\n
        [![Dependency Status](https://david-dm.org/bkimminich/juice-shop.svg)](https://david-dm.org/bkimminich/juice-shop)\n
        [![devDependency Status](https://david-dm.org/bkimminich/juice-shop/dev-status.svg)](https://david-dm.org/bkimminich/juice-shop#info=devDependencies)\n-[![Docker](http://img.shields.io/badge/docker-container-blue.svg)](https://registry.hub.docker.com/u/bkimminich/juice-shop/)\n+[![Sauce
        Test Status](https://saucelabs.com/buildstatus/juice-shop)](https://saucelabs.com/u/juice-shop)\n
        \n > Translating \"dump\" or \"useless outfit\" into German yields \"Saftladen\"
        which can be reverse-translated word by word into \"juice shop\". Hence the
        name of this project.\n     \n@@ -55,4 +55,4 @@ You may find it easier to
        find vulnerabilities using a pen test tool. I strongly\n [![Gratipay](http://img.shields.io/gratipay/bkimminich.svg)](https://gratipay.com/bkimminich)\n
        [![Bountysource](https://www.bountysource.com/badge/tracker?tracker_id=6283055)](https://www.bountysource.com/trackers/6283055-juice-shop?utm_source=6283055&utm_medium=shield&utm_campaign=TRACKER_BADGE)\n
        [![HuBoard](http://img.shields.io/badge/Hu-Board-blue.svg)](https://huboard.com/bkimminich/juice-shop)\n-\n+[![Docker](http://img.shields.io/badge/docker-container-blue.svg)](https://registry.hub.docker.com/u/bkimminich/juice-shop/)\n\\
        No newline at end of file\ndiff --git a/app.js b/app.js\nindex 30f6822fcd7..7759333d942
        100644\n--- a/app.js\n+++ b/app.js\n@@ -2,4 +2,4 @@\n 'use strict';\n \n var
        server = require('./server');\n-server.start({ port: 3000 });\n\\ No newline
        at end of file\n+server.start({ port: process.env.PORT || 3000 });\n\\ No
        newline at end of file\ndiff --git a/bower.json b/bower.json\nindex 1128b83bcf5..9974e710f45
        100644\n--- a/bower.json\n+++ b/bower.json\n@@ -1,7 +1,7 @@\n {\n     \"name\":
        \"juice-shop\",\n     \"description\": \"An intentionally insecure RIA suitable
        for pentesting and security awareness trainings written in Node, Express and
        Angular.\",\n-    \"version\": \"0.3.2\",\n+    \"version\": \"1.0.0\",\n
        \    \"private\": true,\n     \"dependencies\": {\n         \"angular\": \"~1.2\",\n@@
        -15,7 +15,7 @@\n         \"bootstrap\": \"~3.2\",\n         \"jquery\": \"~2.1\",\n
        \        \"underscore\": \"~1.7\",\n-        \"string\": \"~2.1\",\n+        \"string\":
        \"~2.2\",\n         \"moment\": \"~2.8\",\n         \"github-fork-ribbon-css\":
        \"~0.1\"\n     }\ndiff --git a/karma.conf-ci.js b/karma.conf-ci.js\nindex
        ed17debda18..138c665e02d 100644\n--- a/karma.conf-ci.js\n+++ b/karma.conf-ci.js\n@@
        -32,6 +32,12 @@ module.exports = function (config) {\n             browserName:
        'internet explorer',\n             platform: 'Windows 7',\n             version:
        '9'\n+        },\n+        sl_safari: {\n+            base: 'SauceLabs',\n+
        \           browserName: 'safari',\n+            platform: 'OS X 10.9',\n+
        \           version: '7'\n         }\n     };\n \n@@ -58,6 +64,11 @@ module.exports
        = function (config) {\n             recordScreenshots: false\n         },\n
        \n+        browserDisconnectTimeout : 10000,\n+        browserDisconnectTolerance
        : 1,\n+        browserNoActivityTimeout : 4*60*1000,\n+        captureTimeout
        : 4*60*1000,\n+\n         colors: true,\n         singleRun: true,\n \ndiff
        --git a/lib/datacache.js b/lib/datacache.js\nnew file mode 100644\nindex 00000000000..486bccf592f\n---
        /dev/null\n+++ b/lib/datacache.js\n@@ -0,0 +1,9 @@\n+/*jslint node: true */\n+'use
        strict';\n+\n+exports.challenges = {};\n+exports.users = {};\n+exports.products
        = {};\n+exports.feedback = {};\n+exports.baskets = {};\n+exports.basketItems
        = {};\n\\ No newline at end of file\ndiff --git a/lib/datacreator.js b/lib/datacreator.js\nnew
        file mode 100644\nindex 00000000000..3996b9e8d47\n--- /dev/null\n+++ b/lib/datacreator.js\n@@
        -0,0 +1,304 @@\n+/*jslint node: true */\n+'use strict';\n+\n+var models =
        require('../models'),\n+    datacache = require('./datacache'),\n+    challenges
        = datacache.challenges,\n+    users = datacache.users,\n+    products = datacache.products;\n+\n+module.exports
        = function() {\n+\n+    createChallenges();\n+    createUsers();\n+    createProducts();\n+
        \   createBaskets();\n+    createFeedback();\n+\n+    function createChallenges()
        {\n+        models.Challenge.create({\n+            description: 'Find the
        carefully hidden \\'Score Board\\' page.',\n+            solved: false\n+
        \       }).success(function (challenge) {\n+            challenges.scoreBoardChallenge
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        'Provoke an error that is not very gracefully handled.',\n+            solved:
        false\n+        }).success(function (challenge) {\n+            challenges.errorHandlingChallenge
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        'Log in with the administrator\\'s user account.',\n+            solved: false\n+
        \       }).success(function (challenge) {\n+            challenges.loginAdminChallenge
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        'Log in with Jim\\'s user account.',\n+            solved: false\n+        }).success(function
        (challenge) {\n+            challenges.loginJimChallenge = challenge;\n+        });\n+
        \       models.Challenge.create({\n+            description: 'Log in with
        Bender\\'s user account.',\n+            solved: false\n+        }).success(function
        (challenge) {\n+            challenges.loginBenderChallenge = challenge;\n+
        \       });\n+        models.Challenge.create({\n+            description:
        'XSS Tier 1: Perform a <i>reflected</i> XSS attack with &lt;script&gt;alert(\"XSS1\")&lt;/script&gt;.',\n+
        \           solved: false\n+        }).success(function (challenge) {\n+            challenges.localXssChallenge
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        'XSS Tier 2: Perform a <i>persisted</i> XSS attack with &lt;script&gt;alert(\"XSS2\")&lt;/script&gt;
        bypassing a <i>client-side</i> security mechanism.',\n+            solved:
        false\n+        }).success(function (challenge) {\n+            challenges.persistedXssChallengeUser
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        'XSS Tier 3: Perform a <i>persisted</i> XSS attack with &lt;script&gt;alert(\"XSS3\")&lt;/script&gt;
        bypassing a <i>server-side</i> security mechanism.',\n+            solved:
        false\n+        }).success(function (challenge) {\n+            challenges.persistedXssChallengeFeedback
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        'XSS Tier 4: Perform a <i>persisted</i> XSS attack with &lt;script&gt;alert(\"XSS4\")&lt;/script&gt;
        without using the frontend application at all.',\n+            solved: false\n+
        \       }).success(function (challenge) {\n+            challenges.restfulXssChallenge
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        'Retrieve a list of all user credentials via SQL Injection',\n+            solved:
        false\n+        }).success(function (challenge) {\n+            challenges.unionSqlInjectionChallenge
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        'Log in with the administrator\\'s user credentials without previously changing
        them or applying SQL Injection.',\n+            solved: false\n+        }).success(function
        (challenge) {\n+            challenges.weakPasswordChallenge = challenge;\n+
        \       });\n+        models.Challenge.create({\n+            description:
        'Get rid of all 5-star customer feedback.',\n+            solved: false\n+
        \       }).success(function (challenge) {\n+            challenges.feedbackChallenge
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        'Post some feedback in another users name.',\n+            solved: false\n+
        \       }).success(function (challenge) {\n+            challenges.forgedFeedbackChallenge
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        'Wherever you go, there you are.',\n+            solved: false\n+        }).success(function
        (challenge) {\n+            challenges.redirectChallenge = challenge;\n+        });\n+
        \       models.Challenge.create({\n+            description: 'Access someone
        else\\'s basket.',\n+            solved: false\n+        }).success(function
        (challenge) {\n+            challenges.basketChallenge = challenge;\n+        });\n+
        \       models.Challenge.create({\n+            description: 'Place an order
        that makes you rich.',\n+            solved: false\n+        }).success(function
        (challenge) {\n+            challenges.negativeOrderChallenge = challenge;\n+
        \       });\n+        models.Challenge.create({\n+            description:
        'Access a confidential document.',\n+            solved: false\n+        }).success(function
        (challenge) {\n+            challenges.directoryListingChallenge = challenge;\n+
        \       });\n+        models.Challenge.create({\n+            description:
        'Access the administration section of the store.',\n+            solved: false\n+
        \       }).success(function (challenge) {\n+            challenges.adminSectionChallenge
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        'Change Bender\\'s password into <i>slurmCl4ssic</i>.',\n+            solved:
        false\n+        }).success(function (challenge) {\n+            challenges.csrfChallenge
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        'Change the link in the description of the <a href=\"/#/search?q=O-Saft\">O-Saft
        product</a> to <i>http://kimminich.de</i>.',\n+            solved: false\n+
        \       }).success(function (challenge) {\n+            challenges.changeProductChallenge
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        '<a href=\"/#/contact\">Inform the shop</a> about a vulnerable library it
        is using. (Mention the exact library name and version in your complaint.)',\n+
        \           solved: false\n+        }).success(function (challenge) {\n+            challenges.knownVulnerableComponentChallenge
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        'Find the hidden <a href=\"http://en.wikipedia.org/wiki/Easter_egg_(media)\"
        target=\"_blank\">easter egg</a>.',\n+            solved: false\n+        }).success(function
        (challenge) {\n+            challenges.easterEggLevelOneChallenge = challenge;\n+
        \       });\n+        models.Challenge.create({\n+            description:
        'Apply some advanced cryptanalysis to find <i>the real</i> easter egg.',\n+
        \           solved: false\n+        }).success(function (challenge) {\n+            challenges.easterEggLevelTwoChallenge
        = challenge;\n+        });\n+    }\n+    function createUsers() {\n+        models.User.create({\n+
        \           email: 'admin@juice-sh.op',\n+            password: 'admin123'\n+
        \       });\n+        models.User.create({\n+            email: 'jim@juice-sh.op',\n+
        \           password: 'ncc-1701'\n+        });\n+        models.User.create({\n+
        \           email: 'bender@juice-sh.op',\n+            password: 'booze'\n+
        \       }).success(function (user) {\n+            users.bender = user;\n+
        \       });\n+    }\n+\n+    function createProducts() {\n+        models.Product.create({\n+
        \           name: 'Apple Juice (1000ml)',\n+            description: 'The
        all-time classic.',\n+            price: 1.99,\n+            image: 'apple_juice.jpg'\n+
        \       });\n+        models.Product.create({\n+            name: 'Orange
        Juice (1000ml)',\n+            description: 'Made from oranges hand-picked
        by Uncle Dittmeyer.',\n+            price: 2.99,\n+            image: 'orange_juice.jpg'\n+
        \       });\n+        models.Product.create({\n+            name: 'Eggfruit
        Juice (500ml)',\n+            description: 'Now with even more exotic flavour.',\n+
        \           price: 8.99,\n+            image: 'eggfruit_juice.jpg'\n+        });\n+
        \       models.Product.create({\n+            name: 'Raspberry Juice (1000ml)',\n+
        \           description: 'Made from blended Raspberry Pi, water and sugar.',\n+
        \           price: 4.99,\n+            image: 'raspberry_juice.jpg'\n+        });\n+
        \       models.Product.create({\n+            name: 'Lemon Juice (500ml)',\n+
        \           description: 'Sour but full of vitamins.',\n+            price:
        2.99,\n+            image: 'lemon_juice.jpg'\n+        });\n+        models.Product.create({\n+
        \           name: 'Banana Juice (1000ml)',\n+            description: 'Monkeys
        love it the most.',\n+            price: 1.99,\n+            image: 'banana_juice.jpg'\n+
        \       });\n+        models.Product.create({\n+            name: 'Lemon Juice
        (500ml)',\n+            description: 'Sour but full of vitamins.',\n+            price:
        2.99,\n+            image: 'lemon_juice.jpg'\n+        });\n+        models.Product.create({\n+
        \           name: 'Juice Shop T-Shirt (3XL)',\n+            description: 'Real
        fans wear it 24/7!',\n+            price: 24.99,\n+            image: 'fan_shirt.jpg'\n+
        \       });\n+        models.Product.create({\n+            name: 'OWASP SSL
        Advanced Forensic Tool (O-Saft)',\n+            description: 'O-Saft is an
        easy to use tool to show information about SSL certificate and tests the SSL
        connection according given list of ciphers and various SSL configurations.
        <a href=\"https://www.owasp.org/index.php/O-Saft\" target=\"_blank\">More...</a>',\n+
        \           price: 0.01,\n+            image: 'owasp_osaft.jpg'\n+        }).success(function
        (product) {\n+            products.osaft = product;\n+        });\n+    }\n+\n+
        \   function createBaskets() {\n+        models.Basket.create({\n+            UserId:
        1\n+        });\n+        models.Basket.create({\n+            UserId: 2\n+
        \       });\n+        models.Basket.create({\n+            UserId: 3\n+        });\n+
        \       models.BasketItem.create({\n+            BasketId: 1,\n+            ProductId:
        1,\n+            quantity: 2\n+        });\n+        models.BasketItem.create({\n+
        \           BasketId: 1,\n+            ProductId: 2,\n+            quantity:
        3\n+        });\n+        models.BasketItem.create({\n+            BasketId:
        1,\n+            ProductId: 3,\n+            quantity: 1\n+        });\n+
        \       models.BasketItem.create({\n+            BasketId: 2,\n+            ProductId:
        4,\n+            quantity: 2\n+        });\n+        models.BasketItem.create({\n+
        \           BasketId: 3,\n+            ProductId: 5,\n+            quantity:
        1\n+        });\n+    }\n+\n+    function createFeedback() {\n+        models.Feedback.create({\n+
        \           UserId: 1,\n+            comment: 'I love this shop! Best juice
        in town! Highly recommended!',\n+            rating: 5\n+        });\n+        models.Feedback.create({\n+
        \           UserId: 2,\n+            comment: 'Great shop! The O-Saft is highly
        recommended!',\n+            rating: 4\n+        });\n+        models.Feedback.create({\n+
        \           comment: 'Why isn\\'t there a T-Shirt for skinny people available?!',\n+
        \           rating: 2\n+        });\n+        models.Feedback.create({\n+
        \           comment: 'This is <b>the</b> store for juices of all kinds!',\n+
        \           rating: 4\n+        });\n+        models.Feedback.create({\n+
        \           comment: 'Never gonna buy my juice anywhere else from now on!
        Thanks for the great service!',\n+            rating: 4\n+        });\n+        models.Feedback.create({\n+
        \           comment: 'Keep up the good work!',\n+            rating: 3\n+
        \       });\n+        models.Feedback.create({\n+            UserId: 3,\n+
        \           comment: 'No real drinks available here!',\n+            rating:
        1\n+        });\n+    }\n+};\n\\ No newline at end of file\ndiff --git a/lib/utils.js
        b/lib/utils.js\nindex aeeeacf5e3a..b18be69d76c 100644\n--- a/lib/utils.js\n+++
        b/lib/utils.js\n@@ -50,4 +50,15 @@ exports.version = function(module) {\n
        \    } else {\n         return packageJson.version;\n     }\n+};\n+\n+exports.solve
        = function(challenge) {\n+    challenge.solved = true;\n+    challenge.save().success(function()
        {\n+        console.log('Solved challenge \"' + challenge.description + '\"');\n+
        \   });\n+};\n+\n+exports.notSolved = function(challenge) {\n+    return challenge
        && !challenge.solved;\n };\n\\ No newline at end of file\ndiff --git a/middleware.js
        b/middleware.js\nnew file mode 100644\nindex 00000000000..56f76077f3f\n---
        /dev/null\n+++ b/middleware.js\n@@ -0,0 +1,324 @@\n+/*jslint node: true */\n+'use
        strict';\n+\n+var fs = require('fs'),\n+    PDFDocument = require('pdfkit'),\n+
        \   utils = require('./lib/utils'),\n+    insecurity = require('./lib/insecurity'),\n+
        \   models = require('./models'),\n+    cache = require('./lib/datacache'),\n+
        \   challenges = cache.challenges;\n+\n+exports.verifyForgedFeedbackChallenge
        = function() {\n+    return function(req, res, next) {\n+        if (utils.notSolved(challenges.forgedFeedbackChallenge))
        {\n+            var user = insecurity.authenticatedUsers.from(req);\n+            var
        userId = user ? user.data.id : undefined;\n+            if (req.body.UserId
        && req.body.UserId != userId) {\n+                utils.solve(challenges.forgedFeedbackChallenge);\n+
        \           }\n+        }\n+        next();\n+    };\n+};\n+\n+exports.verifyAccessControlChallenges
        = function() {\n+    return function (req, res, next) {\n+        if (utils.notSolved(challenges.scoreBoardChallenge)
        && utils.endsWith(req.url, '/scoreboard.png')) {\n+            utils.solve(challenges.scoreBoardChallenge);\n+
        \       } else if (utils.notSolved(challenges.adminSectionChallenge) && utils.endsWith(req.url,
        '/administration.png')) {\n+            utils.solve(challenges.adminSectionChallenge);\n+
        \       }\n+        next();\n+    };\n+};\n+\n+exports.retrieveLoggedInUsersId
        = function() {\n+    return function (req, res) {\n+        var user = insecurity.authenticatedUsers.from(req);\n+
        \       res.json({id: (user ? user.data.id : undefined), email: (user ? user.data.email
        : undefined)});\n+    };\n+};\n+\n+exports.retrieveAppVersion = function()
        {\n+    return function (req, res) {\n+        res.json({version: utils.version()});\n+
        \   };\n+};\n+\n+exports.serveAngularClient = function() {\n+    return function
        (req, res, next) {\n+        if (!utils.startsWith(req.url, '/api') && !utils.startsWith(req.url,
        '/rest')) {\n+            res.sendFile(__dirname + '/app/index.html');\n+
        \       } else {\n+            next(new Error('Unexpected path: ' + req.url));\n+
        \       }\n+    };\n+};\n+\n+exports.verifyErrorHandlingChallenge = function()
        {\n+    return function (err, req, res, next) {\n+        if (utils.notSolved(challenges.errorHandlingChallenge)
        && err && res.statusCode > 401) {\n+            utils.solve(challenges.errorHandlingChallenge);\n+
        \       }\n+        next(err);\n+    };\n+};\n+\n+exports.serveEasterEgg =
        function() {\n+    return function (req, res) {\n+        if (utils.notSolved(challenges.easterEggLevelTwoChallenge))
        {\n+            utils.solve(challenges.easterEggLevelTwoChallenge);\n+        }\n+
        \       res.sendFile(__dirname + '/app/private/threejs-demo.html');\n+    };\n+};\n+\n+exports.performRedirect
        = function() {\n+    return function(req, res) {\n+        var to = req.query.to;\n+
        \       var githubUrl = 'https://github.com/bkimminich/juice-shop';\n+        if
        (to.indexOf(githubUrl) > -1) {\n+            if (utils.notSolved(challenges.redirectChallenge)
        && to !== githubUrl) { // TODO Instead match against something like <anotherUrl>[?&]=githubUrl\n+
        \               utils.solve(challenges.redirectChallenge);\n+            }\n+
        \           res.redirect(to);\n+        } else {\n+            res.redirect(githubUrl);\n+
        \       }\n+    };\n+};\n+\n+exports.retrieveBasket = function() {\n+    return
        function(req, res, next){\n+        var id = req.params.id;\n+        models.Basket.find({where:
        {id: id}, include: [ models.Product ]})\n+            .success(function(basket)
        {\n+                if (utils.notSolved(challenges.basketChallenge)) {\n+
        \                   var user = insecurity.authenticatedUsers.from(req);\n+
        \                   if (user && user.bid != id) {\n+                        utils.solve(challenges.basketChallenge);\n+
        \                   }\n+                }\n+                res.json(utils.queryResultToJson(basket));\n+
        \           }).error(function (error) {\n+                next(error);\n+
        \           });\n+    };\n+};\n+\n+exports.retrieveUserList = function() {\n+
        \   return function(req, res, next){\n+        models.User.findAll().success(function(users)
        {\n+            var usersWithLoginStatus = utils.queryResultToJson(users);\n+
        \           usersWithLoginStatus.data.forEach(function(user) {\n+                user.token
        = insecurity.authenticatedUsers.tokenOf(user);\n+            });\n+            res.json(usersWithLoginStatus);\n+
        \       }).error(function (error) {\n+            next(error);\n+        });\n+
        \   };\n+};\n+\n+exports.createOrderPdf = function() {\n+    return function(req,
        res, next){\n+        var id = req.params.id;\n+        models.Basket.find({where:
        {id: id}, include: [ models.Product ]})\n+            .success(function(basket)
        {\n+                if (basket) {\n+                    var customer = insecurity.authenticatedUsers.from(req);\n+
        \                   var orderNo = insecurity.hash(new Date()+'_'+id);\n+                    var
        pdfFile = 'order_' + orderNo + '.pdf';\n+                    var doc = new
        PDFDocument();\n+                    var fileWriter = doc.pipe(fs.createWriteStream(__dirname
        + '/app/public/ftp/' + pdfFile));\n+\n+                    doc.text('Juice-Shop
        - Order Confirmation');\n+                    doc.moveDown();\n+                    doc.moveDown();\n+
        \                   doc.moveDown();\n+                    doc.text('Customer:
        ' + (customer ? customer.data ? customer.data.email : undefined : undefined));\n+
        \                   doc.moveDown();\n+                    doc.text('Order
        #: ' + orderNo);\n+                    doc.moveDown();\n+                    doc.moveDown();\n+
        \                   var totalPrice = 0;\n+                    basket.products.forEach(function(product)
        {\n+                        var itemTotal = product.price*product.basketItem.quantity;\n+
        \                       doc.text(product.basketItem.quantity + 'x ' + product.name
        + ' ea. ' + product.price + ' = ' + itemTotal);\n+                        doc.moveDown();\n+
        \                       totalPrice += itemTotal;\n+                    });\n+
        \                   doc.moveDown();\n+                    doc.text('Total
        Price: ' + totalPrice);\n+                    doc.moveDown();\n+                    doc.moveDown();\n+
        \                   doc.text('Thank you for your order!');\n+                    doc.end();\n+\n+
        \                   if (utils.notSolved(challenges.negativeOrderChallenge)
        && totalPrice < 0) {\n+                        utils.solve(challenges.negativeOrderChallenge);\n+
        \                   }\n+\n+                    fileWriter.on('finish', function()
        {\n+                        models.BasketItem.destroy({BasketId: id});\n+
        \                       res.send('/public/ftp/' + pdfFile);\n+                    });\n+
        \               } else {\n+                    next(new Error('Basket with
        id=' + id + ' does not exist.'));\n+                }\n+            }).error(function
        (error) {\n+                next(error);\n+            });\n+    };\n+};\n+\n+exports.searchProducts
        = function() {\n+    return function(req, res, next){\n+        var criteria
        = req.query.q === 'undefined' ? '' : req.query.q || '';\n+        if (utils.notSolved(challenges.localXssChallenge)
        && utils.contains(criteria, '<script>alert(\"XSS1\")</script>')) {\n+            utils.solve(challenges.localXssChallenge);\n+
        \       }\n+        models.sequelize.query('SELECT * FROM Products WHERE (name
        LIKE \\'%' + criteria + '%\\') OR (description LIKE \\'%' + criteria + '%\\')')\n+
        \           .success(function(products) {\n+                if (utils.notSolved(challenges.unionSqlInjectionChallenge))
        {\n+                    var dataString = JSON.stringify(products);\n+                    var
        solved = true;\n+                    models.User.findAll().success(function(data)
        {\n+                        var users = utils.queryResultToJson(data);\n+
        \                       if (users.data && users.data.length) {\n+                            for
        (var i=0; i<users.data.length; i++) {\n+                                utils.solved
        = utils.solved && utils.contains(dataString, users.data[i].email) && utils.contains(dataString,
        users.data[i].password);\n+                                if (!solved) {\n+
        \                                   break;\n+                                }\n+
        \                           }\n+                            if (solved) {\n+
        \                               utils.solve(challenges.unionSqlInjectionChallenge);\n+
        \                           }\n+                        }\n+                    });\n+
        \               }\n+                res.json(utils.queryResultToJson(products));\n+
        \           }).error(function (error) {\n+                next(error);\n+
        \           });\n+    };\n+};\n+\n+exports.changePassword = function() {\n+
        \   return function(req, res, next){\n+        var password = req.query.new;\n+
        \       var repeatPassword = req.query.repeat;\n+        if (!password ||
        password === 'undefined') {\n+            res.status(401).send('Password cannot
        be empty.');\n+        } else if (password !== repeatPassword) {\n+            res.status(401).send('New
        and repeated password do not match.');\n+        } else {\n+            var
        loggedInUser = insecurity.authenticatedUsers.get(req.cookies.token);\n+            if
        (loggedInUser) {\n+                models.User.find(loggedInUser.data.id).success(function(user)
        {\n+                    user.updateAttributes({password: password}).success(function(user)
        {\n+                        res.send(user);\n+                    }).error(function(error)
        {\n+                        next(error);\n+                    });\n+                }).error(function(error)
        {\n+                    next(error);\n+                });\n+            }
        else {\n+                next(new Error('Blocked illegal activity by ' + req.connection.remoteAddress));\n+
        \           }\n+        }\n+    };\n+};\n+\n+exports.loginUser = function()
        {\n+    return function(req, res, next){\n+        if (utils.notSolved(challenges.weakPasswordChallenge)
        && req.body.email === 'admin@juice-sh.op' && req.body.password === 'admin123')
        {\n+            utils.solve(challenges.weakPasswordChallenge);\n+        }\n+
        \       models.sequelize.query('SELECT * FROM Users WHERE email = \\'' + (req.body.email
        || '') + '\\' AND password = \\'' + insecurity.hash(req.body.password || '')
        + '\\'', models.User, {plain: true})\n+            .success(function(authenticatedUser)
        {\n+                var user = utils.queryResultToJson(authenticatedUser);\n+
        \               if (user.data && user.data.id) {\n+                    if
        (utils.notSolved(challenges.loginAdminChallenge) && user.data.id === 1) {\n+
        \                       utils.solve(challenges.loginAdminChallenge);\n+                    }
        else if (utils.notSolved(challenges.loginJimChallenge) && user.data.id ===
        2) {\n+                        utils.solve(challenges.loginJimChallenge);\n+
        \                   } else if  (utils.notSolved(challenges.loginBenderChallenge)
        && user.data.id === 3) {\n+                        utils.solve(challenges.loginBenderChallenge);\n+
        \                   }\n+                    models.Basket.findOrCreate({UserId:
        user.data.id}).success(function(basket) {\n+                        var token
        = insecurity.authorize(user);\n+                        user.bid = basket.id;
        // keep track of original basket for challenge solution check\n+                        insecurity.authenticatedUsers.put(token,
        user);\n+                        res.json({ token: token, bid: basket.id });\n+
        \                   }).error(function (error) {\n+                        next(error);\n+
        \                   });\n+                } else {\n+                    res.status(401).send('Invalid
        email or password.');\n+                }\n+            }).error(function
        (error) {\n+                next(error);\n+            });\n+    };\n+};\n+\n+exports.serveFiles
        = function() {\n+    return function(req, res, next) {\n+        var file
        = req.params.file;\n+        if (file && (utils.endsWith(file, '.md') || (utils.endsWith(file,
        '.pdf')))) {\n+            file = insecurity.cutOffPoisonNullByte(file);\n+
        \           if (utils.notSolved(challenges.easterEggLevelOneChallenge) &&
        file.toLowerCase() === 'eastere.gg') {\n+                utils.solve(challenges.easterEggLevelOneChallenge);\n+
        \           } else if (utils.notSolved(challenges.directoryListingChallenge)
        && file.toLowerCase() === 'acquisitions.md') {\n+                utils.solve(challenges.directoryListingChallenge);\n+
        \           }\n+            res.sendFile(__dirname + '/app/public/ftp/' +
        file);\n+        } else {\n+            res.status(403);\n+            next(new
        Error('Only .md and .pdf files are allowed!'));\n+        }\n+    };\n+};\n+\n+exports.verifyDatabaseRelatedChallenges
        = function() {\n+    return function (req, res, next) {\n+        if (utils.notSolved(challenges.changeProductChallenge)
        && cache.products.osaft) {\n+            cache.products.osaft.reload().success(function
        () {\n+                if (!utils.contains(cache.products.osaft.description,
        '<a href=\"https://www.owasp.org/index.php/O-Saft\" target=\"_blank\">'))
        {\n+                    if (utils.contains(cache.products.osaft.description,
        '<a href=\"http://kimminich.de\" target=\"_blank\">')) {\n+                        utils.solve(challenges.changeProductChallenge);\n+
        \                   }\n+                }\n+            });\n+        }\n+
        \       if (utils.notSolved(challenges.csrfChallenge) && cache.users.bender)
        {\n+            cache.users.bender.reload().success(function() {\n+                if
        (cache.users.bender.password === insecurity.hash('slurmCl4ssic')) {\n+                    utils.solve(challenges.csrfChallenge);\n+
        \               }\n+            });\n+        }\n+        if (utils.notSolved(challenges.feedbackChallenge))
        {\n+            models.Feedback.findAndCountAll({where: {rating: 5}}).success(function
        (feedbacks) {\n+                if (feedbacks.count === 0) {\n+                    utils.solve(challenges.feedbackChallenge);\n+
        \               }\n+            });\n+        }\n+        if (utils.notSolved(challenges.knownVulnerableComponentChallenge))
        {\n+            models.Feedback.findAndCountAll({where: models.Sequelize.or(\n+
        \                   models.Sequelize.and(['comment LIKE \\'%sanitize-html%\\''],
        ['comment LIKE \\'%1.4.2%\\'']),\n+                    models.Sequelize.and(['comment
        LIKE \\'%htmlparser2%\\''], ['comment LIKE \\'%3.3.0%\\'']) ) }\n+            ).success(function
        (data) {\n+                    if (data.count > 0) {\n+                        utils.solve(challenges.knownVulnerableComponentChallenge);\n+
        \                   }\n+                });\n+        }\n+        next();\n+
        \   };\n+};\ndiff --git a/models/basket.js b/models/basket.js\nnew file mode
        100644\nindex 00000000000..ea1a12aeb42\n--- /dev/null\n+++ b/models/basket.js\n@@
        -0,0 +1,15 @@\n+/*jslint node: true */\n+'use strict';\n+\n+module.exports
        = function (sequelize) {\n+    var Basket = sequelize.define('Basket', {\n+
        \       },\n+        {\n+            classMethods: {\n+                associate:
        function (models) {\n+                    Basket.belongsTo(models.User);\n+
        \                   Basket.hasMany(models.Product, {through: models.BasketItem});\n+
        \               }}}\n+    );\n+    return Basket;\n+};\n\\ No newline at end
        of file\ndiff --git a/models/basketitem.js b/models/basketitem.js\nnew file
        mode 100644\nindex 00000000000..8704c7de8e3\n--- /dev/null\n+++ b/models/basketitem.js\n@@
        -0,0 +1,15 @@\n+/*jslint node: true */\n+'use strict';\n+\n+module.exports
        = function (sequelize, DataTypes) {\n+    var BasketItem = sequelize.define('BasketItem',
        {\n+            id: {\n+                type: DataTypes.INTEGER,\n+                primaryKey:
        true,\n+                autoIncrement: true\n+            },\n+            quantity:
        DataTypes.INTEGER\n+        }\n+    );\n+    return BasketItem;\n+};\n\\ No
        newline at end of file\ndiff --git a/models/challenge.js b/models/challenge.js\nnew
        file mode 100644\nindex 00000000000..c080214a105\n--- /dev/null\n+++ b/models/challenge.js\n@@
        -0,0 +1,10 @@\n+/*jslint node: true */\n+'use strict';\n+\n+module.exports
        = function (sequelize, DataTypes) {\n+    var Challenge = sequelize.define('Challenge',
        {\n+        description: DataTypes.STRING,\n+        solved: DataTypes.BOOLEAN\n+
        \   });\n+    return Challenge;\n+};\n\\ No newline at end of file\ndiff --git
        a/models/feedback.js b/models/feedback.js\nnew file mode 100644\nindex 00000000000..fc3eb238c64\n---
        /dev/null\n+++ b/models/feedback.js\n@@ -0,0 +1,37 @@\n+/*jslint node: true
        */\n+'use strict';\n+\n+var insecurity = require('../lib/insecurity'),\n+
        \   utils = require('../lib/utils'),\n+    challenges = require('../lib/datacache').challenges;\n+\n+module.exports
        = function (sequelize, DataTypes) {\n+    var Feedback = sequelize.define('Feedback',
        {\n+            comment: DataTypes.STRING,\n+            rating: DataTypes.INTEGER\n+
        \       },\n+        {\n+            classMethods: {\n+                associate:
        function (models) {\n+                    Feedback.belongsTo(models.User);\n+
        \               }},\n+\n+            hooks: {\n+                beforeCreate:
        function (feedback, fn) {\n+                    htmlSanitizationHook(feedback);\n+
        \                   fn(null, feedback);\n+                },\n+                beforeUpdate:
        function (feedback, fn) {\n+                    htmlSanitizationHook(feedback);\n+
        \                   fn(null, feedback);\n+                }\n+            }});\n+
        \   return Feedback;\n+};\n+\n+function htmlSanitizationHook(feedback) {\n+
        \   feedback.comment = insecurity.sanitizeHtml(feedback.comment);\n+    if
        (utils.notSolved(challenges.persistedXssChallengeFeedback) && utils.contains(feedback.comment,
        '<script>alert(\"XSS3\")</script>')) {\n+        utils.solve(challenges.persistedXssChallengeFeedback);\n+
        \   }\n+}\n\\ No newline at end of file\ndiff --git a/models/index.js b/models/index.js\nnew
        file mode 100644\nindex 00000000000..2a4032cedb2\n--- /dev/null\n+++ b/models/index.js\n@@
        -0,0 +1,31 @@\n+/*jslint node: true */\n+'use strict';\n+\n+var fs = require('fs'),\n+
        \   path = require('path'),\n+    Sequelize = require('sequelize'),\n+    sequelize
        = new Sequelize('database', 'username', 'password', {\n+        dialect: 'sqlite',\n+
        \       storage: 'data/juiceshop.sqlite'\n+    }),\n+    db = {};\n+\n+fs.readdirSync(__dirname)\n+
        \   .filter(function (file) {\n+        return (file.indexOf('.') !== 0) &&
        (file !== 'index.js');\n+    })\n+    .forEach(function (file) {\n+        var
        model = sequelize['import'](path.join(__dirname, file));\n+        db[model.name]
        = model;\n+    });\n+\n+Object.keys(db).forEach(function (modelName) {\n+
        \   if ('associate' in db[modelName]) {\n+        db[modelName].associate(db);\n+
        \   }\n+});\n+\n+db.sequelize = sequelize;\n+db.Sequelize = Sequelize;\n+\n+module.exports
        = db;\n\\ No newline at end of file\ndiff --git a/models/product.js b/models/product.js\nnew
        file mode 100644\nindex 00000000000..308cdcda0ac\n--- /dev/null\n+++ b/models/product.js\n@@
        -0,0 +1,37 @@\n+/*jslint node: true */\n+'use strict';\n+\n+var utils = require('../lib/utils'),\n+
        \   challenges = require('../lib/datacache').challenges;\n+\n+\n+module.exports
        = function (sequelize, DataTypes) {\n+    var Product = sequelize.define('Product',
        {\n+            name: DataTypes.STRING,\n+            description: DataTypes.STRING,\n+
        \           price: DataTypes.DECIMAL,\n+            image: DataTypes.STRING\n+
        \       }, {\n+            classMethods: {\n+                associate: function
        (models) {\n+                    Product.hasMany(models.Basket, {through:
        models.BasketItem});\n+                }},\n+\n+            hooks: {\n+                beforeCreate:
        function (product, fn) {\n+                    xssChallengeProductHook(product);\n+
        \                   fn(null, product);\n+                },\n+                beforeUpdate:
        function (product, fn) {\n+                    xssChallengeProductHook(product);\n+
        \                   fn(null, product);\n+                }\n+            }});\n+
        \   return Product;\n+};\n+\n+function xssChallengeProductHook(product) {\n+
        \    if (utils.notSolved(challenges.restfulXssChallenge) && utils.contains(product.description,
        '<script>alert(\"XSS4\")</script>')) {\n+         utils.solve(challenges.restfulXssChallenge);\n+
        \    }\n+}\n\\ No newline at end of file\ndiff --git a/models/user.js b/models/user.js\nnew
        file mode 100644\nindex 00000000000..458e01bfab6\n--- /dev/null\n+++ b/models/user.js\n@@
        -0,0 +1,37 @@\n+/*jslint node: true */\n+'use strict';\n+\n+var insecurity
        = require('../lib/insecurity'),\n+    utils = require('../lib/utils'),\n+
        \   challenges = require('../lib/datacache').challenges;\n+\n+module.exports
        = function (sequelize, DataTypes) {\n+    var User = sequelize.define('User',
        {\n+            email: DataTypes.STRING,\n+            password: DataTypes.STRING\n+
        \       },\n+        {\n+            hooks: {\n+                beforeCreate:
        function (user, fn) {\n+                    hashPasswordHook(user);\n+                    xssChallengeUserHook(user);\n+
        \                   fn(null, user);\n+                },\n+                beforeUpdate:
        function (user, fn) { // Pitfall: Will hash the hashed password again if password
        was not updated!\n+                    hashPasswordHook(user);\n+                    fn(null,
        user);\n+                }\n+            }}\n+    );\n+    return User;\n+};\n+\n+function
        hashPasswordHook(user) {\n+    user.password = insecurity.hash(user.password);\n+}\n+\n+function
        xssChallengeUserHook(user) {\n+    if (utils.notSolved(challenges.persistedXssChallengeUser)
        && utils.contains(user.email, '<script>alert(\"XSS2\")</script>')) {\n+        utils.solve(challenges.persistedXssChallengeUser);\n+
        \   }\n+}\n\\ No newline at end of file\ndiff --git a/package.json b/package.json\nindex
        357323d3ff9..25e7915e539 100644\n--- a/package.json\n+++ b/package.json\n@@
        -1,6 +1,6 @@\n {\n     \"name\": \"juice-shop\",\n-    \"version\": \"0.3.2\",\n+
        \   \"version\": \"1.0.0\",\n     \"description\": \"An intentionally insecure
        RIA suitable for pentesting and security awareness trainings written in Node,
        Express and Angular.\",\n     \"author\": \"Bjoern Kimminich\",\n     \"contributors\":
        [\n@@ -24,7 +24,7 @@\n     \"dependencies\": {\n         \"sequelize\": \"~1.7\",\n
        \        \"sqlite3\": \"~3.0\",\n-        \"express\": \"~4.9\",\n+        \"express\":
        \"~4.10\",\n         \"errorhandler\": \"~1.2\",\n         \"cookie-parser\":
        \"~1.3\",\n         \"serve-index\": \"~1.5\",\ndiff --git a/server.js b/server.js\nindex
        8192d3f13a8..8c92f051c4c 100644\n--- a/server.js\n+++ b/server.js\n@@ -5,11
        +5,6 @@ var application_root = __dirname.replace(/\\\\/g, '/'),\n     fs =
        require('fs'),\n     glob = require('glob'),\n     morgan = require('morgan'),\n-
        \   Sequelize = require('sequelize'),\n-    sequelize = new Sequelize('database',
        'username', 'password', {\n-        dialect: 'sqlite',\n-        storage:
        'data/juiceshop.sqlite'\n-    }),\n     restful = require('sequelize-restful'),\n
        \    express = require('express'),\n     errorhandler = require('errorhandler'),\n@@
        -17,9 +12,11 @@ var application_root = __dirname.replace(/\\\\/g, '/'),\n
        \    serveIndex = require('serve-index'),\n     favicon = require('serve-favicon'),\n
        \    bodyParser = require('body-parser'),\n-    PDFDocument = require('pdfkit'),\n+
        \   middleware = require('./middleware'),\n     utils = require('./lib/utils'),\n
        \    insecurity = require('./lib/insecurity'),\n+    models = require('./models'),\n+
        \   datacreator = require(\"./lib/datacreator\"),\n     app = express();\n
        \n errorhandler.title = 'Juice Shop (Express ' + utils.version('express')
        + ')';\n@@ -31,401 +28,16 @@ glob(__dirname + '/app/public/ftp/*.pdf', function
        (err, files) {\n     });\n });\n \n-/* Domain Model */\n-var User = sequelize.define('User',
        {\n-        email: Sequelize.STRING,\n-        password: Sequelize.STRING\n-
        \   },\n-    { hooks: {\n-        beforeCreate: function (user, fn) {\n-            hashPasswordHook(user);\n-
        \           xssChallengeUserHook(user);\n-            fn(null, user);\n-        },\n-
        \       beforeUpdate: function (user, fn) { // Pitfall: Will hash the hashed
        password again if password was not updated!\n-            hashPasswordHook(user);\n-
        \           fn(null, user);\n-        }\n-    }}\n-);\n-\n-function hashPasswordHook(user)
        {\n-    user.password = insecurity.hash(user.password);\n-}\n-\n-function
        xssChallengeUserHook(user) {\n-    if (notSolved(persistedXssChallengeUser)
        && utils.contains(user.email, '<script>alert(\"XSS2\")</script>')) {\n-        solve(persistedXssChallengeUser);\n-
        \   }\n-}\n-\n-var Product = sequelize.define('Product', {\n-    name: Sequelize.STRING,\n-
        \   description: Sequelize.STRING,\n-    price: Sequelize.DECIMAL,\n-    image:
        Sequelize.STRING\n-    },\n-    { hooks: {\n-        beforeCreate: function
        (product, fn) {\n-            xssChallengeProductHook(product);\n-            fn(null,
        product);\n-        },\n-        beforeUpdate: function (product, fn) {\n-
        \           xssChallengeProductHook(product);\n-            fn(null, product);\n-
        \       }\n-    }});\n-\n-function xssChallengeProductHook(product) {\n-    if
        (notSolved(restfulXssChallenge) && utils.contains(product.description, '<script>alert(\"XSS4\")</script>'))
        {\n-        solve(restfulXssChallenge);\n-    }\n-}\n-\n-var Basket = sequelize.define('Basket',
        {\n-});\n-\n-var BasketItem = sequelize.define('BasketItems', {\n-    id:
        {\n-        type: Sequelize.INTEGER,\n-        primaryKey: true,\n-        autoIncrement:
        true\n-    },\n-    quantity: Sequelize.INTEGER\n-});\n-\n-Basket.belongsTo(User);\n-Basket.hasMany(Product,
        {through: BasketItem});\n-Product.hasMany(Basket, {through: BasketItem});\n-\n-var
        Feedback = sequelize.define('Feedback', {\n-    comment: Sequelize.STRING,\n-
        \   rating: Sequelize.INTEGER\n-    },\n-    { hooks: {\n-        beforeCreate:
        function (feedback, fn) {\n-            htmlSanitizationHook(feedback);\n-
        \           fn(null, feedback);\n-        },\n-        beforeUpdate: function
        (feedback, fn) {\n-            htmlSanitizationHook(feedback);\n-            fn(null,
        feedback);\n-        }\n-    }});\n-\n-Feedback.belongsTo(User);\n-\n-function
        htmlSanitizationHook(feedback) {\n-    feedback.comment = insecurity.sanitizeHtml(feedback.comment);\n-
        \   if (notSolved(persistedXssChallengeFeedback) && utils.contains(feedback.comment,
        '<script>alert(\"XSS3\")</script>')) {\n-        solve(persistedXssChallengeFeedback);\n-
        \   }\n-}\n-\n-var Challenge = sequelize.define('Challenges', {\n-    description:
        Sequelize.STRING,\n-    solved: Sequelize.BOOLEAN\n-});\n-\n-/* Challenges
        */\n-var redirectChallenge, easterEggLevelOneChallenge, easterEggLevelTwoChallenge,
        directoryListingChallenge,\n-    loginAdminChallenge, loginJimChallenge, loginBenderChallenge,
        changeProductChallenge, csrfChallenge,\n-    errorHandlingChallenge, knownVulnerableComponentChallenge,
        negativeOrderChallenge, persistedXssChallengeFeedback,\n-    persistedXssChallengeUser,
        localXssChallenge, restfulXssChallenge,basketChallenge, weakPasswordChallenge,\n-
        \   adminSectionChallenge, scoreBoardChallenge, feedbackChallenge, unionSqlInjectionChallenge,
        forgedFeedbackChallenge;\n-\n-/* Entities relevant for challenges */\n-\n-var
        bender, osaft;\n-\n-/* Data */\n-sequelize.drop();\n-sequelize.sync().success(function
        () {\n-    Challenge.create({\n-        description: 'Find the carefully hidden
        \\'Score Board\\' page.',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        scoreBoardChallenge = challenge;\n-    });\n-    Challenge.create({\n-
        \       description: 'Provoke an error that is not very gracefully handled.',\n-
        \       solved: false\n-    }).success(function(challenge) {\n-        errorHandlingChallenge
        = challenge;\n-    });\n-    Challenge.create({\n-        description: 'Log
        in with the administrator\\'s user account.',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        loginAdminChallenge = challenge;\n-    });\n-    Challenge.create({\n-
        \       description: 'Log in with Jim\\'s user account.',\n-        solved:
        false\n-    }).success(function(challenge) {\n-        loginJimChallenge =
        challenge;\n-    });\n-    Challenge.create({\n-        description: 'Log
        in with Bender\\'s user account.',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        loginBenderChallenge = challenge;\n-    });\n-    Challenge.create({\n-
        \       description: 'XSS Tier 1: Perform a <i>reflected</i> XSS attack with
        &lt;script&gt;alert(\"XSS1\")&lt;/script&gt;.',\n-        solved: false\n-
        \   }).success(function(challenge) {\n-        localXssChallenge = challenge;\n-
        \   });\n-    Challenge.create({\n-        description: 'XSS Tier 2: Perform
        a <i>persisted</i> XSS attack with &lt;script&gt;alert(\"XSS2\")&lt;/script&gt;
        bypassing a <i>client-side</i> security mechanism.',\n-        solved: false\n-
        \   }).success(function(challenge) {\n-        persistedXssChallengeUser =
        challenge;\n-    });\n-    Challenge.create({\n-        description: 'XSS
        Tier 3: Perform a <i>persisted</i> XSS attack with &lt;script&gt;alert(\"XSS3\")&lt;/script&gt;
        bypassing a <i>server-side</i> security mechanism.',\n-        solved: false\n-
        \   }).success(function(challenge) {\n-        persistedXssChallengeFeedback
        = challenge;\n-    });\n-    Challenge.create({\n-        description: 'XSS
        Tier 4: Perform a <i>persisted</i> XSS attack with &lt;script&gt;alert(\"XSS4\")&lt;/script&gt;
        without using the frontend application at all.',\n-        solved: false\n-
        \   }).success(function(challenge) {\n-        restfulXssChallenge = challenge;\n-
        \   });\n-    Challenge.create({\n-        description: 'Retrieve a list of
        all user credentials via SQL Injection',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        unionSqlInjectionChallenge = challenge;\n-    });\n-    Challenge.create({\n-
        \       description: 'Log in with the administrator\\'s user credentials without
        previously changing them or applying SQL Injection.',\n-        solved: false\n-
        \   }).success(function(challenge) {\n-        weakPasswordChallenge = challenge;\n-
        \   });\n-    Challenge.create({\n-        description: 'Get rid of all 5-star
        customer feedback.',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        feedbackChallenge = challenge;\n-    });\n-    Challenge.create({\n-
        \       description: 'Post some feedback in another users name.',\n-        solved:
        false\n-    }).success(function(challenge) {\n-        forgedFeedbackChallenge
        = challenge;\n-    });\n-    Challenge.create({\n-        description: 'Wherever
        you go, there you are.',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        redirectChallenge = challenge;\n-    });\n-    Challenge.create({\n-
        \       description: 'Access someone else\\'s basket.',\n-        solved:
        false\n-    }).success(function(challenge) {\n-        basketChallenge = challenge;\n-
        \   });\n-    Challenge.create({\n-        description: 'Place an order that
        makes you rich.',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        negativeOrderChallenge = challenge;\n-    });\n-    Challenge.create({\n-
        \       description: 'Access a confidential document.',\n-        solved:
        false\n-    }).success(function(challenge) {\n-        directoryListingChallenge
        = challenge;\n-    });\n-    Challenge.create({\n-        description: 'Access
        the administration section of the store.',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        adminSectionChallenge = challenge;\n-    });\n-    Challenge.create({\n-
        \       description: 'Change Bender\\'s password into <i>slurmCl4ssic</i>.'
        ,\n-        solved: false\n-    }).success(function(challenge) {\n-        csrfChallenge
        = challenge;\n-    });\n-    Challenge.create({\n-        description: 'Change
        the link in the description of the <a href=\"/#/search?q=O-Saft\">O-Saft product</a>
        to <i>http://kimminich.de</i>.',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        changeProductChallenge = challenge;\n-    });\n-    Challenge.create({\n-
        \       description: '<a href=\"/#/contact\">Inform the shop</a> about a vulnerable
        library it is using. (Mention the exact library name and version in your complaint.)',\n-
        \       solved: false\n-    }).success(function(challenge) {\n-        knownVulnerableComponentChallenge
        = challenge;\n-    });\n-    Challenge.create({\n-        description: 'Find
        the hidden <a href=\"http://en.wikipedia.org/wiki/Easter_egg_(media)\" target=\"_blank\">easter
        egg</a>.',\n-        solved: false\n-    }).success(function(challenge) {\n-
        \       easterEggLevelOneChallenge = challenge;\n-    });\n-    Challenge.create({\n-
        \       description: 'Apply some advanced cryptanalysis to find <i>the real</i>
        easter egg.',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        easterEggLevelTwoChallenge = challenge;\n-    });\n-    User.create({\n-
        \       email: 'admin@juice-sh.op',\n-        password: 'admin123'\n-    });\n-
        \   User.create({\n-        email: 'jim@juice-sh.op',\n-        password:
        'ncc-1701'\n-    });\n-    User.create({\n-        email: 'bender@juice-sh.op',\n-
        \       password: 'booze'\n-    }).success(function(user) {\n-        bender
        = user;\n-    });\n-    Product.create({\n-        name: 'Apple Juice (1000ml)',\n-
        \       description: 'The all-time classic.',\n-        price: 1.99,\n-        image:
        'apple_juice.jpg'\n-    });\n-    Product.create({\n-        name: 'Orange
        Juice (1000ml)',\n-        description: 'Made from oranges hand-picked by
        Uncle Dittmeyer.',\n-        price: 2.99,\n-        image: 'orange_juice.jpg'\n-
        \   });\n-    Product.create({\n-        name: 'Eggfruit Juice (500ml)',\n-
        \       description: 'Now with even more exotic flavour.',\n-        price:
        8.99,\n-        image: 'eggfruit_juice.jpg'\n-    });\n-    Product.create({\n-
        \       name: 'Raspberry Juice (1000ml)',\n-        description: 'Made from
        blended Raspberry Pi, water and sugar.',\n-        price: 4.99,\n-        image:
        'raspberry_juice.jpg'\n-    });\n-    Product.create({\n-        name: 'Lemon
        Juice (500ml)',\n-        description: 'Sour but full of vitamins.',\n-        price:
        2.99,\n-        image: 'lemon_juice.jpg'\n-    });\n-    Product.create({\n-
        \       name: 'Banana Juice (1000ml)',\n-        description: 'Monkeys love
        it the most.',\n-        price: 1.99,\n-        image: 'banana_juice.jpg'\n-
        \   });\n-    Product.create({\n-        name: 'Lemon Juice (500ml)',\n-        description:
        'Sour but full of vitamins.',\n-        price: 2.99,\n-        image: 'lemon_juice.jpg'\n-
        \   });\n-    Product.create({\n-        name: 'Juice Shop T-Shirt (3XL)',\n-
        \       description: 'Real fans wear it 24/7!',\n-        price: 24.99,\n-
        \       image: 'fan_shirt.jpg'\n-    });\n-    Product.create({\n-        name:
        'OWASP SSL Advanced Forensic Tool (O-Saft)',\n-        description: 'O-Saft
        is an easy to use tool to show information about SSL certificate and tests
        the SSL connection according given list of ciphers and various SSL configurations.
        <a href=\"https://www.owasp.org/index.php/O-Saft\" target=\"_blank\">More...</a>',\n-
        \       price: 0.01,\n-        image: 'owasp_osaft.jpg'\n-    }).success(function(product)
        {\n-        osaft = product;\n-    });\n-    Basket.create({\n-        UserId:
        1\n-    });\n-    Basket.create({\n-        UserId: 2\n-    });\n-    Basket.create({\n-
        \       UserId: 3\n-    });\n-    BasketItem.create({\n-        BasketId:
        1,\n-        ProductId: 1,\n-        quantity: 2\n-    });\n-    BasketItem.create({\n-
        \       BasketId: 1,\n-        ProductId: 2,\n-        quantity: 3\n-    });\n-
        \   BasketItem.create({\n-        BasketId: 1,\n-        ProductId: 3,\n-
        \       quantity: 1\n-    });\n-    BasketItem.create({\n-        BasketId:
        2,\n-        ProductId: 4,\n-        quantity: 2\n-    });\n-    BasketItem.create({\n-
        \       BasketId: 3,\n-        ProductId: 5,\n-        quantity: 1\n-    });\n-
        \   Feedback.create({\n-        UserId: 1,\n-        comment: 'I love this
        shop! Best juice in town! Highly recommended!',\n-        rating: 5\n-    });\n-
        \   Feedback.create({\n-        UserId: 2,\n-        comment: 'Great shop!
        The O-Saft is highly recommended!',\n-        rating: 4\n-    });\n-    Feedback.create({\n-
        \       comment: 'Why isn\\'t there a T-Shirt for skinny people available?!',\n-
        \       rating: 2\n-    });\n-    Feedback.create({\n-        comment: 'This
        is <b>the</b> store for juices of all kinds!',\n-        rating: 4\n-    });\n-
        \   Feedback.create({\n-        comment: 'Never gonna buy my juice anywhere
        else from now on! Thanks for the great service!',\n-        rating: 4\n-    });\n-
        \   Feedback.create({\n-        comment: 'Keep up the good work!',\n-        rating:
        3\n-    });\n-    Feedback.create({\n-        UserId: 3,\n-        comment:
        'No real drinks available here!',\n-        rating: 1\n-    });\n-});\n-\n
        /* Favicon */\n app.use(favicon(__dirname + '/app/public/favicon.ico'));\n
        \n-/* Checks for solved challenges */\n-app.use(verifyDatabaseRelatedChallenges());\n-app.use('/public/images/tracking',
        verifyAccessControlChallenges());\n+/* Checks for utils.solved challenges
        */\n+app.use(middleware.verifyDatabaseRelatedChallenges());\n+app.use('/public/images/tracking',
        middleware.verifyAccessControlChallenges());\n \n /* public/ftp directory
        browsing and file download */\n app.use('/public/ftp', serveIndex('app/public/ftp',
        {'icons': true}));\n-app.use('/public/ftp/:file', serveFiles());\n+app.use('/public/ftp/:file',
        middleware.serveFiles());\n \n app.use(express.static(application_root + '/app'));\n
        app.use(morgan('dev'));\n@@ -458,35 +70,39 @@ app.use('/rest/basket/:id',
        insecurity.isAuthorized());\n app.use('/rest/basket/:id/order', insecurity.isAuthorized());\n
        \n /* Challenge evaluation before sequelize-restful takes over */\n-app.post('/api/Feedbacks',
        verifyForgedFeedbackChallenge());\n+app.post('/api/Feedbacks', middleware.verifyForgedFeedbackChallenge());\n
        \n /* Sequelize Restful APIs */\n-app.use(restful(sequelize, { endpoint: '/api',
        allowed: ['Users', 'Products', 'Feedbacks', 'BasketItems', 'Challenges'] }));\n+app.use(restful(models.sequelize,
        { endpoint: '/api', allowed: ['Users', 'Products', 'Feedbacks', 'BasketItems',
        'Challenges'] }));\n /* Custom Restful API */\n-app.post('/rest/user/login',
        loginUser());\n-app.get('/rest/user/change-password', changePassword());\n-app.get('/rest/user/authentication-details',
        retrieveUserList());\n-app.get('/rest/user/whoami', retrieveLoggedInUsersId());\n-app.get('/rest/product/search',
        searchProducts());\n-app.get('/rest/basket/:id', retrieveBasket());\n-app.post('/rest/basket/:id/order',
        createOrderPdf());\n-app.get('/rest/admin/application-version', retrieveAppVersion());\n-app.get('/redirect',
        performRedirect());\n+app.post('/rest/user/login', middleware.loginUser());\n+app.get('/rest/user/change-password',
        middleware.changePassword());\n+app.get('/rest/user/authentication-details',
        middleware.retrieveUserList());\n+app.get('/rest/user/whoami', middleware.retrieveLoggedInUsersId());\n+app.get('/rest/product/search',
        middleware.searchProducts());\n+app.get('/rest/basket/:id', middleware.retrieveBasket());\n+app.post('/rest/basket/:id/order',
        middleware.createOrderPdf());\n+app.get('/rest/admin/application-version',
        middleware.retrieveAppVersion());\n+app.get('/redirect', middleware.performRedirect());\n
        /* File Serving */\n-app.get('/the/devs/are/so/funny/they/hid/an/easter/egg/within/the/easter/egg',
        serveEasterEgg());\n-app.use(serveAngularClient());\n+app.get('/the/devs/are/so/funny/they/hid/an/easter/egg/within/the/easter/egg',
        middleware.serveEasterEgg());\n+app.use(middleware.serveAngularClient());\n
        /* Error Handling */\n-app.use(verifyErrorHandlingChallenge());\n+app.use(middleware.verifyErrorHandlingChallenge());\n
        app.use(errorhandler());\n \n exports.start = function (config, readyCallback)
        {\n     if (!this.server) {\n-        this.server = app.listen(config.port,
        function () {\n-            console.log('Listening on port %d', config.port);\n-
        \           // callback to call when the server is ready\n-            if
        (readyCallback) {\n-                readyCallback();\n-            }\n+        models.sequelize.drop();\n+
        \       models.sequelize.sync().success(function() {\n+            datacreator();\n+
        \           this.server = app.listen(config.port, function () {\n+                console.log('Listening
        on port %d', config.port);\n+                // callback to call when the
        server is ready\n+                if (readyCallback) {\n+                    readyCallback();\n+
        \               }\n+            });\n         });\n     }\n };\n@@ -497,328
        +113,3 @@ exports.close = function (exitCode) {\n         process.exit(exitCode);\n
        \    }\n };\n-\n-function verifyForgedFeedbackChallenge() {\n-    return function(req,
        res, next) {\n-        if (notSolved(forgedFeedbackChallenge)) {\n-            var
        user = insecurity.authenticatedUsers.from(req);\n-            var userId =
        user ? user.data.id : undefined;\n-            if (req.body.UserId && req.body.UserId
        != userId) {\n-                solve(forgedFeedbackChallenge);\n-            }\n-
        \       }\n-        next();\n-    };\n-}\n-\n-function verifyAccessControlChallenges()
        {\n-    return function (req, res, next) {\n-        if (notSolved(scoreBoardChallenge)
        && utils.endsWith(req.url, '/scoreboard.png')) {\n-            solve(scoreBoardChallenge);\n-
        \       } else if (notSolved(adminSectionChallenge) && utils.endsWith(req.url,
        '/administration.png')) {\n-            solve(adminSectionChallenge);\n-        }\n-
        \       next();\n-    };\n-}\n-\n-function retrieveLoggedInUsersId() {\n-
        \   return function (req, res) {\n-        var user = insecurity.authenticatedUsers.from(req);\n-
        \       res.json({id: (user ? user.data.id : undefined), email: (user ? user.data.email
        : undefined)});\n-    };\n-}\n-\n-function retrieveAppVersion() {\n-    return
        function (req, res) {\n-        res.json({version: utils.version()});\n-    };\n-}\n-\n-function
        serveAngularClient() {\n-    return function (req, res, next) {\n-        if
        (!utils.startsWith(req.url, '/api') && !utils.startsWith(req.url, '/rest'))
        {\n-            res.sendFile(__dirname + '/app/index.html');\n-        } else
        {\n-            next(new Error('Unexpected path: ' + req.url));\n-        }\n-
        \   };\n-}\n-\n-function verifyErrorHandlingChallenge() {\n-    return function
        (err, req, res, next) {\n-        if (notSolved(errorHandlingChallenge) &&
        err && res.statusCode > 401) {\n-            solve(errorHandlingChallenge);\n-
        \       }\n-        next(err);\n-    };\n-}\n-\n-function serveEasterEgg()
        {\n-    return function (req, res) {\n-        if (notSolved(easterEggLevelTwoChallenge))
        {\n-            solve(easterEggLevelTwoChallenge);\n-        }\n-        res.sendFile(__dirname
        + '/app/private/threejs-demo.html');\n-    };\n-}\n-\n-function performRedirect()
        {\n-    return function(req, res) {\n-        var to = req.query.to;\n-        var
        githubUrl = 'https://github.com/bkimminich/juice-shop';\n-        if (to.indexOf(githubUrl)
        > -1) {\n-            if (notSolved(redirectChallenge) && to !== githubUrl)
        { // TODO Instead match against something like <anotherUrl>[?&]=githubUrl\n-
        \               solve(redirectChallenge);\n-            }\n-            res.redirect(to);\n-
        \       } else {\n-            res.redirect(githubUrl);\n-        }\n-    };\n-}\n-\n-function
        retrieveBasket() {\n-    return function(req, res, next){\n-        var id
        = req.params.id;\n-        Basket.find({where: {id: id}, include: [ Product
        ]})\n-            .success(function(basket) {\n-                if (notSolved(basketChallenge))
        {\n-                    var user = insecurity.authenticatedUsers.from(req);\n-
        \                   if (user && user.bid != id) {\n-                        solve(basketChallenge);\n-
        \                   }\n-                }\n-                res.json(utils.queryResultToJson(basket));\n-
        \           }).error(function (error) {\n-                next(error);\n-
        \           });\n-    };\n-}\n-\n-function retrieveUserList() {\n-    return
        function(req, res, next){\n-        User.findAll().success(function(users)
        {\n-                var usersWithLoginStatus = utils.queryResultToJson(users);\n-
        \               usersWithLoginStatus.data.forEach(function(user) {\n-                    user.token
        = insecurity.authenticatedUsers.tokenOf(user);\n-                });\n-                res.json(usersWithLoginStatus);\n-
        \           }).error(function (error) {\n-                next(error);\n-
        \           });\n-    };\n-}\n-\n-function createOrderPdf() {\n-    return
        function(req, res, next){\n-        var id = req.params.id;\n-        Basket.find({where:
        {id: id}, include: [ Product ]})\n-            .success(function(basket) {\n-
        \               if (basket) {\n-                    var customer = insecurity.authenticatedUsers.from(req);\n-
        \                   var orderNo = insecurity.hash(new Date()+'_'+id);\n-                    var
        pdfFile = 'order_' + orderNo + '.pdf';\n-                    var doc = new
        PDFDocument();\n-                    var fileWriter = doc.pipe(fs.createWriteStream(__dirname
        + '/app/public/ftp/' + pdfFile));\n-\n-                    doc.text('Juice-Shop
        - Order Confirmation');\n-                    doc.moveDown();\n-                    doc.moveDown();\n-
        \                   doc.moveDown();\n-                    doc.text('Customer:
        ' + (customer ? customer.data ? customer.data.email : undefined : undefined));\n-
        \                   doc.moveDown();\n-                    doc.text('Order
        #: ' + orderNo);\n-                    doc.moveDown();\n-                    doc.moveDown();\n-
        \                   var totalPrice = 0;\n-                    basket.products.forEach(function(product)
        {\n-                        var itemTotal = product.price*product.basketItem.quantity;\n-
        \                       doc.text(product.basketItem.quantity + 'x ' + product.name
        + ' ea. ' + product.price + ' = ' + itemTotal);\n-                        doc.moveDown();\n-
        \                       totalPrice += itemTotal;\n-                    });\n-
        \                   doc.moveDown();\n-                    doc.text('Total
        Price: ' + totalPrice);\n-                    doc.moveDown();\n-                    doc.moveDown();\n-
        \                   doc.text('Thank you for your order!');\n-                    doc.end();\n-\n-
        \                   if (notSolved(negativeOrderChallenge) && totalPrice <
        0) {\n-                        solve (negativeOrderChallenge);\n-                    }\n-\n-
        \                   fileWriter.on('finish', function() {\n-                        BasketItem.destroy({BasketId:
        id});\n-                        res.send('/public/ftp/' + pdfFile);\n-                    });\n-
        \               } else {\n-                    next(new Error('Basket with
        id=' + id + ' does not exist.'));\n-                }\n-            }).error(function
        (error) {\n-                next(error);\n-            });\n-    };\n-}\n-\n-function
        searchProducts() {\n-    return function(req, res, next){\n-        var criteria
        = req.query.q === 'undefined' ? '' : req.query.q || '';\n-        if (notSolved(localXssChallenge)
        && utils.contains(criteria, '<script>alert(\"XSS1\")</script>')) {\n-            solve(localXssChallenge);\n-
        \       }\n-        sequelize.query('SELECT * FROM Products WHERE (name LIKE
        \\'%' + criteria + '%\\') OR (description LIKE \\'%' + criteria + '%\\')')\n-
        \           .success(function(products) {\n-                if (notSolved(unionSqlInjectionChallenge))
        {\n-                    var dataString = JSON.stringify(products);\n-                    var
        solved = true;\n-                    User.findAll().success(function(data)
        {\n-                        var users = utils.queryResultToJson(data);\n-
        \                       if (users.data && users.data.length) {\n-                            for
        (var i=0; i<users.data.length; i++) {\n-                                solved
        = solved && utils.contains(dataString, users.data[i].email) && utils.contains(dataString,
        users.data[i].password);\n-                                if (!solved) {\n-
        \                                   break;\n-                                }\n-
        \                           }\n-                            if (solved) {\n-
        \                               solve(unionSqlInjectionChallenge);\n-                            }\n-
        \                       }\n-                    });\n-                }\n-
        \               res.json(utils.queryResultToJson(products));\n-            }).error(function
        (error) {\n-                next(error);\n-            });\n-    };\n-}\n-\n-function
        changePassword() {\n-    return function(req, res, next){\n-        var password
        = req.query.new;\n-        var repeatPassword = req.query.repeat;\n-        if
        (!password || password === 'undefined') {\n-            res.status(401).send('Password
        cannot be empty.');\n-        } else if (password !== repeatPassword) {\n-
        \           res.status(401).send('New and repeated password do not match.');\n-
        \       } else {\n-            var loggedInUser = insecurity.authenticatedUsers.get(req.cookies.token);\n-
        \           if (loggedInUser) {\n-                User.find(loggedInUser.data.id).success(function(user)
        {\n-                    user.updateAttributes({password: password}).success(function(user)
        {\n-                        res.send(user);\n-                    }).error(function(error)
        {\n-                        next(error);\n-                    });\n-                }).error(function(error)
        {\n-                    next(error);\n-                });\n-            }
        else {\n-                next(new Error('Blocked illegal activity by ' + req.connection.remoteAddress));\n-
        \           }\n-        }\n-    };\n-}\n-\n-function loginUser() {\n-    return
        function(req, res, next){\n-        if (notSolved(weakPasswordChallenge) &&
        req.body.email === 'admin@juice-sh.op' && req.body.password === 'admin123')
        {\n-            solve(weakPasswordChallenge);\n-        }\n-        sequelize.query('SELECT
        * FROM Users WHERE email = \\'' + (req.body.email || '') + '\\' AND password
        = \\'' + insecurity.hash(req.body.password || '') + '\\'', User, {plain: true})\n-
        \           .success(function(authenticatedUser) {\n-                var user
        = utils.queryResultToJson(authenticatedUser);\n-                if (user.data
        && user.data.id) {\n-                    if (notSolved(loginAdminChallenge)
        && user.data.id === 1) {\n-                        solve(loginAdminChallenge);\n-
        \                   } else if (notSolved(loginJimChallenge) && user.data.id
        === 2) {\n-                        solve(loginJimChallenge);\n-                    }
        else if  (notSolved(loginBenderChallenge) && user.data.id === 3) {\n-                        solve(loginBenderChallenge);\n-
        \                   }\n-                    Basket.findOrCreate({UserId: user.data.id}).success(function(basket)
        {\n-                        var token = insecurity.authorize(user);\n-                        user.bid
        = basket.id; // keep track of original basket for challenge solution check\n-
        \                       insecurity.authenticatedUsers.put(token, user);\n-
        \                       res.json({ token: token, bid: basket.id });\n-                    }).error(function
        (error) {\n-                        next(error);\n-                    });\n-
        \               } else {\n-                    res.status(401).send('Invalid
        email or password.');\n-                }\n-            }).error(function
        (error) {\n-                next(error);\n-            });\n-    };\n-}\n-\n-function
        serveFiles() {\n-    return function(req, res, next) {\n-        var file
        = req.params.file;\n-        if (file && (utils.endsWith(file, '.md') || (utils.endsWith(file,
        '.pdf')))) {\n-            file = insecurity.cutOffPoisonNullByte(file);\n-
        \           if (notSolved(easterEggLevelOneChallenge) && file.toLowerCase()
        === 'eastere.gg') {\n-                solve(easterEggLevelOneChallenge);\n-
        \           } else if (notSolved(directoryListingChallenge) && file.toLowerCase()
        === 'acquisitions.md') {\n-                solve(directoryListingChallenge);\n-
        \           }\n-            res.sendFile(__dirname + '/app/public/ftp/' +
        file);\n-        } else {\n-            res.status(403);\n-            next(new
        Error('Only .md and .pdf files are allowed!'));\n-        }\n-    };\n-}\n-\n-function
        verifyDatabaseRelatedChallenges() {\n-    return function (req, res, next)
        {\n-        if (notSolved(changeProductChallenge) && osaft) {\n-            osaft.reload().success(function
        () {\n-                if (!utils.contains(osaft.description, '<a href=\"https://www.owasp.org/index.php/O-Saft\"
        target=\"_blank\">')) {\n-                    if (utils.contains(osaft.description,
        '<a href=\"http://kimminich.de\" target=\"_blank\">')) {\n-                        solve(changeProductChallenge);\n-
        \                   }\n-                }\n-            });\n-        }\n-
        \       if (notSolved(csrfChallenge) && bender) {\n-            bender.reload().success(function()
        {\n-                if (bender.password === insecurity.hash('slurmCl4ssic'))
        {\n-                    solve(csrfChallenge);\n-                }\n-            });\n-
        \       }\n-        if (notSolved(feedbackChallenge)) {\n-            Feedback.findAndCountAll({where:
        {rating: 5}}).success(function (feedbacks) {\n-                if (feedbacks.count
        === 0) {\n-                    solve(feedbackChallenge);\n-                }\n-
        \           });\n-        }\n-        if (notSolved(knownVulnerableComponentChallenge))
        {\n-            Feedback.findAndCountAll({where: Sequelize.or(\n-                Sequelize.and(['comment
        LIKE \\'%sanitize-html%\\''], ['comment LIKE \\'%1.4.2%\\'']),\n-                Sequelize.and(['comment
        LIKE \\'%htmlparser2%\\''], ['comment LIKE \\'%3.3.0%\\'']) ) }\n-            ).success(function
        (data) {\n-                if (data.count > 0) {\n-                    solve(knownVulnerableComponentChallenge);\n-
        \               }\n-            });\n-        }\n-        next();\n-    };\n-}\n-\n-function
        solve(challenge) {\n-    challenge.solved = true;\n-    challenge.save().success(function()
        {\n-        console.log('Solved challenge \"' + challenge.description + '\"');\n-
        \   });\n-}\n-\n-function notSolved(challenge) {\n-    return challenge &&
        !challenge.solved;\n-}\n\\ No newline at end of file\ndiff --git a/test/server/apiSpec.js
        b/test/server/apiSpec.js\nindex c3a5b21ff84..7f53460e4cf 100644\n--- a/test/server/apiSpec.js\n+++
        b/test/server/apiSpec.js\n@@ -14,8 +14,12 @@ frisby.create('GET all models
        declared in API')\n         tableName: String\n     })\n     .expectJSON('data.?',
        {\n-        name: 'User',\n-        tableName: 'Users'\n+        name: 'BasketItem',\n+
        \       tableName: 'BasketItems'\n+    })\n+    .expectJSON('data.?', {\n+
        \       name: 'Challenge',\n+        tableName: 'Challenges'\n     })\n     .expectJSON('data.?',
        {\n         name: 'Feedback',\n@@ -26,12 +30,8 @@ frisby.create('GET all models
        declared in API')\n         tableName: 'Products'\n     })\n     .expectJSON('data.?',
        {\n-        name: 'BasketItems',\n-        tableName: 'BasketItems'\n-    })\n-
        \   .expectJSON('data.?', {\n-        name: 'Challenges',\n-        tableName:
        'Challenges'\n+        name: 'User',\n+        tableName: 'Users'\n     })\n
        \    .toss();\n \ndiff --git a/test/serverTests.js b/test/serverTests.js\nindex
        e8805721932..14098337b23 100644\n--- a/test/serverTests.js\n+++ b/test/serverTests.js\n@@
        -3,6 +3,7 @@\n \n var spawn = require('win-spawn');\n var server = require('./../server.js');\n+\n
        server.start({ port: 3000 }, function () {\n     var jasmineNode = spawn('jasmine-node',
        [ 'test/server' ]);\n \n@@ -15,6 +16,6 @@ server.start({ port: 3000 }, function
        () {\n \n     jasmineNode.on('exit', function (exitCode) {\n         console.log('Jasmine-Node
        exited with code ' + exitCode + '.');\n-        server.close(exitCode);\n+
        \       process.exit(exitCode);\n     });\n });\n\\ No newline at end of file\n"
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - 'default-src ''none''; base-uri ''self''; child-src github.com/assets-cdn/worker/
        github.com/webpack/ github.com/assets/ gist.github.com/assets-cdn/worker/;
        connect-src ''self'' uploads.github.com www.githubstatus.com collector.github.com
        raw.githubusercontent.com api.github.com github-cloud.s3.amazonaws.com github-production-repository-file-5c1aeb.s3.amazonaws.com
        github-production-upload-manifest-file-7fdce7.s3.amazonaws.com github-production-user-asset-6210df.s3.amazonaws.com
        *.rel.tunnels.api.visualstudio.com wss://*.rel.tunnels.api.visualstudio.com
        api.githubcopilot.com objects-origin.githubusercontent.com copilot-proxy.githubusercontent.com/v1/engines/github-completion/completions
        proxy.enterprise.githubcopilot.com/v1/engines/github-completion/completions
        *.actions.githubusercontent.com wss://*.actions.githubusercontent.com productionresultssa0.blob.core.windows.net/
        productionresultssa1.blob.core.windows.net/ productionresultssa2.blob.core.windows.net/
        productionresultssa3.blob.core.windows.net/ productionresultssa4.blob.core.windows.net/
        productionresultssa5.blob.core.windows.net/ productionresultssa6.blob.core.windows.net/
        productionresultssa7.blob.core.windows.net/ productionresultssa8.blob.core.windows.net/
        productionresultssa9.blob.core.windows.net/ productionresultssa10.blob.core.windows.net/
        productionresultssa11.blob.core.windows.net/ productionresultssa12.blob.core.windows.net/
        productionresultssa13.blob.core.windows.net/ productionresultssa14.blob.core.windows.net/
        productionresultssa15.blob.core.windows.net/ productionresultssa16.blob.core.windows.net/
        productionresultssa17.blob.core.windows.net/ productionresultssa18.blob.core.windows.net/
        productionresultssa19.blob.core.windows.net/ github-production-repository-image-32fea6.s3.amazonaws.com
        github-production-release-asset-2e65be.s3.amazonaws.com insights.github.com
        wss://alive.github.com; font-src github.githubassets.com; form-action ''self''
        github.com gist.github.com copilot-workspace.githubnext.com objects-origin.githubusercontent.com;
        frame-ancestors ''none''; frame-src viewscreen.githubusercontent.com notebooks.githubusercontent.com;
        img-src ''self'' data: blob: github.githubassets.com media.githubusercontent.com
        camo.githubusercontent.com identicons.github.com avatars.githubusercontent.com
        github-cloud.s3.amazonaws.com objects.githubusercontent.com secured-user-images.githubusercontent.com/
        user-images.githubusercontent.com/ private-user-images.githubusercontent.com
        opengraph.githubassets.com github-production-user-asset-6210df.s3.amazonaws.com
        customer-stories-feed.github.com spotlights-feed.github.com objects-origin.githubusercontent.com
        *.githubusercontent.com; manifest-src ''self''; media-src github.com user-images.githubusercontent.com/
        secured-user-images.githubusercontent.com/ private-user-images.githubusercontent.com
        github-production-user-asset-6210df.s3.amazonaws.com gist.github.com; script-src
        github.githubassets.com; style-src ''unsafe-inline'' github.githubassets.com;
        upgrade-insecure-requests; worker-src github.com/assets-cdn/worker/ github.com/webpack/
        github.com/assets/ gist.github.com/assets-cdn/worker/'
      Content-Type:
      - text/plain; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:55 GMT
      ETag:
      - W/"ea7ea216505c3f9086dbdb86daeceae6"
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - GitHub.com
      Set-Cookie:
      - logged_in=no; domain=github.com; path=/; expires=Fri, 12 Sep 2025 07:51:55
        GMT; secure; HttpOnly; SameSite=Lax
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - X-PJAX, X-PJAX-Container, Turbo-Visit, Turbo-Frame
      - Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Request-Id:
      - C3A7:8E517:33D349C:3956163:66E29D9B
      X-XSS-Protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/pulls/40/files
  response:
    body:
      string: '[{"sha":"8b1832e4988c249b8741c7e280bfff4bd61ffc36","filename":".travis.yml","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/.travis.yml","raw_url":"https://github.com/juice-shop/juice-shop/raw/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/.travis.yml","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/.travis.yml?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","patch":"@@
        -16,5 +16,5 @@ deploy:\n     secure: bzxWh4DRhjcJ52FXzZhEOMmseDOPCDw/yC5ikblBH0uwoXIPJD2yKJ884CqzyL8Jf3yFBpZasVvbFjNDPpyGxZv0UMInYhJBHuyFXKe+pqyf1z7vif0FaH2Fze9VfmCV/GPRiNMMgTcvgoCIJs8wXsCoRcafWVaX9m4xH5ZHt/I=\n
        env:\n   global:\n-    - secure: U7+Gv3U8nP+AopuI9HrwqnrBeXBc39HyRZ7/di66rlVujzXeN8O821uQVjnxdIB8GcbmJyGx7Av1hqTBYyhot2mMtmtFnwUs5ijc3tu1IMv5BabQUIzHvMkXjAAAHRwBCbb2QMXHk/oEhdy0evsO8JDIwiHDP0SeFCS7sY9obco=\n-    -
        secure: XMZ+PkMPArPdJMlWEu1l2BDFC8l2YR57ZkLOYIhOuITXfxPL389ujJvf6FPZoayUKjajCGDQ3TpBD46Gx6Cc1KFyORvKNx8wu83l+xcE5Oo8XuSx3VScpZv1jmdw8TgomqstjiWhcQjbjDZ52MCpBHMNTkNtJKNNAbDaC6/uXFQ=\n\\
        No newline at end of file\n+    - secure: qT8aMCYSV2rLyn0csYUkPGABuj97LV30oK6hAMCLZJA3knU+uGj1+5vtkCF+5tVYHCVOYxaaBfARfB/6y/nG+sxwZyUrYfOvM1xozwaQnI+/V2hPv22msTC/9cW7I9RwyNxydxT7Rredbdhpi/5W6Wx7e7ARTbsdi7QYDMA/FOk=\n+    -
        secure: oKuecH+rXXiHdUL/ARWFXZ6FM8K/ASxIEpI44tDujSmJtgCMjgnsl3+GtF7e5EJGjfkNDDot09bsBboLqpFJeGXSVPSKtxtrRefnb8Ld0EpdlD3L7a9f6IHF7tmMZi2YxtJE80bLD6Tp/+Yz3Luqe+EydUjbn6OYFubF5+UcjqE=\n\\
        No newline at end of file"},{"sha":"6d69e84a6cc8e130796059992fecc897b23b4fae","filename":"README.md","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/README.md","raw_url":"https://github.com/juice-shop/juice-shop/raw/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/README.md","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/README.md?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","patch":"@@
        -8,7 +8,7 @@ An intentionally insecure RIA suitable for pentesting and security
        awareness tra\n [![Dependency Status](https://gemnasium.com/bkimminich/juice-shop.svg)](https://gemnasium.com/bkimminich/juice-shop)\n
        [![Dependency Status](https://david-dm.org/bkimminich/juice-shop.svg)](https://david-dm.org/bkimminich/juice-shop)\n
        [![devDependency Status](https://david-dm.org/bkimminich/juice-shop/dev-status.svg)](https://david-dm.org/bkimminich/juice-shop#info=devDependencies)\n-[![Docker](http://img.shields.io/badge/docker-container-blue.svg)](https://registry.hub.docker.com/u/bkimminich/juice-shop/)\n+[![Sauce
        Test Status](https://saucelabs.com/buildstatus/juice-shop)](https://saucelabs.com/u/juice-shop)\n
        \n > Translating \"dump\" or \"useless outfit\" into German yields \"Saftladen\"
        which can be reverse-translated word by word into \"juice shop\". Hence the
        name of this project.\n     \n@@ -55,4 +55,4 @@ You may find it easier to
        find vulnerabilities using a pen test tool. I strongly\n [![Gratipay](http://img.shields.io/gratipay/bkimminich.svg)](https://gratipay.com/bkimminich)\n
        [![Bountysource](https://www.bountysource.com/badge/tracker?tracker_id=6283055)](https://www.bountysource.com/trackers/6283055-juice-shop?utm_source=6283055&utm_medium=shield&utm_campaign=TRACKER_BADGE)\n
        [![HuBoard](http://img.shields.io/badge/Hu-Board-blue.svg)](https://huboard.com/bkimminich/juice-shop)\n-\n+[![Docker](http://img.shields.io/badge/docker-container-blue.svg)](https://registry.hub.docker.com/u/bkimminich/juice-shop/)\n\\
        No newline at end of file"},{"sha":"7759333d94279ae84ab802136f83b1438c77cac7","filename":"app.js","status":"modified","additions":1,"deletions":1,"changes":2,"blob_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/app.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/app.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/app.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","patch":"@@
        -2,4 +2,4 @@\n ''use strict'';\n \n var server = require(''./server'');\n-server.start({
        port: 3000 });\n\\ No newline at end of file\n+server.start({ port: process.env.PORT
        || 3000 });\n\\ No newline at end of file"},{"sha":"9974e710f45c6ba336ea3d259e9e6ca02d16e394","filename":"bower.json","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/bower.json","raw_url":"https://github.com/juice-shop/juice-shop/raw/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/bower.json","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/bower.json?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","patch":"@@
        -1,7 +1,7 @@\n {\n     \"name\": \"juice-shop\",\n     \"description\": \"An
        intentionally insecure RIA suitable for pentesting and security awareness
        trainings written in Node, Express and Angular.\",\n-    \"version\": \"0.3.2\",\n+    \"version\":
        \"1.0.0\",\n     \"private\": true,\n     \"dependencies\": {\n         \"angular\":
        \"~1.2\",\n@@ -15,7 +15,7 @@\n         \"bootstrap\": \"~3.2\",\n         \"jquery\":
        \"~2.1\",\n         \"underscore\": \"~1.7\",\n-        \"string\": \"~2.1\",\n+        \"string\":
        \"~2.2\",\n         \"moment\": \"~2.8\",\n         \"github-fork-ribbon-css\":
        \"~0.1\"\n     }"},{"sha":"138c665e02d87766ec09791baf1162003f9fd25d","filename":"karma.conf-ci.js","status":"modified","additions":11,"deletions":0,"changes":11,"blob_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/karma.conf-ci.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/karma.conf-ci.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/karma.conf-ci.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","patch":"@@
        -32,6 +32,12 @@ module.exports = function (config) {\n             browserName:
        ''internet explorer'',\n             platform: ''Windows 7'',\n             version:
        ''9''\n+        },\n+        sl_safari: {\n+            base: ''SauceLabs'',\n+            browserName:
        ''safari'',\n+            platform: ''OS X 10.9'',\n+            version:
        ''7''\n         }\n     };\n \n@@ -58,6 +64,11 @@ module.exports = function
        (config) {\n             recordScreenshots: false\n         },\n \n+        browserDisconnectTimeout
        : 10000,\n+        browserDisconnectTolerance : 1,\n+        browserNoActivityTimeout
        : 4*60*1000,\n+        captureTimeout : 4*60*1000,\n+\n         colors: true,\n         singleRun:
        true,\n "},{"sha":"486bccf592f702ca8df6a7300b3c62a9180d3ac5","filename":"lib/datacache.js","status":"added","additions":9,"deletions":0,"changes":9,"blob_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/lib%2Fdatacache.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/lib%2Fdatacache.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/lib%2Fdatacache.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","patch":"@@
        -0,0 +1,9 @@\n+/*jslint node: true */\n+''use strict'';\n+\n+exports.challenges
        = {};\n+exports.users = {};\n+exports.products = {};\n+exports.feedback =
        {};\n+exports.baskets = {};\n+exports.basketItems = {};\n\\ No newline at
        end of file"},{"sha":"3996b9e8d47cc3d32356423a48618762a86bf12e","filename":"lib/datacreator.js","status":"added","additions":304,"deletions":0,"changes":304,"blob_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/lib%2Fdatacreator.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/lib%2Fdatacreator.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/lib%2Fdatacreator.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","patch":"@@
        -0,0 +1,304 @@\n+/*jslint node: true */\n+''use strict'';\n+\n+var models
        = require(''../models''),\n+    datacache = require(''./datacache''),\n+    challenges
        = datacache.challenges,\n+    users = datacache.users,\n+    products = datacache.products;\n+\n+module.exports
        = function() {\n+\n+    createChallenges();\n+    createUsers();\n+    createProducts();\n+    createBaskets();\n+    createFeedback();\n+\n+    function
        createChallenges() {\n+        models.Challenge.create({\n+            description:
        ''Find the carefully hidden \\''Score Board\\'' page.'',\n+            solved:
        false\n+        }).success(function (challenge) {\n+            challenges.scoreBoardChallenge
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        ''Provoke an error that is not very gracefully handled.'',\n+            solved:
        false\n+        }).success(function (challenge) {\n+            challenges.errorHandlingChallenge
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        ''Log in with the administrator\\''s user account.'',\n+            solved:
        false\n+        }).success(function (challenge) {\n+            challenges.loginAdminChallenge
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        ''Log in with Jim\\''s user account.'',\n+            solved: false\n+        }).success(function
        (challenge) {\n+            challenges.loginJimChallenge = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        ''Log in with Bender\\''s user account.'',\n+            solved: false\n+        }).success(function
        (challenge) {\n+            challenges.loginBenderChallenge = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        ''XSS Tier 1: Perform a <i>reflected</i> XSS attack with &lt;script&gt;alert(\"XSS1\")&lt;/script&gt;.'',\n+            solved:
        false\n+        }).success(function (challenge) {\n+            challenges.localXssChallenge
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        ''XSS Tier 2: Perform a <i>persisted</i> XSS attack with &lt;script&gt;alert(\"XSS2\")&lt;/script&gt;
        bypassing a <i>client-side</i> security mechanism.'',\n+            solved:
        false\n+        }).success(function (challenge) {\n+            challenges.persistedXssChallengeUser
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        ''XSS Tier 3: Perform a <i>persisted</i> XSS attack with &lt;script&gt;alert(\"XSS3\")&lt;/script&gt;
        bypassing a <i>server-side</i> security mechanism.'',\n+            solved:
        false\n+        }).success(function (challenge) {\n+            challenges.persistedXssChallengeFeedback
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        ''XSS Tier 4: Perform a <i>persisted</i> XSS attack with &lt;script&gt;alert(\"XSS4\")&lt;/script&gt;
        without using the frontend application at all.'',\n+            solved: false\n+        }).success(function
        (challenge) {\n+            challenges.restfulXssChallenge = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        ''Retrieve a list of all user credentials via SQL Injection'',\n+            solved:
        false\n+        }).success(function (challenge) {\n+            challenges.unionSqlInjectionChallenge
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        ''Log in with the administrator\\''s user credentials without previously changing
        them or applying SQL Injection.'',\n+            solved: false\n+        }).success(function
        (challenge) {\n+            challenges.weakPasswordChallenge = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        ''Get rid of all 5-star customer feedback.'',\n+            solved: false\n+        }).success(function
        (challenge) {\n+            challenges.feedbackChallenge = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        ''Post some feedback in another users name.'',\n+            solved: false\n+        }).success(function
        (challenge) {\n+            challenges.forgedFeedbackChallenge = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        ''Wherever you go, there you are.'',\n+            solved: false\n+        }).success(function
        (challenge) {\n+            challenges.redirectChallenge = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        ''Access someone else\\''s basket.'',\n+            solved: false\n+        }).success(function
        (challenge) {\n+            challenges.basketChallenge = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        ''Place an order that makes you rich.'',\n+            solved: false\n+        }).success(function
        (challenge) {\n+            challenges.negativeOrderChallenge = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        ''Access a confidential document.'',\n+            solved: false\n+        }).success(function
        (challenge) {\n+            challenges.directoryListingChallenge = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        ''Access the administration section of the store.'',\n+            solved:
        false\n+        }).success(function (challenge) {\n+            challenges.adminSectionChallenge
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        ''Change Bender\\''s password into <i>slurmCl4ssic</i>.'',\n+            solved:
        false\n+        }).success(function (challenge) {\n+            challenges.csrfChallenge
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        ''Change the link in the description of the <a href=\"/#/search?q=O-Saft\">O-Saft
        product</a> to <i>http://kimminich.de</i>.'',\n+            solved: false\n+        }).success(function
        (challenge) {\n+            challenges.changeProductChallenge = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        ''<a href=\"/#/contact\">Inform the shop</a> about a vulnerable library it
        is using. (Mention the exact library name and version in your complaint.)'',\n+            solved:
        false\n+        }).success(function (challenge) {\n+            challenges.knownVulnerableComponentChallenge
        = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        ''Find the hidden <a href=\"http://en.wikipedia.org/wiki/Easter_egg_(media)\"
        target=\"_blank\">easter egg</a>.'',\n+            solved: false\n+        }).success(function
        (challenge) {\n+            challenges.easterEggLevelOneChallenge = challenge;\n+        });\n+        models.Challenge.create({\n+            description:
        ''Apply some advanced cryptanalysis to find <i>the real</i> easter egg.'',\n+            solved:
        false\n+        }).success(function (challenge) {\n+            challenges.easterEggLevelTwoChallenge
        = challenge;\n+        });\n+    }\n+    function createUsers() {\n+        models.User.create({\n+            email:
        ''admin@juice-sh.op'',\n+            password: ''admin123''\n+        });\n+        models.User.create({\n+            email:
        ''jim@juice-sh.op'',\n+            password: ''ncc-1701''\n+        });\n+        models.User.create({\n+            email:
        ''bender@juice-sh.op'',\n+            password: ''booze''\n+        }).success(function
        (user) {\n+            users.bender = user;\n+        });\n+    }\n+\n+    function
        createProducts() {\n+        models.Product.create({\n+            name: ''Apple
        Juice (1000ml)'',\n+            description: ''The all-time classic.'',\n+            price:
        1.99,\n+            image: ''apple_juice.jpg''\n+        });\n+        models.Product.create({\n+            name:
        ''Orange Juice (1000ml)'',\n+            description: ''Made from oranges
        hand-picked by Uncle Dittmeyer.'',\n+            price: 2.99,\n+            image:
        ''orange_juice.jpg''\n+        });\n+        models.Product.create({\n+            name:
        ''Eggfruit Juice (500ml)'',\n+            description: ''Now with even more
        exotic flavour.'',\n+            price: 8.99,\n+            image: ''eggfruit_juice.jpg''\n+        });\n+        models.Product.create({\n+            name:
        ''Raspberry Juice (1000ml)'',\n+            description: ''Made from blended
        Raspberry Pi, water and sugar.'',\n+            price: 4.99,\n+            image:
        ''raspberry_juice.jpg''\n+        });\n+        models.Product.create({\n+            name:
        ''Lemon Juice (500ml)'',\n+            description: ''Sour but full of vitamins.'',\n+            price:
        2.99,\n+            image: ''lemon_juice.jpg''\n+        });\n+        models.Product.create({\n+            name:
        ''Banana Juice (1000ml)'',\n+            description: ''Monkeys love it the
        most.'',\n+            price: 1.99,\n+            image: ''banana_juice.jpg''\n+        });\n+        models.Product.create({\n+            name:
        ''Lemon Juice (500ml)'',\n+            description: ''Sour but full of vitamins.'',\n+            price:
        2.99,\n+            image: ''lemon_juice.jpg''\n+        });\n+        models.Product.create({\n+            name:
        ''Juice Shop T-Shirt (3XL)'',\n+            description: ''Real fans wear
        it 24/7!'',\n+            price: 24.99,\n+            image: ''fan_shirt.jpg''\n+        });\n+        models.Product.create({\n+            name:
        ''OWASP SSL Advanced Forensic Tool (O-Saft)'',\n+            description:
        ''O-Saft is an easy to use tool to show information about SSL certificate
        and tests the SSL connection according given list of ciphers and various SSL
        configurations. <a href=\"https://www.owasp.org/index.php/O-Saft\" target=\"_blank\">More...</a>'',\n+            price:
        0.01,\n+            image: ''owasp_osaft.jpg''\n+        }).success(function
        (product) {\n+            products.osaft = product;\n+        });\n+    }\n+\n+    function
        createBaskets() {\n+        models.Basket.create({\n+            UserId: 1\n+        });\n+        models.Basket.create({\n+            UserId:
        2\n+        });\n+        models.Basket.create({\n+            UserId: 3\n+        });\n+        models.BasketItem.create({\n+            BasketId:
        1,\n+            ProductId: 1,\n+            quantity: 2\n+        });\n+        models.BasketItem.create({\n+            BasketId:
        1,\n+            ProductId: 2,\n+            quantity: 3\n+        });\n+        models.BasketItem.create({\n+            BasketId:
        1,\n+            ProductId: 3,\n+            quantity: 1\n+        });\n+        models.BasketItem.create({\n+            BasketId:
        2,\n+            ProductId: 4,\n+            quantity: 2\n+        });\n+        models.BasketItem.create({\n+            BasketId:
        3,\n+            ProductId: 5,\n+            quantity: 1\n+        });\n+    }\n+\n+    function
        createFeedback() {\n+        models.Feedback.create({\n+            UserId:
        1,\n+            comment: ''I love this shop! Best juice in town! Highly recommended!'',\n+            rating:
        5\n+        });\n+        models.Feedback.create({\n+            UserId: 2,\n+            comment:
        ''Great shop! The O-Saft is highly recommended!'',\n+            rating: 4\n+        });\n+        models.Feedback.create({\n+            comment:
        ''Why isn\\''t there a T-Shirt for skinny people available?!'',\n+            rating:
        2\n+        });\n+        models.Feedback.create({\n+            comment:
        ''This is <b>the</b> store for juices of all kinds!'',\n+            rating:
        4\n+        });\n+        models.Feedback.create({\n+            comment:
        ''Never gonna buy my juice anywhere else from now on! Thanks for the great
        service!'',\n+            rating: 4\n+        });\n+        models.Feedback.create({\n+            comment:
        ''Keep up the good work!'',\n+            rating: 3\n+        });\n+        models.Feedback.create({\n+            UserId:
        3,\n+            comment: ''No real drinks available here!'',\n+            rating:
        1\n+        });\n+    }\n+};\n\\ No newline at end of file"},{"sha":"b18be69d76c6274b2bf972de5067cd0c95baff90","filename":"lib/utils.js","status":"modified","additions":11,"deletions":0,"changes":11,"blob_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/lib%2Futils.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/lib%2Futils.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/lib%2Futils.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","patch":"@@
        -50,4 +50,15 @@ exports.version = function(module) {\n     } else {\n         return
        packageJson.version;\n     }\n+};\n+\n+exports.solve = function(challenge)
        {\n+    challenge.solved = true;\n+    challenge.save().success(function()
        {\n+        console.log(''Solved challenge \"'' + challenge.description +
        ''\"'');\n+    });\n+};\n+\n+exports.notSolved = function(challenge) {\n+    return
        challenge && !challenge.solved;\n };\n\\ No newline at end of file"},{"sha":"56f76077f3f448478b7d02e9462b2d73d412ada7","filename":"middleware.js","status":"added","additions":324,"deletions":0,"changes":324,"blob_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/middleware.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/middleware.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/middleware.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","patch":"@@
        -0,0 +1,324 @@\n+/*jslint node: true */\n+''use strict'';\n+\n+var fs = require(''fs''),\n+    PDFDocument
        = require(''pdfkit''),\n+    utils = require(''./lib/utils''),\n+    insecurity
        = require(''./lib/insecurity''),\n+    models = require(''./models''),\n+    cache
        = require(''./lib/datacache''),\n+    challenges = cache.challenges;\n+\n+exports.verifyForgedFeedbackChallenge
        = function() {\n+    return function(req, res, next) {\n+        if (utils.notSolved(challenges.forgedFeedbackChallenge))
        {\n+            var user = insecurity.authenticatedUsers.from(req);\n+            var
        userId = user ? user.data.id : undefined;\n+            if (req.body.UserId
        && req.body.UserId != userId) {\n+                utils.solve(challenges.forgedFeedbackChallenge);\n+            }\n+        }\n+        next();\n+    };\n+};\n+\n+exports.verifyAccessControlChallenges
        = function() {\n+    return function (req, res, next) {\n+        if (utils.notSolved(challenges.scoreBoardChallenge)
        && utils.endsWith(req.url, ''/scoreboard.png'')) {\n+            utils.solve(challenges.scoreBoardChallenge);\n+        }
        else if (utils.notSolved(challenges.adminSectionChallenge) && utils.endsWith(req.url,
        ''/administration.png'')) {\n+            utils.solve(challenges.adminSectionChallenge);\n+        }\n+        next();\n+    };\n+};\n+\n+exports.retrieveLoggedInUsersId
        = function() {\n+    return function (req, res) {\n+        var user = insecurity.authenticatedUsers.from(req);\n+        res.json({id:
        (user ? user.data.id : undefined), email: (user ? user.data.email : undefined)});\n+    };\n+};\n+\n+exports.retrieveAppVersion
        = function() {\n+    return function (req, res) {\n+        res.json({version:
        utils.version()});\n+    };\n+};\n+\n+exports.serveAngularClient = function()
        {\n+    return function (req, res, next) {\n+        if (!utils.startsWith(req.url,
        ''/api'') && !utils.startsWith(req.url, ''/rest'')) {\n+            res.sendFile(__dirname
        + ''/app/index.html'');\n+        } else {\n+            next(new Error(''Unexpected
        path: '' + req.url));\n+        }\n+    };\n+};\n+\n+exports.verifyErrorHandlingChallenge
        = function() {\n+    return function (err, req, res, next) {\n+        if
        (utils.notSolved(challenges.errorHandlingChallenge) && err && res.statusCode
        > 401) {\n+            utils.solve(challenges.errorHandlingChallenge);\n+        }\n+        next(err);\n+    };\n+};\n+\n+exports.serveEasterEgg
        = function() {\n+    return function (req, res) {\n+        if (utils.notSolved(challenges.easterEggLevelTwoChallenge))
        {\n+            utils.solve(challenges.easterEggLevelTwoChallenge);\n+        }\n+        res.sendFile(__dirname
        + ''/app/private/threejs-demo.html'');\n+    };\n+};\n+\n+exports.performRedirect
        = function() {\n+    return function(req, res) {\n+        var to = req.query.to;\n+        var
        githubUrl = ''https://github.com/bkimminich/juice-shop'';\n+        if (to.indexOf(githubUrl)
        > -1) {\n+            if (utils.notSolved(challenges.redirectChallenge) &&
        to !== githubUrl) { // TODO Instead match against something like <anotherUrl>[?&]=githubUrl\n+                utils.solve(challenges.redirectChallenge);\n+            }\n+            res.redirect(to);\n+        }
        else {\n+            res.redirect(githubUrl);\n+        }\n+    };\n+};\n+\n+exports.retrieveBasket
        = function() {\n+    return function(req, res, next){\n+        var id = req.params.id;\n+        models.Basket.find({where:
        {id: id}, include: [ models.Product ]})\n+            .success(function(basket)
        {\n+                if (utils.notSolved(challenges.basketChallenge)) {\n+                    var
        user = insecurity.authenticatedUsers.from(req);\n+                    if (user
        && user.bid != id) {\n+                        utils.solve(challenges.basketChallenge);\n+                    }\n+                }\n+                res.json(utils.queryResultToJson(basket));\n+            }).error(function
        (error) {\n+                next(error);\n+            });\n+    };\n+};\n+\n+exports.retrieveUserList
        = function() {\n+    return function(req, res, next){\n+        models.User.findAll().success(function(users)
        {\n+            var usersWithLoginStatus = utils.queryResultToJson(users);\n+            usersWithLoginStatus.data.forEach(function(user)
        {\n+                user.token = insecurity.authenticatedUsers.tokenOf(user);\n+            });\n+            res.json(usersWithLoginStatus);\n+        }).error(function
        (error) {\n+            next(error);\n+        });\n+    };\n+};\n+\n+exports.createOrderPdf
        = function() {\n+    return function(req, res, next){\n+        var id = req.params.id;\n+        models.Basket.find({where:
        {id: id}, include: [ models.Product ]})\n+            .success(function(basket)
        {\n+                if (basket) {\n+                    var customer = insecurity.authenticatedUsers.from(req);\n+                    var
        orderNo = insecurity.hash(new Date()+''_''+id);\n+                    var
        pdfFile = ''order_'' + orderNo + ''.pdf'';\n+                    var doc =
        new PDFDocument();\n+                    var fileWriter = doc.pipe(fs.createWriteStream(__dirname
        + ''/app/public/ftp/'' + pdfFile));\n+\n+                    doc.text(''Juice-Shop
        - Order Confirmation'');\n+                    doc.moveDown();\n+                    doc.moveDown();\n+                    doc.moveDown();\n+                    doc.text(''Customer:
        '' + (customer ? customer.data ? customer.data.email : undefined : undefined));\n+                    doc.moveDown();\n+                    doc.text(''Order
        #: '' + orderNo);\n+                    doc.moveDown();\n+                    doc.moveDown();\n+                    var
        totalPrice = 0;\n+                    basket.products.forEach(function(product)
        {\n+                        var itemTotal = product.price*product.basketItem.quantity;\n+                        doc.text(product.basketItem.quantity
        + ''x '' + product.name + '' ea. '' + product.price + '' = '' + itemTotal);\n+                        doc.moveDown();\n+                        totalPrice
        += itemTotal;\n+                    });\n+                    doc.moveDown();\n+                    doc.text(''Total
        Price: '' + totalPrice);\n+                    doc.moveDown();\n+                    doc.moveDown();\n+                    doc.text(''Thank
        you for your order!'');\n+                    doc.end();\n+\n+                    if
        (utils.notSolved(challenges.negativeOrderChallenge) && totalPrice < 0) {\n+                        utils.solve(challenges.negativeOrderChallenge);\n+                    }\n+\n+                    fileWriter.on(''finish'',
        function() {\n+                        models.BasketItem.destroy({BasketId:
        id});\n+                        res.send(''/public/ftp/'' + pdfFile);\n+                    });\n+                }
        else {\n+                    next(new Error(''Basket with id='' + id + ''
        does not exist.''));\n+                }\n+            }).error(function (error)
        {\n+                next(error);\n+            });\n+    };\n+};\n+\n+exports.searchProducts
        = function() {\n+    return function(req, res, next){\n+        var criteria
        = req.query.q === ''undefined'' ? '''' : req.query.q || '''';\n+        if
        (utils.notSolved(challenges.localXssChallenge) && utils.contains(criteria,
        ''<script>alert(\"XSS1\")</script>'')) {\n+            utils.solve(challenges.localXssChallenge);\n+        }\n+        models.sequelize.query(''SELECT
        * FROM Products WHERE (name LIKE \\''%'' + criteria + ''%\\'') OR (description
        LIKE \\''%'' + criteria + ''%\\'')'')\n+            .success(function(products)
        {\n+                if (utils.notSolved(challenges.unionSqlInjectionChallenge))
        {\n+                    var dataString = JSON.stringify(products);\n+                    var
        solved = true;\n+                    models.User.findAll().success(function(data)
        {\n+                        var users = utils.queryResultToJson(data);\n+                        if
        (users.data && users.data.length) {\n+                            for (var
        i=0; i<users.data.length; i++) {\n+                                utils.solved
        = utils.solved && utils.contains(dataString, users.data[i].email) && utils.contains(dataString,
        users.data[i].password);\n+                                if (!solved) {\n+                                    break;\n+                                }\n+                            }\n+                            if
        (solved) {\n+                                utils.solve(challenges.unionSqlInjectionChallenge);\n+                            }\n+                        }\n+                    });\n+                }\n+                res.json(utils.queryResultToJson(products));\n+            }).error(function
        (error) {\n+                next(error);\n+            });\n+    };\n+};\n+\n+exports.changePassword
        = function() {\n+    return function(req, res, next){\n+        var password
        = req.query.new;\n+        var repeatPassword = req.query.repeat;\n+        if
        (!password || password === ''undefined'') {\n+            res.status(401).send(''Password
        cannot be empty.'');\n+        } else if (password !== repeatPassword) {\n+            res.status(401).send(''New
        and repeated password do not match.'');\n+        } else {\n+            var
        loggedInUser = insecurity.authenticatedUsers.get(req.cookies.token);\n+            if
        (loggedInUser) {\n+                models.User.find(loggedInUser.data.id).success(function(user)
        {\n+                    user.updateAttributes({password: password}).success(function(user)
        {\n+                        res.send(user);\n+                    }).error(function(error)
        {\n+                        next(error);\n+                    });\n+                }).error(function(error)
        {\n+                    next(error);\n+                });\n+            }
        else {\n+                next(new Error(''Blocked illegal activity by '' +
        req.connection.remoteAddress));\n+            }\n+        }\n+    };\n+};\n+\n+exports.loginUser
        = function() {\n+    return function(req, res, next){\n+        if (utils.notSolved(challenges.weakPasswordChallenge)
        && req.body.email === ''admin@juice-sh.op'' && req.body.password === ''admin123'')
        {\n+            utils.solve(challenges.weakPasswordChallenge);\n+        }\n+        models.sequelize.query(''SELECT
        * FROM Users WHERE email = \\'''' + (req.body.email || '''') + ''\\'' AND
        password = \\'''' + insecurity.hash(req.body.password || '''') + ''\\'''',
        models.User, {plain: true})\n+            .success(function(authenticatedUser)
        {\n+                var user = utils.queryResultToJson(authenticatedUser);\n+                if
        (user.data && user.data.id) {\n+                    if (utils.notSolved(challenges.loginAdminChallenge)
        && user.data.id === 1) {\n+                        utils.solve(challenges.loginAdminChallenge);\n+                    }
        else if (utils.notSolved(challenges.loginJimChallenge) && user.data.id ===
        2) {\n+                        utils.solve(challenges.loginJimChallenge);\n+                    }
        else if  (utils.notSolved(challenges.loginBenderChallenge) && user.data.id
        === 3) {\n+                        utils.solve(challenges.loginBenderChallenge);\n+                    }\n+                    models.Basket.findOrCreate({UserId:
        user.data.id}).success(function(basket) {\n+                        var token
        = insecurity.authorize(user);\n+                        user.bid = basket.id;
        // keep track of original basket for challenge solution check\n+                        insecurity.authenticatedUsers.put(token,
        user);\n+                        res.json({ token: token, bid: basket.id });\n+                    }).error(function
        (error) {\n+                        next(error);\n+                    });\n+                }
        else {\n+                    res.status(401).send(''Invalid email or password.'');\n+                }\n+            }).error(function
        (error) {\n+                next(error);\n+            });\n+    };\n+};\n+\n+exports.serveFiles
        = function() {\n+    return function(req, res, next) {\n+        var file
        = req.params.file;\n+        if (file && (utils.endsWith(file, ''.md'') ||
        (utils.endsWith(file, ''.pdf'')))) {\n+            file = insecurity.cutOffPoisonNullByte(file);\n+            if
        (utils.notSolved(challenges.easterEggLevelOneChallenge) && file.toLowerCase()
        === ''eastere.gg'') {\n+                utils.solve(challenges.easterEggLevelOneChallenge);\n+            }
        else if (utils.notSolved(challenges.directoryListingChallenge) && file.toLowerCase()
        === ''acquisitions.md'') {\n+                utils.solve(challenges.directoryListingChallenge);\n+            }\n+            res.sendFile(__dirname
        + ''/app/public/ftp/'' + file);\n+        } else {\n+            res.status(403);\n+            next(new
        Error(''Only .md and .pdf files are allowed!''));\n+        }\n+    };\n+};\n+\n+exports.verifyDatabaseRelatedChallenges
        = function() {\n+    return function (req, res, next) {\n+        if (utils.notSolved(challenges.changeProductChallenge)
        && cache.products.osaft) {\n+            cache.products.osaft.reload().success(function
        () {\n+                if (!utils.contains(cache.products.osaft.description,
        ''<a href=\"https://www.owasp.org/index.php/O-Saft\" target=\"_blank\">''))
        {\n+                    if (utils.contains(cache.products.osaft.description,
        ''<a href=\"http://kimminich.de\" target=\"_blank\">'')) {\n+                        utils.solve(challenges.changeProductChallenge);\n+                    }\n+                }\n+            });\n+        }\n+        if
        (utils.notSolved(challenges.csrfChallenge) && cache.users.bender) {\n+            cache.users.bender.reload().success(function()
        {\n+                if (cache.users.bender.password === insecurity.hash(''slurmCl4ssic''))
        {\n+                    utils.solve(challenges.csrfChallenge);\n+                }\n+            });\n+        }\n+        if
        (utils.notSolved(challenges.feedbackChallenge)) {\n+            models.Feedback.findAndCountAll({where:
        {rating: 5}}).success(function (feedbacks) {\n+                if (feedbacks.count
        === 0) {\n+                    utils.solve(challenges.feedbackChallenge);\n+                }\n+            });\n+        }\n+        if
        (utils.notSolved(challenges.knownVulnerableComponentChallenge)) {\n+            models.Feedback.findAndCountAll({where:
        models.Sequelize.or(\n+                    models.Sequelize.and([''comment
        LIKE \\''%sanitize-html%\\''''], [''comment LIKE \\''%1.4.2%\\'''']),\n+                    models.Sequelize.and([''comment
        LIKE \\''%htmlparser2%\\''''], [''comment LIKE \\''%3.3.0%\\'''']) ) }\n+            ).success(function
        (data) {\n+                    if (data.count > 0) {\n+                        utils.solve(challenges.knownVulnerableComponentChallenge);\n+                    }\n+                });\n+        }\n+        next();\n+    };\n+};"},{"sha":"ea1a12aeb42afc17f3e3f240257863ad49ef319c","filename":"models/basket.js","status":"added","additions":15,"deletions":0,"changes":15,"blob_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models%2Fbasket.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models%2Fbasket.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/models%2Fbasket.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","patch":"@@
        -0,0 +1,15 @@\n+/*jslint node: true */\n+''use strict'';\n+\n+module.exports
        = function (sequelize) {\n+    var Basket = sequelize.define(''Basket'', {\n+        },\n+        {\n+            classMethods:
        {\n+                associate: function (models) {\n+                    Basket.belongsTo(models.User);\n+                    Basket.hasMany(models.Product,
        {through: models.BasketItem});\n+                }}}\n+    );\n+    return
        Basket;\n+};\n\\ No newline at end of file"},{"sha":"8704c7de8e364ca6747499d163f871ce2d44686d","filename":"models/basketitem.js","status":"added","additions":15,"deletions":0,"changes":15,"blob_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models%2Fbasketitem.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models%2Fbasketitem.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/models%2Fbasketitem.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","patch":"@@
        -0,0 +1,15 @@\n+/*jslint node: true */\n+''use strict'';\n+\n+module.exports
        = function (sequelize, DataTypes) {\n+    var BasketItem = sequelize.define(''BasketItem'',
        {\n+            id: {\n+                type: DataTypes.INTEGER,\n+                primaryKey:
        true,\n+                autoIncrement: true\n+            },\n+            quantity:
        DataTypes.INTEGER\n+        }\n+    );\n+    return BasketItem;\n+};\n\\ No
        newline at end of file"},{"sha":"c080214a1054fefa3256d1a6e7f1dfdd6a4f2339","filename":"models/challenge.js","status":"added","additions":10,"deletions":0,"changes":10,"blob_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models%2Fchallenge.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models%2Fchallenge.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/models%2Fchallenge.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","patch":"@@
        -0,0 +1,10 @@\n+/*jslint node: true */\n+''use strict'';\n+\n+module.exports
        = function (sequelize, DataTypes) {\n+    var Challenge = sequelize.define(''Challenge'',
        {\n+        description: DataTypes.STRING,\n+        solved: DataTypes.BOOLEAN\n+    });\n+    return
        Challenge;\n+};\n\\ No newline at end of file"},{"sha":"fc3eb238c647ec59769e274833d743c1b8fb6c7f","filename":"models/feedback.js","status":"added","additions":37,"deletions":0,"changes":37,"blob_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models%2Ffeedback.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models%2Ffeedback.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/models%2Ffeedback.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","patch":"@@
        -0,0 +1,37 @@\n+/*jslint node: true */\n+''use strict'';\n+\n+var insecurity
        = require(''../lib/insecurity''),\n+    utils = require(''../lib/utils''),\n+    challenges
        = require(''../lib/datacache'').challenges;\n+\n+module.exports = function
        (sequelize, DataTypes) {\n+    var Feedback = sequelize.define(''Feedback'',
        {\n+            comment: DataTypes.STRING,\n+            rating: DataTypes.INTEGER\n+        },\n+        {\n+            classMethods:
        {\n+                associate: function (models) {\n+                    Feedback.belongsTo(models.User);\n+                }},\n+\n+            hooks:
        {\n+                beforeCreate: function (feedback, fn) {\n+                    htmlSanitizationHook(feedback);\n+                    fn(null,
        feedback);\n+                },\n+                beforeUpdate: function (feedback,
        fn) {\n+                    htmlSanitizationHook(feedback);\n+                    fn(null,
        feedback);\n+                }\n+            }});\n+    return Feedback;\n+};\n+\n+function
        htmlSanitizationHook(feedback) {\n+    feedback.comment = insecurity.sanitizeHtml(feedback.comment);\n+    if
        (utils.notSolved(challenges.persistedXssChallengeFeedback) && utils.contains(feedback.comment,
        ''<script>alert(\"XSS3\")</script>'')) {\n+        utils.solve(challenges.persistedXssChallengeFeedback);\n+    }\n+}\n\\
        No newline at end of file"},{"sha":"2a4032cedb2bad2f7d2438d63c2656ae1ba1ae0d","filename":"models/index.js","status":"added","additions":31,"deletions":0,"changes":31,"blob_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models%2Findex.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models%2Findex.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/models%2Findex.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","patch":"@@
        -0,0 +1,31 @@\n+/*jslint node: true */\n+''use strict'';\n+\n+var fs = require(''fs''),\n+    path
        = require(''path''),\n+    Sequelize = require(''sequelize''),\n+    sequelize
        = new Sequelize(''database'', ''username'', ''password'', {\n+        dialect:
        ''sqlite'',\n+        storage: ''data/juiceshop.sqlite''\n+    }),\n+    db
        = {};\n+\n+fs.readdirSync(__dirname)\n+    .filter(function (file) {\n+        return
        (file.indexOf(''.'') !== 0) && (file !== ''index.js'');\n+    })\n+    .forEach(function
        (file) {\n+        var model = sequelize[''import''](path.join(__dirname,
        file));\n+        db[model.name] = model;\n+    });\n+\n+Object.keys(db).forEach(function
        (modelName) {\n+    if (''associate'' in db[modelName]) {\n+        db[modelName].associate(db);\n+    }\n+});\n+\n+db.sequelize
        = sequelize;\n+db.Sequelize = Sequelize;\n+\n+module.exports = db;\n\\ No
        newline at end of file"},{"sha":"308cdcda0ac54f903f57fcdc1bbe3d4c860ffa22","filename":"models/product.js","status":"added","additions":37,"deletions":0,"changes":37,"blob_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models%2Fproduct.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models%2Fproduct.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/models%2Fproduct.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","patch":"@@
        -0,0 +1,37 @@\n+/*jslint node: true */\n+''use strict'';\n+\n+var utils =
        require(''../lib/utils''),\n+    challenges = require(''../lib/datacache'').challenges;\n+\n+\n+module.exports
        = function (sequelize, DataTypes) {\n+    var Product = sequelize.define(''Product'',
        {\n+            name: DataTypes.STRING,\n+            description: DataTypes.STRING,\n+            price:
        DataTypes.DECIMAL,\n+            image: DataTypes.STRING\n+        }, {\n+            classMethods:
        {\n+                associate: function (models) {\n+                    Product.hasMany(models.Basket,
        {through: models.BasketItem});\n+                }},\n+\n+            hooks:
        {\n+                beforeCreate: function (product, fn) {\n+                    xssChallengeProductHook(product);\n+                    fn(null,
        product);\n+                },\n+                beforeUpdate: function (product,
        fn) {\n+                    xssChallengeProductHook(product);\n+                    fn(null,
        product);\n+                }\n+            }});\n+    return Product;\n+};\n+\n+function
        xssChallengeProductHook(product) {\n+     if (utils.notSolved(challenges.restfulXssChallenge)
        && utils.contains(product.description, ''<script>alert(\"XSS4\")</script>''))
        {\n+         utils.solve(challenges.restfulXssChallenge);\n+     }\n+}\n\\
        No newline at end of file"},{"sha":"458e01bfab6a21b093804487750b06bf962a315c","filename":"models/user.js","status":"added","additions":37,"deletions":0,"changes":37,"blob_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models%2Fuser.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models%2Fuser.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/models%2Fuser.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","patch":"@@
        -0,0 +1,37 @@\n+/*jslint node: true */\n+''use strict'';\n+\n+var insecurity
        = require(''../lib/insecurity''),\n+    utils = require(''../lib/utils''),\n+    challenges
        = require(''../lib/datacache'').challenges;\n+\n+module.exports = function
        (sequelize, DataTypes) {\n+    var User = sequelize.define(''User'', {\n+            email:
        DataTypes.STRING,\n+            password: DataTypes.STRING\n+        },\n+        {\n+            hooks:
        {\n+                beforeCreate: function (user, fn) {\n+                    hashPasswordHook(user);\n+                    xssChallengeUserHook(user);\n+                    fn(null,
        user);\n+                },\n+                beforeUpdate: function (user,
        fn) { // Pitfall: Will hash the hashed password again if password was not
        updated!\n+                    hashPasswordHook(user);\n+                    fn(null,
        user);\n+                }\n+            }}\n+    );\n+    return User;\n+};\n+\n+function
        hashPasswordHook(user) {\n+    user.password = insecurity.hash(user.password);\n+}\n+\n+function
        xssChallengeUserHook(user) {\n+    if (utils.notSolved(challenges.persistedXssChallengeUser)
        && utils.contains(user.email, ''<script>alert(\"XSS2\")</script>'')) {\n+        utils.solve(challenges.persistedXssChallengeUser);\n+    }\n+}\n\\
        No newline at end of file"},{"sha":"25e7915e539514d61668abb65f3775bc760c2426","filename":"package.json","status":"modified","additions":2,"deletions":2,"changes":4,"blob_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/package.json","raw_url":"https://github.com/juice-shop/juice-shop/raw/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/package.json","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/package.json?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","patch":"@@
        -1,6 +1,6 @@\n {\n     \"name\": \"juice-shop\",\n-    \"version\": \"0.3.2\",\n+    \"version\":
        \"1.0.0\",\n     \"description\": \"An intentionally insecure RIA suitable
        for pentesting and security awareness trainings written in Node, Express and
        Angular.\",\n     \"author\": \"Bjoern Kimminich\",\n     \"contributors\":
        [\n@@ -24,7 +24,7 @@\n     \"dependencies\": {\n         \"sequelize\": \"~1.7\",\n         \"sqlite3\":
        \"~3.0\",\n-        \"express\": \"~4.9\",\n+        \"express\": \"~4.10\",\n         \"errorhandler\":
        \"~1.2\",\n         \"cookie-parser\": \"~1.3\",\n         \"serve-index\":
        \"~1.5\","},{"sha":"8c92f051c4c4a76d42f5cd02fa657ca4b27cc228","filename":"server.js","status":"modified","additions":31,"deletions":740,"changes":771,"blob_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/server.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/server.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/server.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","patch":"@@
        -5,21 +5,18 @@ var application_root = __dirname.replace(/\\\\/g, ''/''),\n     fs
        = require(''fs''),\n     glob = require(''glob''),\n     morgan = require(''morgan''),\n-    Sequelize
        = require(''sequelize''),\n-    sequelize = new Sequelize(''database'', ''username'',
        ''password'', {\n-        dialect: ''sqlite'',\n-        storage: ''data/juiceshop.sqlite''\n-    }),\n     restful
        = require(''sequelize-restful''),\n     express = require(''express''),\n     errorhandler
        = require(''errorhandler''),\n     cookieParser = require(''cookie-parser''),\n     serveIndex
        = require(''serve-index''),\n     favicon = require(''serve-favicon''),\n     bodyParser
        = require(''body-parser''),\n-    PDFDocument = require(''pdfkit''),\n+    middleware
        = require(''./middleware''),\n     utils = require(''./lib/utils''),\n     insecurity
        = require(''./lib/insecurity''),\n+    models = require(''./models''),\n+    datacreator
        = require(\"./lib/datacreator\"),\n     app = express();\n \n errorhandler.title
        = ''Juice Shop (Express '' + utils.version(''express'') + '')'';\n@@ -31,401
        +28,16 @@ glob(__dirname + ''/app/public/ftp/*.pdf'', function (err, files)
        {\n     });\n });\n \n-/* Domain Model */\n-var User = sequelize.define(''User'',
        {\n-        email: Sequelize.STRING,\n-        password: Sequelize.STRING\n-    },\n-    {
        hooks: {\n-        beforeCreate: function (user, fn) {\n-            hashPasswordHook(user);\n-            xssChallengeUserHook(user);\n-            fn(null,
        user);\n-        },\n-        beforeUpdate: function (user, fn) { // Pitfall:
        Will hash the hashed password again if password was not updated!\n-            hashPasswordHook(user);\n-            fn(null,
        user);\n-        }\n-    }}\n-);\n-\n-function hashPasswordHook(user) {\n-    user.password
        = insecurity.hash(user.password);\n-}\n-\n-function xssChallengeUserHook(user)
        {\n-    if (notSolved(persistedXssChallengeUser) && utils.contains(user.email,
        ''<script>alert(\"XSS2\")</script>'')) {\n-        solve(persistedXssChallengeUser);\n-    }\n-}\n-\n-var
        Product = sequelize.define(''Product'', {\n-    name: Sequelize.STRING,\n-    description:
        Sequelize.STRING,\n-    price: Sequelize.DECIMAL,\n-    image: Sequelize.STRING\n-    },\n-    {
        hooks: {\n-        beforeCreate: function (product, fn) {\n-            xssChallengeProductHook(product);\n-            fn(null,
        product);\n-        },\n-        beforeUpdate: function (product, fn) {\n-            xssChallengeProductHook(product);\n-            fn(null,
        product);\n-        }\n-    }});\n-\n-function xssChallengeProductHook(product)
        {\n-    if (notSolved(restfulXssChallenge) && utils.contains(product.description,
        ''<script>alert(\"XSS4\")</script>'')) {\n-        solve(restfulXssChallenge);\n-    }\n-}\n-\n-var
        Basket = sequelize.define(''Basket'', {\n-});\n-\n-var BasketItem = sequelize.define(''BasketItems'',
        {\n-    id: {\n-        type: Sequelize.INTEGER,\n-        primaryKey: true,\n-        autoIncrement:
        true\n-    },\n-    quantity: Sequelize.INTEGER\n-});\n-\n-Basket.belongsTo(User);\n-Basket.hasMany(Product,
        {through: BasketItem});\n-Product.hasMany(Basket, {through: BasketItem});\n-\n-var
        Feedback = sequelize.define(''Feedback'', {\n-    comment: Sequelize.STRING,\n-    rating:
        Sequelize.INTEGER\n-    },\n-    { hooks: {\n-        beforeCreate: function
        (feedback, fn) {\n-            htmlSanitizationHook(feedback);\n-            fn(null,
        feedback);\n-        },\n-        beforeUpdate: function (feedback, fn) {\n-            htmlSanitizationHook(feedback);\n-            fn(null,
        feedback);\n-        }\n-    }});\n-\n-Feedback.belongsTo(User);\n-\n-function
        htmlSanitizationHook(feedback) {\n-    feedback.comment = insecurity.sanitizeHtml(feedback.comment);\n-    if
        (notSolved(persistedXssChallengeFeedback) && utils.contains(feedback.comment,
        ''<script>alert(\"XSS3\")</script>'')) {\n-        solve(persistedXssChallengeFeedback);\n-    }\n-}\n-\n-var
        Challenge = sequelize.define(''Challenges'', {\n-    description: Sequelize.STRING,\n-    solved:
        Sequelize.BOOLEAN\n-});\n-\n-/* Challenges */\n-var redirectChallenge, easterEggLevelOneChallenge,
        easterEggLevelTwoChallenge, directoryListingChallenge,\n-    loginAdminChallenge,
        loginJimChallenge, loginBenderChallenge, changeProductChallenge, csrfChallenge,\n-    errorHandlingChallenge,
        knownVulnerableComponentChallenge, negativeOrderChallenge, persistedXssChallengeFeedback,\n-    persistedXssChallengeUser,
        localXssChallenge, restfulXssChallenge,basketChallenge, weakPasswordChallenge,\n-    adminSectionChallenge,
        scoreBoardChallenge, feedbackChallenge, unionSqlInjectionChallenge, forgedFeedbackChallenge;\n-\n-/*
        Entities relevant for challenges */\n-\n-var bender, osaft;\n-\n-/* Data */\n-sequelize.drop();\n-sequelize.sync().success(function
        () {\n-    Challenge.create({\n-        description: ''Find the carefully
        hidden \\''Score Board\\'' page.'',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        scoreBoardChallenge = challenge;\n-    });\n-    Challenge.create({\n-        description:
        ''Provoke an error that is not very gracefully handled.'',\n-        solved:
        false\n-    }).success(function(challenge) {\n-        errorHandlingChallenge
        = challenge;\n-    });\n-    Challenge.create({\n-        description: ''Log
        in with the administrator\\''s user account.'',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        loginAdminChallenge = challenge;\n-    });\n-    Challenge.create({\n-        description:
        ''Log in with Jim\\''s user account.'',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        loginJimChallenge = challenge;\n-    });\n-    Challenge.create({\n-        description:
        ''Log in with Bender\\''s user account.'',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        loginBenderChallenge = challenge;\n-    });\n-    Challenge.create({\n-        description:
        ''XSS Tier 1: Perform a <i>reflected</i> XSS attack with &lt;script&gt;alert(\"XSS1\")&lt;/script&gt;.'',\n-        solved:
        false\n-    }).success(function(challenge) {\n-        localXssChallenge =
        challenge;\n-    });\n-    Challenge.create({\n-        description: ''XSS
        Tier 2: Perform a <i>persisted</i> XSS attack with &lt;script&gt;alert(\"XSS2\")&lt;/script&gt;
        bypassing a <i>client-side</i> security mechanism.'',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        persistedXssChallengeUser = challenge;\n-    });\n-    Challenge.create({\n-        description:
        ''XSS Tier 3: Perform a <i>persisted</i> XSS attack with &lt;script&gt;alert(\"XSS3\")&lt;/script&gt;
        bypassing a <i>server-side</i> security mechanism.'',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        persistedXssChallengeFeedback = challenge;\n-    });\n-    Challenge.create({\n-        description:
        ''XSS Tier 4: Perform a <i>persisted</i> XSS attack with &lt;script&gt;alert(\"XSS4\")&lt;/script&gt;
        without using the frontend application at all.'',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        restfulXssChallenge = challenge;\n-    });\n-    Challenge.create({\n-        description:
        ''Retrieve a list of all user credentials via SQL Injection'',\n-        solved:
        false\n-    }).success(function(challenge) {\n-        unionSqlInjectionChallenge
        = challenge;\n-    });\n-    Challenge.create({\n-        description: ''Log
        in with the administrator\\''s user credentials without previously changing
        them or applying SQL Injection.'',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        weakPasswordChallenge = challenge;\n-    });\n-    Challenge.create({\n-        description:
        ''Get rid of all 5-star customer feedback.'',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        feedbackChallenge = challenge;\n-    });\n-    Challenge.create({\n-        description:
        ''Post some feedback in another users name.'',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        forgedFeedbackChallenge = challenge;\n-    });\n-    Challenge.create({\n-        description:
        ''Wherever you go, there you are.'',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        redirectChallenge = challenge;\n-    });\n-    Challenge.create({\n-        description:
        ''Access someone else\\''s basket.'',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        basketChallenge = challenge;\n-    });\n-    Challenge.create({\n-        description:
        ''Place an order that makes you rich.'',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        negativeOrderChallenge = challenge;\n-    });\n-    Challenge.create({\n-        description:
        ''Access a confidential document.'',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        directoryListingChallenge = challenge;\n-    });\n-    Challenge.create({\n-        description:
        ''Access the administration section of the store.'',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        adminSectionChallenge = challenge;\n-    });\n-    Challenge.create({\n-        description:
        ''Change Bender\\''s password into <i>slurmCl4ssic</i>.'' ,\n-        solved:
        false\n-    }).success(function(challenge) {\n-        csrfChallenge = challenge;\n-    });\n-    Challenge.create({\n-        description:
        ''Change the link in the description of the <a href=\"/#/search?q=O-Saft\">O-Saft
        product</a> to <i>http://kimminich.de</i>.'',\n-        solved: false\n-    }).success(function(challenge)
        {\n-        changeProductChallenge = challenge;\n-    });\n-    Challenge.create({\n-        description:
        ''<a href=\"/#/contact\">Inform the shop</a> about a vulnerable library it
        is using. (Mention the exact library name and version in your complaint.)'',\n-        solved:
        false\n-    }).success(function(challenge) {\n-        knownVulnerableComponentChallenge
        = challenge;\n-    });\n-    Challenge.create({\n-        description: ''Find
        the hidden <a href=\"http://en.wikipedia.org/wiki/Easter_egg_(media)\" target=\"_blank\">easter
        egg</a>.'',\n-        solved: false\n-    }).success(function(challenge) {\n-        easterEggLevelOneChallenge
        = challenge;\n-    });\n-    Challenge.create({\n-        description: ''Apply
        some advanced cryptanalysis to find <i>the real</i> easter egg.'',\n-        solved:
        false\n-    }).success(function(challenge) {\n-        easterEggLevelTwoChallenge
        = challenge;\n-    });\n-    User.create({\n-        email: ''admin@juice-sh.op'',\n-        password:
        ''admin123''\n-    });\n-    User.create({\n-        email: ''jim@juice-sh.op'',\n-        password:
        ''ncc-1701''\n-    });\n-    User.create({\n-        email: ''bender@juice-sh.op'',\n-        password:
        ''booze''\n-    }).success(function(user) {\n-        bender = user;\n-    });\n-    Product.create({\n-        name:
        ''Apple Juice (1000ml)'',\n-        description: ''The all-time classic.'',\n-        price:
        1.99,\n-        image: ''apple_juice.jpg''\n-    });\n-    Product.create({\n-        name:
        ''Orange Juice (1000ml)'',\n-        description: ''Made from oranges hand-picked
        by Uncle Dittmeyer.'',\n-        price: 2.99,\n-        image: ''orange_juice.jpg''\n-    });\n-    Product.create({\n-        name:
        ''Eggfruit Juice (500ml)'',\n-        description: ''Now with even more exotic
        flavour.'',\n-        price: 8.99,\n-        image: ''eggfruit_juice.jpg''\n-    });\n-    Product.create({\n-        name:
        ''Raspberry Juice (1000ml)'',\n-        description: ''Made from blended Raspberry
        Pi, water and sugar.'',\n-        price: 4.99,\n-        image: ''raspberry_juice.jpg''\n-    });\n-    Product.create({\n-        name:
        ''Lemon Juice (500ml)'',\n-        description: ''Sour but full of vitamins.'',\n-        price:
        2.99,\n-        image: ''lemon_juice.jpg''\n-    });\n-    Product.create({\n-        name:
        ''Banana Juice (1000ml)'',\n-        description: ''Monkeys love it the most.'',\n-        price:
        1.99,\n-        image: ''banana_juice.jpg''\n-    });\n-    Product.create({\n-        name:
        ''Lemon Juice (500ml)'',\n-        description: ''Sour but full of vitamins.'',\n-        price:
        2.99,\n-        image: ''lemon_juice.jpg''\n-    });\n-    Product.create({\n-        name:
        ''Juice Shop T-Shirt (3XL)'',\n-        description: ''Real fans wear it 24/7!'',\n-        price:
        24.99,\n-        image: ''fan_shirt.jpg''\n-    });\n-    Product.create({\n-        name:
        ''OWASP SSL Advanced Forensic Tool (O-Saft)'',\n-        description: ''O-Saft
        is an easy to use tool to show information about SSL certificate and tests
        the SSL connection according given list of ciphers and various SSL configurations.
        <a href=\"https://www.owasp.org/index.php/O-Saft\" target=\"_blank\">More...</a>'',\n-        price:
        0.01,\n-        image: ''owasp_osaft.jpg''\n-    }).success(function(product)
        {\n-        osaft = product;\n-    });\n-    Basket.create({\n-        UserId:
        1\n-    });\n-    Basket.create({\n-        UserId: 2\n-    });\n-    Basket.create({\n-        UserId:
        3\n-    });\n-    BasketItem.create({\n-        BasketId: 1,\n-        ProductId:
        1,\n-        quantity: 2\n-    });\n-    BasketItem.create({\n-        BasketId:
        1,\n-        ProductId: 2,\n-        quantity: 3\n-    });\n-    BasketItem.create({\n-        BasketId:
        1,\n-        ProductId: 3,\n-        quantity: 1\n-    });\n-    BasketItem.create({\n-        BasketId:
        2,\n-        ProductId: 4,\n-        quantity: 2\n-    });\n-    BasketItem.create({\n-        BasketId:
        3,\n-        ProductId: 5,\n-        quantity: 1\n-    });\n-    Feedback.create({\n-        UserId:
        1,\n-        comment: ''I love this shop! Best juice in town! Highly recommended!'',\n-        rating:
        5\n-    });\n-    Feedback.create({\n-        UserId: 2,\n-        comment:
        ''Great shop! The O-Saft is highly recommended!'',\n-        rating: 4\n-    });\n-    Feedback.create({\n-        comment:
        ''Why isn\\''t there a T-Shirt for skinny people available?!'',\n-        rating:
        2\n-    });\n-    Feedback.create({\n-        comment: ''This is <b>the</b>
        store for juices of all kinds!'',\n-        rating: 4\n-    });\n-    Feedback.create({\n-        comment:
        ''Never gonna buy my juice anywhere else from now on! Thanks for the great
        service!'',\n-        rating: 4\n-    });\n-    Feedback.create({\n-        comment:
        ''Keep up the good work!'',\n-        rating: 3\n-    });\n-    Feedback.create({\n-        UserId:
        3,\n-        comment: ''No real drinks available here!'',\n-        rating:
        1\n-    });\n-});\n-\n /* Favicon */\n app.use(favicon(__dirname + ''/app/public/favicon.ico''));\n
        \n-/* Checks for solved challenges */\n-app.use(verifyDatabaseRelatedChallenges());\n-app.use(''/public/images/tracking'',
        verifyAccessControlChallenges());\n+/* Checks for utils.solved challenges
        */\n+app.use(middleware.verifyDatabaseRelatedChallenges());\n+app.use(''/public/images/tracking'',
        middleware.verifyAccessControlChallenges());\n \n /* public/ftp directory
        browsing and file download */\n app.use(''/public/ftp'', serveIndex(''app/public/ftp'',
        {''icons'': true}));\n-app.use(''/public/ftp/:file'', serveFiles());\n+app.use(''/public/ftp/:file'',
        middleware.serveFiles());\n \n app.use(express.static(application_root + ''/app''));\n
        app.use(morgan(''dev''));\n@@ -458,35 +70,39 @@ app.use(''/rest/basket/:id'',
        insecurity.isAuthorized());\n app.use(''/rest/basket/:id/order'', insecurity.isAuthorized());\n
        \n /* Challenge evaluation before sequelize-restful takes over */\n-app.post(''/api/Feedbacks'',
        verifyForgedFeedbackChallenge());\n+app.post(''/api/Feedbacks'', middleware.verifyForgedFeedbackChallenge());\n
        \n /* Sequelize Restful APIs */\n-app.use(restful(sequelize, { endpoint: ''/api'',
        allowed: [''Users'', ''Products'', ''Feedbacks'', ''BasketItems'', ''Challenges'']
        }));\n+app.use(restful(models.sequelize, { endpoint: ''/api'', allowed: [''Users'',
        ''Products'', ''Feedbacks'', ''BasketItems'', ''Challenges''] }));\n /* Custom
        Restful API */\n-app.post(''/rest/user/login'', loginUser());\n-app.get(''/rest/user/change-password'',
        changePassword());\n-app.get(''/rest/user/authentication-details'', retrieveUserList());\n-app.get(''/rest/user/whoami'',
        retrieveLoggedInUsersId());\n-app.get(''/rest/product/search'', searchProducts());\n-app.get(''/rest/basket/:id'',
        retrieveBasket());\n-app.post(''/rest/basket/:id/order'', createOrderPdf());\n-app.get(''/rest/admin/application-version'',
        retrieveAppVersion());\n-app.get(''/redirect'', performRedirect());\n+app.post(''/rest/user/login'',
        middleware.loginUser());\n+app.get(''/rest/user/change-password'', middleware.changePassword());\n+app.get(''/rest/user/authentication-details'',
        middleware.retrieveUserList());\n+app.get(''/rest/user/whoami'', middleware.retrieveLoggedInUsersId());\n+app.get(''/rest/product/search'',
        middleware.searchProducts());\n+app.get(''/rest/basket/:id'', middleware.retrieveBasket());\n+app.post(''/rest/basket/:id/order'',
        middleware.createOrderPdf());\n+app.get(''/rest/admin/application-version'',
        middleware.retrieveAppVersion());\n+app.get(''/redirect'', middleware.performRedirect());\n
        /* File Serving */\n-app.get(''/the/devs/are/so/funny/they/hid/an/easter/egg/within/the/easter/egg'',
        serveEasterEgg());\n-app.use(serveAngularClient());\n+app.get(''/the/devs/are/so/funny/they/hid/an/easter/egg/within/the/easter/egg'',
        middleware.serveEasterEgg());\n+app.use(middleware.serveAngularClient());\n
        /* Error Handling */\n-app.use(verifyErrorHandlingChallenge());\n+app.use(middleware.verifyErrorHandlingChallenge());\n
        app.use(errorhandler());\n \n exports.start = function (config, readyCallback)
        {\n     if (!this.server) {\n-        this.server = app.listen(config.port,
        function () {\n-            console.log(''Listening on port %d'', config.port);\n-            //
        callback to call when the server is ready\n-            if (readyCallback)
        {\n-                readyCallback();\n-            }\n+        models.sequelize.drop();\n+        models.sequelize.sync().success(function()
        {\n+            datacreator();\n+            this.server = app.listen(config.port,
        function () {\n+                console.log(''Listening on port %d'', config.port);\n+                //
        callback to call when the server is ready\n+                if (readyCallback)
        {\n+                    readyCallback();\n+                }\n+            });\n         });\n     }\n
        };\n@@ -497,328 +113,3 @@ exports.close = function (exitCode) {\n         process.exit(exitCode);\n     }\n
        };\n-\n-function verifyForgedFeedbackChallenge() {\n-    return function(req,
        res, next) {\n-        if (notSolved(forgedFeedbackChallenge)) {\n-            var
        user = insecurity.authenticatedUsers.from(req);\n-            var userId =
        user ? user.data.id : undefined;\n-            if (req.body.UserId && req.body.UserId
        != userId) {\n-                solve(forgedFeedbackChallenge);\n-            }\n-        }\n-        next();\n-    };\n-}\n-\n-function
        verifyAccessControlChallenges() {\n-    return function (req, res, next) {\n-        if
        (notSolved(scoreBoardChallenge) && utils.endsWith(req.url, ''/scoreboard.png''))
        {\n-            solve(scoreBoardChallenge);\n-        } else if (notSolved(adminSectionChallenge)
        && utils.endsWith(req.url, ''/administration.png'')) {\n-            solve(adminSectionChallenge);\n-        }\n-        next();\n-    };\n-}\n-\n-function
        retrieveLoggedInUsersId() {\n-    return function (req, res) {\n-        var
        user = insecurity.authenticatedUsers.from(req);\n-        res.json({id: (user
        ? user.data.id : undefined), email: (user ? user.data.email : undefined)});\n-    };\n-}\n-\n-function
        retrieveAppVersion() {\n-    return function (req, res) {\n-        res.json({version:
        utils.version()});\n-    };\n-}\n-\n-function serveAngularClient() {\n-    return
        function (req, res, next) {\n-        if (!utils.startsWith(req.url, ''/api'')
        && !utils.startsWith(req.url, ''/rest'')) {\n-            res.sendFile(__dirname
        + ''/app/index.html'');\n-        } else {\n-            next(new Error(''Unexpected
        path: '' + req.url));\n-        }\n-    };\n-}\n-\n-function verifyErrorHandlingChallenge()
        {\n-    return function (err, req, res, next) {\n-        if (notSolved(errorHandlingChallenge)
        && err && res.statusCode > 401) {\n-            solve(errorHandlingChallenge);\n-        }\n-        next(err);\n-    };\n-}\n-\n-function
        serveEasterEgg() {\n-    return function (req, res) {\n-        if (notSolved(easterEggLevelTwoChallenge))
        {\n-            solve(easterEggLevelTwoChallenge);\n-        }\n-        res.sendFile(__dirname
        + ''/app/private/threejs-demo.html'');\n-    };\n-}\n-\n-function performRedirect()
        {\n-    return function(req, res) {\n-        var to = req.query.to;\n-        var
        githubUrl = ''https://github.com/bkimminich/juice-shop'';\n-        if (to.indexOf(githubUrl)
        > -1) {\n-            if (notSolved(redirectChallenge) && to !== githubUrl)
        { // TODO Instead match against something like <anotherUrl>[?&]=githubUrl\n-                solve(redirectChallenge);\n-            }\n-            res.redirect(to);\n-        }
        else {\n-            res.redirect(githubUrl);\n-        }\n-    };\n-}\n-\n-function
        retrieveBasket() {\n-    return function(req, res, next){\n-        var id
        = req.params.id;\n-        Basket.find({where: {id: id}, include: [ Product
        ]})\n-            .success(function(basket) {\n-                if (notSolved(basketChallenge))
        {\n-                    var user = insecurity.authenticatedUsers.from(req);\n-                    if
        (user && user.bid != id) {\n-                        solve(basketChallenge);\n-                    }\n-                }\n-                res.json(utils.queryResultToJson(basket));\n-            }).error(function
        (error) {\n-                next(error);\n-            });\n-    };\n-}\n-\n-function
        retrieveUserList() {\n-    return function(req, res, next){\n-        User.findAll().success(function(users)
        {\n-                var usersWithLoginStatus = utils.queryResultToJson(users);\n-                usersWithLoginStatus.data.forEach(function(user)
        {\n-                    user.token = insecurity.authenticatedUsers.tokenOf(user);\n-                });\n-                res.json(usersWithLoginStatus);\n-            }).error(function
        (error) {\n-                next(error);\n-            });\n-    };\n-}\n-\n-function
        createOrderPdf() {\n-    return function(req, res, next){\n-        var id
        = req.params.id;\n-        Basket.find({where: {id: id}, include: [ Product
        ]})\n-            .success(function(basket) {\n-                if (basket)
        {\n-                    var customer = insecurity.authenticatedUsers.from(req);\n-                    var
        orderNo = insecurity.hash(new Date()+''_''+id);\n-                    var
        pdfFile = ''order_'' + orderNo + ''.pdf'';\n-                    var doc =
        new PDFDocument();\n-                    var fileWriter = doc.pipe(fs.createWriteStream(__dirname
        + ''/app/public/ftp/'' + pdfFile));\n-\n-                    doc.text(''Juice-Shop
        - Order Confirmation'');\n-                    doc.moveDown();\n-                    doc.moveDown();\n-                    doc.moveDown();\n-                    doc.text(''Customer:
        '' + (customer ? customer.data ? customer.data.email : undefined : undefined));\n-                    doc.moveDown();\n-                    doc.text(''Order
        #: '' + orderNo);\n-                    doc.moveDown();\n-                    doc.moveDown();\n-                    var
        totalPrice = 0;\n-                    basket.products.forEach(function(product)
        {\n-                        var itemTotal = product.price*product.basketItem.quantity;\n-                        doc.text(product.basketItem.quantity
        + ''x '' + product.name + '' ea. '' + product.price + '' = '' + itemTotal);\n-                        doc.moveDown();\n-                        totalPrice
        += itemTotal;\n-                    });\n-                    doc.moveDown();\n-                    doc.text(''Total
        Price: '' + totalPrice);\n-                    doc.moveDown();\n-                    doc.moveDown();\n-                    doc.text(''Thank
        you for your order!'');\n-                    doc.end();\n-\n-                    if
        (notSolved(negativeOrderChallenge) && totalPrice < 0) {\n-                        solve
        (negativeOrderChallenge);\n-                    }\n-\n-                    fileWriter.on(''finish'',
        function() {\n-                        BasketItem.destroy({BasketId: id});\n-                        res.send(''/public/ftp/''
        + pdfFile);\n-                    });\n-                } else {\n-                    next(new
        Error(''Basket with id='' + id + '' does not exist.''));\n-                }\n-            }).error(function
        (error) {\n-                next(error);\n-            });\n-    };\n-}\n-\n-function
        searchProducts() {\n-    return function(req, res, next){\n-        var criteria
        = req.query.q === ''undefined'' ? '''' : req.query.q || '''';\n-        if
        (notSolved(localXssChallenge) && utils.contains(criteria, ''<script>alert(\"XSS1\")</script>''))
        {\n-            solve(localXssChallenge);\n-        }\n-        sequelize.query(''SELECT
        * FROM Products WHERE (name LIKE \\''%'' + criteria + ''%\\'') OR (description
        LIKE \\''%'' + criteria + ''%\\'')'')\n-            .success(function(products)
        {\n-                if (notSolved(unionSqlInjectionChallenge)) {\n-                    var
        dataString = JSON.stringify(products);\n-                    var solved =
        true;\n-                    User.findAll().success(function(data) {\n-                        var
        users = utils.queryResultToJson(data);\n-                        if (users.data
        && users.data.length) {\n-                            for (var i=0; i<users.data.length;
        i++) {\n-                                solved = solved && utils.contains(dataString,
        users.data[i].email) && utils.contains(dataString, users.data[i].password);\n-                                if
        (!solved) {\n-                                    break;\n-                                }\n-                            }\n-                            if
        (solved) {\n-                                solve(unionSqlInjectionChallenge);\n-                            }\n-                        }\n-                    });\n-                }\n-                res.json(utils.queryResultToJson(products));\n-            }).error(function
        (error) {\n-                next(error);\n-            });\n-    };\n-}\n-\n-function
        changePassword() {\n-    return function(req, res, next){\n-        var password
        = req.query.new;\n-        var repeatPassword = req.query.repeat;\n-        if
        (!password || password === ''undefined'') {\n-            res.status(401).send(''Password
        cannot be empty.'');\n-        } else if (password !== repeatPassword) {\n-            res.status(401).send(''New
        and repeated password do not match.'');\n-        } else {\n-            var
        loggedInUser = insecurity.authenticatedUsers.get(req.cookies.token);\n-            if
        (loggedInUser) {\n-                User.find(loggedInUser.data.id).success(function(user)
        {\n-                    user.updateAttributes({password: password}).success(function(user)
        {\n-                        res.send(user);\n-                    }).error(function(error)
        {\n-                        next(error);\n-                    });\n-                }).error(function(error)
        {\n-                    next(error);\n-                });\n-            }
        else {\n-                next(new Error(''Blocked illegal activity by '' +
        req.connection.remoteAddress));\n-            }\n-        }\n-    };\n-}\n-\n-function
        loginUser() {\n-    return function(req, res, next){\n-        if (notSolved(weakPasswordChallenge)
        && req.body.email === ''admin@juice-sh.op'' && req.body.password === ''admin123'')
        {\n-            solve(weakPasswordChallenge);\n-        }\n-        sequelize.query(''SELECT
        * FROM Users WHERE email = \\'''' + (req.body.email || '''') + ''\\'' AND
        password = \\'''' + insecurity.hash(req.body.password || '''') + ''\\'''',
        User, {plain: true})\n-            .success(function(authenticatedUser) {\n-                var
        user = utils.queryResultToJson(authenticatedUser);\n-                if (user.data
        && user.data.id) {\n-                    if (notSolved(loginAdminChallenge)
        && user.data.id === 1) {\n-                        solve(loginAdminChallenge);\n-                    }
        else if (notSolved(loginJimChallenge) && user.data.id === 2) {\n-                        solve(loginJimChallenge);\n-                    }
        else if  (notSolved(loginBenderChallenge) && user.data.id === 3) {\n-                        solve(loginBenderChallenge);\n-                    }\n-                    Basket.findOrCreate({UserId:
        user.data.id}).success(function(basket) {\n-                        var token
        = insecurity.authorize(user);\n-                        user.bid = basket.id;
        // keep track of original basket for challenge solution check\n-                        insecurity.authenticatedUsers.put(token,
        user);\n-                        res.json({ token: token, bid: basket.id });\n-                    }).error(function
        (error) {\n-                        next(error);\n-                    });\n-                }
        else {\n-                    res.status(401).send(''Invalid email or password.'');\n-                }\n-            }).error(function
        (error) {\n-                next(error);\n-            });\n-    };\n-}\n-\n-function
        serveFiles() {\n-    return function(req, res, next) {\n-        var file
        = req.params.file;\n-        if (file && (utils.endsWith(file, ''.md'') ||
        (utils.endsWith(file, ''.pdf'')))) {\n-            file = insecurity.cutOffPoisonNullByte(file);\n-            if
        (notSolved(easterEggLevelOneChallenge) && file.toLowerCase() === ''eastere.gg'')
        {\n-                solve(easterEggLevelOneChallenge);\n-            } else
        if (notSolved(directoryListingChallenge) && file.toLowerCase() === ''acquisitions.md'')
        {\n-                solve(directoryListingChallenge);\n-            }\n-            res.sendFile(__dirname
        + ''/app/public/ftp/'' + file);\n-        } else {\n-            res.status(403);\n-            next(new
        Error(''Only .md and .pdf files are allowed!''));\n-        }\n-    };\n-}\n-\n-function
        verifyDatabaseRelatedChallenges() {\n-    return function (req, res, next)
        {\n-        if (notSolved(changeProductChallenge) && osaft) {\n-            osaft.reload().success(function
        () {\n-                if (!utils.contains(osaft.description, ''<a href=\"https://www.owasp.org/index.php/O-Saft\"
        target=\"_blank\">'')) {\n-                    if (utils.contains(osaft.description,
        ''<a href=\"http://kimminich.de\" target=\"_blank\">'')) {\n-                        solve(changeProductChallenge);\n-                    }\n-                }\n-            });\n-        }\n-        if
        (notSolved(csrfChallenge) && bender) {\n-            bender.reload().success(function()
        {\n-                if (bender.password === insecurity.hash(''slurmCl4ssic''))
        {\n-                    solve(csrfChallenge);\n-                }\n-            });\n-        }\n-        if
        (notSolved(feedbackChallenge)) {\n-            Feedback.findAndCountAll({where:
        {rating: 5}}).success(function (feedbacks) {\n-                if (feedbacks.count
        === 0) {\n-                    solve(feedbackChallenge);\n-                }\n-            });\n-        }\n-        if
        (notSolved(knownVulnerableComponentChallenge)) {\n-            Feedback.findAndCountAll({where:
        Sequelize.or(\n-                Sequelize.and([''comment LIKE \\''%sanitize-html%\\''''],
        [''comment LIKE \\''%1.4.2%\\'''']),\n-                Sequelize.and([''comment
        LIKE \\''%htmlparser2%\\''''], [''comment LIKE \\''%3.3.0%\\'''']) ) }\n-            ).success(function
        (data) {\n-                if (data.count > 0) {\n-                    solve(knownVulnerableComponentChallenge);\n-                }\n-            });\n-        }\n-        next();\n-    };\n-}\n-\n-function
        solve(challenge) {\n-    challenge.solved = true;\n-    challenge.save().success(function()
        {\n-        console.log(''Solved challenge \"'' + challenge.description +
        ''\"'');\n-    });\n-}\n-\n-function notSolved(challenge) {\n-    return challenge
        && !challenge.solved;\n-}\n\\ No newline at end of file"},{"sha":"7f53460e4cffa6f4e3310cc0916f900878905c8b","filename":"test/server/apiSpec.js","status":"modified","additions":8,"deletions":8,"changes":16,"blob_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/test%2Fserver%2FapiSpec.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/test%2Fserver%2FapiSpec.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test%2Fserver%2FapiSpec.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","patch":"@@
        -14,8 +14,12 @@ frisby.create(''GET all models declared in API'')\n         tableName:
        String\n     })\n     .expectJSON(''data.?'', {\n-        name: ''User'',\n-        tableName:
        ''Users''\n+        name: ''BasketItem'',\n+        tableName: ''BasketItems''\n+    })\n+    .expectJSON(''data.?'',
        {\n+        name: ''Challenge'',\n+        tableName: ''Challenges''\n     })\n     .expectJSON(''data.?'',
        {\n         name: ''Feedback'',\n@@ -26,12 +30,8 @@ frisby.create(''GET all
        models declared in API'')\n         tableName: ''Products''\n     })\n     .expectJSON(''data.?'',
        {\n-        name: ''BasketItems'',\n-        tableName: ''BasketItems''\n-    })\n-    .expectJSON(''data.?'',
        {\n-        name: ''Challenges'',\n-        tableName: ''Challenges''\n+        name:
        ''User'',\n+        tableName: ''Users''\n     })\n     .toss();\n "},{"sha":"14098337b23ed668e7cc7390a59e725278493537","filename":"test/serverTests.js","status":"modified","additions":2,"deletions":1,"changes":3,"blob_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/test%2FserverTests.js","raw_url":"https://github.com/juice-shop/juice-shop/raw/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/test%2FserverTests.js","contents_url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test%2FserverTests.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","patch":"@@
        -3,6 +3,7 @@\n \n var spawn = require(''win-spawn'');\n var server = require(''./../server.js'');\n+\n
        server.start({ port: 3000 }, function () {\n     var jasmineNode = spawn(''jasmine-node'',
        [ ''test/server'' ]);\n \n@@ -15,6 +16,6 @@ server.start({ port: 3000 }, function
        () {\n \n     jasmineNode.on(''exit'', function (exitCode) {\n         console.log(''Jasmine-Node
        exited with code '' + exitCode + ''.'');\n-        server.close(exitCode);\n+        process.exit(exitCode);\n     });\n
        });\n\\ No newline at end of file"}]'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:56 GMT
      ETag:
      - W/"bb23df0f100a313d1774c011e0edd1909daeb161d984c72c67fb05e0ce336830"
      Last-Modified:
      - Mon, 09 Sep 2024 07:19:10 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C3A8:3DD164:318B94D:3487FF4:66E29D9C
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4957'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '43'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - pull_requests=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/app.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1
  response:
    body:
      string: '{"name":"app.js","path":"app.js","sha":"7759333d94279ae84ab802136f83b1438c77cac7","size":121,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/app.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","html_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/app.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/7759333d94279ae84ab802136f83b1438c77cac7","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/app.js","type":"file","content":"Lypqc2xpbnQgbm9kZTogdHJ1ZSAqLwondXNlIHN0cmljdCc7Cgp2YXIgc2Vy\ndmVyID0gcmVxdWlyZSgnLi9zZXJ2ZXInKTsKc2VydmVyLnN0YXJ0KHsgcG9y\ndDogcHJvY2Vzcy5lbnYuUE9SVCB8fCAzMDAwIH0pOw==\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/app.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/7759333d94279ae84ab802136f83b1438c77cac7","html":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/app.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:57 GMT
      ETag:
      - W/"7759333d94279ae84ab802136f83b1438c77cac7"
      Last-Modified:
      - Fri, 24 Oct 2014 09:24:52 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C3A9:8E067:2526FDD:277959C:66E29D9C
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4956'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '44'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/karma.conf-ci.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1
  response:
    body:
      string: '{"name":"karma.conf-ci.js","path":"karma.conf-ci.js","sha":"138c665e02d87766ec09791baf1162003f9fd25d","size":2268,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/karma.conf-ci.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","html_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/karma.conf-ci.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/138c665e02d87766ec09791baf1162003f9fd25d","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/karma.conf-ci.js","type":"file","content":"Lypqc2xpbnQgbm9kZTogdHJ1ZSAqLwptb2R1bGUuZXhwb3J0cyA9IGZ1bmN0\naW9uIChjb25maWcpIHsKICAgICd1c2Ugc3RyaWN0JzsKCiAgICB2YXIgY3Vz\ndG9tTGF1bmNoZXJzID0gewogICAgICAgIHNsX2Nocm9tZTogewogICAgICAg\nICAgICBiYXNlOiAnU2F1Y2VMYWJzJywKICAgICAgICAgICAgYnJvd3Nlck5h\nbWU6ICdjaHJvbWUnLAogICAgICAgICAgICBwbGF0Zm9ybSA6ICdMaW51eCcs\nCiAgICAgICAgICAgIHZlcnNpb246ICczNycKICAgICAgICB9LAogICAgICAg\nIHNsX2ZpcmVmb3g6IHsKICAgICAgICAgICAgYmFzZTogJ1NhdWNlTGFicycs\nCiAgICAgICAgICAgIGJyb3dzZXJOYW1lOiAnZmlyZWZveCcsCiAgICAgICAg\nICAgIHBsYXRmb3JtOiAnTGludXgnLAogICAgICAgICAgICB2ZXJzaW9uOiAn\nMzMnCiAgICAgICAgfSwKICAgICAgICBzbF9pZV8xMTogewogICAgICAgICAg\nICBiYXNlOiAnU2F1Y2VMYWJzJywKICAgICAgICAgICAgYnJvd3Nlck5hbWU6\nICdpbnRlcm5ldCBleHBsb3JlcicsCiAgICAgICAgICAgIHBsYXRmb3JtOiAn\nV2luZG93cyA4LjEnLAogICAgICAgICAgICB2ZXJzaW9uOiAnMTEnCiAgICAg\nICAgfSwKICAgICAgICBzbF9pZV8xMDogewogICAgICAgICAgICBiYXNlOiAn\nU2F1Y2VMYWJzJywKICAgICAgICAgICAgYnJvd3Nlck5hbWU6ICdpbnRlcm5l\ndCBleHBsb3JlcicsCiAgICAgICAgICAgIHBsYXRmb3JtOiAnV2luZG93cyA4\nJywKICAgICAgICAgICAgdmVyc2lvbjogJzEwJwogICAgICAgIH0sCiAgICAg\nICAgc2xfaWVfOTogewogICAgICAgICAgICBiYXNlOiAnU2F1Y2VMYWJzJywK\nICAgICAgICAgICAgYnJvd3Nlck5hbWU6ICdpbnRlcm5ldCBleHBsb3Jlcics\nCiAgICAgICAgICAgIHBsYXRmb3JtOiAnV2luZG93cyA3JywKICAgICAgICAg\nICAgdmVyc2lvbjogJzknCiAgICAgICAgfSwKICAgICAgICBzbF9zYWZhcmk6\nIHsKICAgICAgICAgICAgYmFzZTogJ1NhdWNlTGFicycsCiAgICAgICAgICAg\nIGJyb3dzZXJOYW1lOiAnc2FmYXJpJywKICAgICAgICAgICAgcGxhdGZvcm06\nICdPUyBYIDEwLjknLAogICAgICAgICAgICB2ZXJzaW9uOiAnNycKICAgICAg\nICB9CiAgICB9OwoKICAgIGNvbmZpZy5zZXQoewoKICAgICAgICBiYXNlUGF0\naDogJycsCgogICAgICAgIGZpbGVzOiBbCiAgICAgICAgICAgICdhcHAvYm93\nZXJfY29tcG9uZW50cy9hbmd1bGFyL2FuZ3VsYXIuanMnLAogICAgICAgICAg\nICAnYXBwL2Jvd2VyX2NvbXBvbmVudHMvYW5ndWxhci1yb3V0ZS9hbmd1bGFy\nLXJvdXRlLmpzJywKICAgICAgICAgICAgJ2FwcC9ib3dlcl9jb21wb25lbnRz\nL2FuZ3VsYXItbW9ja3MvYW5ndWxhci1tb2Nrcy5qcycsCiAgICAgICAgICAg\nICdhcHAvYm93ZXJfY29tcG9uZW50cy9hbmd1bGFyLWNvb2tpZXMvYW5ndWxh\nci1jb29raWVzLmpzJywKICAgICAgICAgICAgJ2FwcC9ib3dlcl9jb21wb25l\nbnRzL2FuZ3VsYXItYm9vdHN0cmFwL3VpLWJvb3RzdHJhcC5qcycsCiAgICAg\nICAgICAgICdhcHAvYm93ZXJfY29tcG9uZW50cy91bmRlcnNjb3JlL3VuZGVy\nc2NvcmUuanMnLAogICAgICAgICAgICAnYXBwL2Jvd2VyX2NvbXBvbmVudHMv\nanF1ZXJ5L2Rpc3QvanF1ZXJ5LmpzJywKICAgICAgICAgICAgJ2FwcC9qcy9h\ncHAuanMnLAogICAgICAgICAgICAnYXBwL2pzLyoqLyouanMnLAogICAgICAg\nICAgICAndGVzdC9jbGllbnQvKiovKi5qcycKICAgICAgICBdLAoKICAgICAg\nICBzYXVjZUxhYnM6IHsKICAgICAgICAgICAgdGVzdE5hbWU6ICdKdWljZS1T\naG9wIEFuZ3VsYXIgVW5pdCBUZXN0cycsCiAgICAgICAgICAgIHRhZ3M6IFtw\ncm9jZXNzLmVudi5UUkFWSVNfQlJBTkNIXSwKICAgICAgICAgICAgcmVjb3Jk\nU2NyZWVuc2hvdHM6IGZhbHNlCiAgICAgICAgfSwKCiAgICAgICAgYnJvd3Nl\nckRpc2Nvbm5lY3RUaW1lb3V0IDogMTAwMDAsCiAgICAgICAgYnJvd3NlckRp\nc2Nvbm5lY3RUb2xlcmFuY2UgOiAxLAogICAgICAgIGJyb3dzZXJOb0FjdGl2\naXR5VGltZW91dCA6IDQqNjAqMTAwMCwKICAgICAgICBjYXB0dXJlVGltZW91\ndCA6IDQqNjAqMTAwMCwKCiAgICAgICAgY29sb3JzOiB0cnVlLAogICAgICAg\nIHNpbmdsZVJ1bjogdHJ1ZSwKCiAgICAgICAgZnJhbWV3b3JrczogWydqYXNt\naW5lJ10sCgogICAgICAgIGJyb3dzZXJzOiBPYmplY3Qua2V5cyhjdXN0b21M\nYXVuY2hlcnMpLAoKICAgICAgICBjdXN0b21MYXVuY2hlcnM6IGN1c3RvbUxh\ndW5jaGVycywKCiAgICAgICAgcmVwb3J0ZXJzOiBbJ2RvdHMnLCAnc2F1Y2Vs\nYWJzJ10KCiAgICB9KTsKfTsK\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/karma.conf-ci.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/138c665e02d87766ec09791baf1162003f9fd25d","html":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/karma.conf-ci.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:57 GMT
      ETag:
      - W/"138c665e02d87766ec09791baf1162003f9fd25d"
      Last-Modified:
      - Fri, 24 Oct 2014 09:24:52 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C3AA:19304A:14E6A45:16329D7:66E29D9D
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4955'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '45'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/lib/datacache.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1
  response:
    body:
      string: '{"name":"datacache.js","path":"lib/datacache.js","sha":"486bccf592f702ca8df6a7300b3c62a9180d3ac5","size":176,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/lib/datacache.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","html_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/lib/datacache.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/486bccf592f702ca8df6a7300b3c62a9180d3ac5","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/lib/datacache.js","type":"file","content":"Lypqc2xpbnQgbm9kZTogdHJ1ZSAqLwondXNlIHN0cmljdCc7CgpleHBvcnRz\nLmNoYWxsZW5nZXMgPSB7fTsKZXhwb3J0cy51c2VycyA9IHt9OwpleHBvcnRz\nLnByb2R1Y3RzID0ge307CmV4cG9ydHMuZmVlZGJhY2sgPSB7fTsKZXhwb3J0\ncy5iYXNrZXRzID0ge307CmV4cG9ydHMuYmFza2V0SXRlbXMgPSB7fTs=\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/lib/datacache.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/486bccf592f702ca8df6a7300b3c62a9180d3ac5","html":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/lib/datacache.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:58 GMT
      ETag:
      - W/"486bccf592f702ca8df6a7300b3c62a9180d3ac5"
      Last-Modified:
      - Fri, 24 Oct 2014 09:24:52 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C3AB:11582E:12E5FC:13B341:66E29D9E
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4954'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '46'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/lib/datacreator.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1
  response:
    body:
      string: '{"name":"datacreator.js","path":"lib/datacreator.js","sha":"3996b9e8d47cc3d32356423a48618762a86bf12e","size":11314,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/lib/datacreator.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","html_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/lib/datacreator.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/3996b9e8d47cc3d32356423a48618762a86bf12e","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/lib/datacreator.js","type":"file","content":"Lypqc2xpbnQgbm9kZTogdHJ1ZSAqLwondXNlIHN0cmljdCc7Cgp2YXIgbW9k\nZWxzID0gcmVxdWlyZSgnLi4vbW9kZWxzJyksCiAgICBkYXRhY2FjaGUgPSBy\nZXF1aXJlKCcuL2RhdGFjYWNoZScpLAogICAgY2hhbGxlbmdlcyA9IGRhdGFj\nYWNoZS5jaGFsbGVuZ2VzLAogICAgdXNlcnMgPSBkYXRhY2FjaGUudXNlcnMs\nCiAgICBwcm9kdWN0cyA9IGRhdGFjYWNoZS5wcm9kdWN0czsKCm1vZHVsZS5l\neHBvcnRzID0gZnVuY3Rpb24oKSB7CgogICAgY3JlYXRlQ2hhbGxlbmdlcygp\nOwogICAgY3JlYXRlVXNlcnMoKTsKICAgIGNyZWF0ZVByb2R1Y3RzKCk7CiAg\nICBjcmVhdGVCYXNrZXRzKCk7CiAgICBjcmVhdGVGZWVkYmFjaygpOwoKICAg\nIGZ1bmN0aW9uIGNyZWF0ZUNoYWxsZW5nZXMoKSB7CiAgICAgICAgbW9kZWxz\nLkNoYWxsZW5nZS5jcmVhdGUoewogICAgICAgICAgICBkZXNjcmlwdGlvbjog\nJ0ZpbmQgdGhlIGNhcmVmdWxseSBoaWRkZW4gXCdTY29yZSBCb2FyZFwnIHBh\nZ2UuJywKICAgICAgICAgICAgc29sdmVkOiBmYWxzZQogICAgICAgIH0pLnN1\nY2Nlc3MoZnVuY3Rpb24gKGNoYWxsZW5nZSkgewogICAgICAgICAgICBjaGFs\nbGVuZ2VzLnNjb3JlQm9hcmRDaGFsbGVuZ2UgPSBjaGFsbGVuZ2U7CiAgICAg\nICAgfSk7CiAgICAgICAgbW9kZWxzLkNoYWxsZW5nZS5jcmVhdGUoewogICAg\nICAgICAgICBkZXNjcmlwdGlvbjogJ1Byb3Zva2UgYW4gZXJyb3IgdGhhdCBp\ncyBub3QgdmVyeSBncmFjZWZ1bGx5IGhhbmRsZWQuJywKICAgICAgICAgICAg\nc29sdmVkOiBmYWxzZQogICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKGNo\nYWxsZW5nZSkgewogICAgICAgICAgICBjaGFsbGVuZ2VzLmVycm9ySGFuZGxp\nbmdDaGFsbGVuZ2UgPSBjaGFsbGVuZ2U7CiAgICAgICAgfSk7CiAgICAgICAg\nbW9kZWxzLkNoYWxsZW5nZS5jcmVhdGUoewogICAgICAgICAgICBkZXNjcmlw\ndGlvbjogJ0xvZyBpbiB3aXRoIHRoZSBhZG1pbmlzdHJhdG9yXCdzIHVzZXIg\nYWNjb3VudC4nLAogICAgICAgICAgICBzb2x2ZWQ6IGZhbHNlCiAgICAgICAg\nfSkuc3VjY2VzcyhmdW5jdGlvbiAoY2hhbGxlbmdlKSB7CiAgICAgICAgICAg\nIGNoYWxsZW5nZXMubG9naW5BZG1pbkNoYWxsZW5nZSA9IGNoYWxsZW5nZTsK\nICAgICAgICB9KTsKICAgICAgICBtb2RlbHMuQ2hhbGxlbmdlLmNyZWF0ZSh7\nCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnTG9nIGluIHdpdGggSmltXCdz\nIHVzZXIgYWNjb3VudC4nLAogICAgICAgICAgICBzb2x2ZWQ6IGZhbHNlCiAg\nICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAoY2hhbGxlbmdlKSB7CiAgICAg\nICAgICAgIGNoYWxsZW5nZXMubG9naW5KaW1DaGFsbGVuZ2UgPSBjaGFsbGVu\nZ2U7CiAgICAgICAgfSk7CiAgICAgICAgbW9kZWxzLkNoYWxsZW5nZS5jcmVh\ndGUoewogICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0xvZyBpbiB3aXRoIEJl\nbmRlclwncyB1c2VyIGFjY291bnQuJywKICAgICAgICAgICAgc29sdmVkOiBm\nYWxzZQogICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKGNoYWxsZW5nZSkg\newogICAgICAgICAgICBjaGFsbGVuZ2VzLmxvZ2luQmVuZGVyQ2hhbGxlbmdl\nID0gY2hhbGxlbmdlOwogICAgICAgIH0pOwogICAgICAgIG1vZGVscy5DaGFs\nbGVuZ2UuY3JlYXRlKHsKICAgICAgICAgICAgZGVzY3JpcHRpb246ICdYU1Mg\nVGllciAxOiBQZXJmb3JtIGEgPGk+cmVmbGVjdGVkPC9pPiBYU1MgYXR0YWNr\nIHdpdGggJmx0O3NjcmlwdCZndDthbGVydCgiWFNTMSIpJmx0Oy9zY3JpcHQm\nZ3Q7LicsCiAgICAgICAgICAgIHNvbHZlZDogZmFsc2UKICAgICAgICB9KS5z\ndWNjZXNzKGZ1bmN0aW9uIChjaGFsbGVuZ2UpIHsKICAgICAgICAgICAgY2hh\nbGxlbmdlcy5sb2NhbFhzc0NoYWxsZW5nZSA9IGNoYWxsZW5nZTsKICAgICAg\nICB9KTsKICAgICAgICBtb2RlbHMuQ2hhbGxlbmdlLmNyZWF0ZSh7CiAgICAg\nICAgICAgIGRlc2NyaXB0aW9uOiAnWFNTIFRpZXIgMjogUGVyZm9ybSBhIDxp\nPnBlcnNpc3RlZDwvaT4gWFNTIGF0dGFjayB3aXRoICZsdDtzY3JpcHQmZ3Q7\nYWxlcnQoIlhTUzIiKSZsdDsvc2NyaXB0Jmd0OyBieXBhc3NpbmcgYSA8aT5j\nbGllbnQtc2lkZTwvaT4gc2VjdXJpdHkgbWVjaGFuaXNtLicsCiAgICAgICAg\nICAgIHNvbHZlZDogZmFsc2UKICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9u\nIChjaGFsbGVuZ2UpIHsKICAgICAgICAgICAgY2hhbGxlbmdlcy5wZXJzaXN0\nZWRYc3NDaGFsbGVuZ2VVc2VyID0gY2hhbGxlbmdlOwogICAgICAgIH0pOwog\nICAgICAgIG1vZGVscy5DaGFsbGVuZ2UuY3JlYXRlKHsKICAgICAgICAgICAg\nZGVzY3JpcHRpb246ICdYU1MgVGllciAzOiBQZXJmb3JtIGEgPGk+cGVyc2lz\ndGVkPC9pPiBYU1MgYXR0YWNrIHdpdGggJmx0O3NjcmlwdCZndDthbGVydCgi\nWFNTMyIpJmx0Oy9zY3JpcHQmZ3Q7IGJ5cGFzc2luZyBhIDxpPnNlcnZlci1z\naWRlPC9pPiBzZWN1cml0eSBtZWNoYW5pc20uJywKICAgICAgICAgICAgc29s\ndmVkOiBmYWxzZQogICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKGNoYWxs\nZW5nZSkgewogICAgICAgICAgICBjaGFsbGVuZ2VzLnBlcnNpc3RlZFhzc0No\nYWxsZW5nZUZlZWRiYWNrID0gY2hhbGxlbmdlOwogICAgICAgIH0pOwogICAg\nICAgIG1vZGVscy5DaGFsbGVuZ2UuY3JlYXRlKHsKICAgICAgICAgICAgZGVz\nY3JpcHRpb246ICdYU1MgVGllciA0OiBQZXJmb3JtIGEgPGk+cGVyc2lzdGVk\nPC9pPiBYU1MgYXR0YWNrIHdpdGggJmx0O3NjcmlwdCZndDthbGVydCgiWFNT\nNCIpJmx0Oy9zY3JpcHQmZ3Q7IHdpdGhvdXQgdXNpbmcgdGhlIGZyb250ZW5k\nIGFwcGxpY2F0aW9uIGF0IGFsbC4nLAogICAgICAgICAgICBzb2x2ZWQ6IGZh\nbHNlCiAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAoY2hhbGxlbmdlKSB7\nCiAgICAgICAgICAgIGNoYWxsZW5nZXMucmVzdGZ1bFhzc0NoYWxsZW5nZSA9\nIGNoYWxsZW5nZTsKICAgICAgICB9KTsKICAgICAgICBtb2RlbHMuQ2hhbGxl\nbmdlLmNyZWF0ZSh7CiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUmV0cmll\ndmUgYSBsaXN0IG9mIGFsbCB1c2VyIGNyZWRlbnRpYWxzIHZpYSBTUUwgSW5q\nZWN0aW9uJywKICAgICAgICAgICAgc29sdmVkOiBmYWxzZQogICAgICAgIH0p\nLnN1Y2Nlc3MoZnVuY3Rpb24gKGNoYWxsZW5nZSkgewogICAgICAgICAgICBj\naGFsbGVuZ2VzLnVuaW9uU3FsSW5qZWN0aW9uQ2hhbGxlbmdlID0gY2hhbGxl\nbmdlOwogICAgICAgIH0pOwogICAgICAgIG1vZGVscy5DaGFsbGVuZ2UuY3Jl\nYXRlKHsKICAgICAgICAgICAgZGVzY3JpcHRpb246ICdMb2cgaW4gd2l0aCB0\naGUgYWRtaW5pc3RyYXRvclwncyB1c2VyIGNyZWRlbnRpYWxzIHdpdGhvdXQg\ncHJldmlvdXNseSBjaGFuZ2luZyB0aGVtIG9yIGFwcGx5aW5nIFNRTCBJbmpl\nY3Rpb24uJywKICAgICAgICAgICAgc29sdmVkOiBmYWxzZQogICAgICAgIH0p\nLnN1Y2Nlc3MoZnVuY3Rpb24gKGNoYWxsZW5nZSkgewogICAgICAgICAgICBj\naGFsbGVuZ2VzLndlYWtQYXNzd29yZENoYWxsZW5nZSA9IGNoYWxsZW5nZTsK\nICAgICAgICB9KTsKICAgICAgICBtb2RlbHMuQ2hhbGxlbmdlLmNyZWF0ZSh7\nCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnR2V0IHJpZCBvZiBhbGwgNS1z\ndGFyIGN1c3RvbWVyIGZlZWRiYWNrLicsCiAgICAgICAgICAgIHNvbHZlZDog\nZmFsc2UKICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uIChjaGFsbGVuZ2Up\nIHsKICAgICAgICAgICAgY2hhbGxlbmdlcy5mZWVkYmFja0NoYWxsZW5nZSA9\nIGNoYWxsZW5nZTsKICAgICAgICB9KTsKICAgICAgICBtb2RlbHMuQ2hhbGxl\nbmdlLmNyZWF0ZSh7CiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUG9zdCBz\nb21lIGZlZWRiYWNrIGluIGFub3RoZXIgdXNlcnMgbmFtZS4nLAogICAgICAg\nICAgICBzb2x2ZWQ6IGZhbHNlCiAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlv\nbiAoY2hhbGxlbmdlKSB7CiAgICAgICAgICAgIGNoYWxsZW5nZXMuZm9yZ2Vk\nRmVlZGJhY2tDaGFsbGVuZ2UgPSBjaGFsbGVuZ2U7CiAgICAgICAgfSk7CiAg\nICAgICAgbW9kZWxzLkNoYWxsZW5nZS5jcmVhdGUoewogICAgICAgICAgICBk\nZXNjcmlwdGlvbjogJ1doZXJldmVyIHlvdSBnbywgdGhlcmUgeW91IGFyZS4n\nLAogICAgICAgICAgICBzb2x2ZWQ6IGZhbHNlCiAgICAgICAgfSkuc3VjY2Vz\ncyhmdW5jdGlvbiAoY2hhbGxlbmdlKSB7CiAgICAgICAgICAgIGNoYWxsZW5n\nZXMucmVkaXJlY3RDaGFsbGVuZ2UgPSBjaGFsbGVuZ2U7CiAgICAgICAgfSk7\nCiAgICAgICAgbW9kZWxzLkNoYWxsZW5nZS5jcmVhdGUoewogICAgICAgICAg\nICBkZXNjcmlwdGlvbjogJ0FjY2VzcyBzb21lb25lIGVsc2VcJ3MgYmFza2V0\nLicsCiAgICAgICAgICAgIHNvbHZlZDogZmFsc2UKICAgICAgICB9KS5zdWNj\nZXNzKGZ1bmN0aW9uIChjaGFsbGVuZ2UpIHsKICAgICAgICAgICAgY2hhbGxl\nbmdlcy5iYXNrZXRDaGFsbGVuZ2UgPSBjaGFsbGVuZ2U7CiAgICAgICAgfSk7\nCiAgICAgICAgbW9kZWxzLkNoYWxsZW5nZS5jcmVhdGUoewogICAgICAgICAg\nICBkZXNjcmlwdGlvbjogJ1BsYWNlIGFuIG9yZGVyIHRoYXQgbWFrZXMgeW91\nIHJpY2guJywKICAgICAgICAgICAgc29sdmVkOiBmYWxzZQogICAgICAgIH0p\nLnN1Y2Nlc3MoZnVuY3Rpb24gKGNoYWxsZW5nZSkgewogICAgICAgICAgICBj\naGFsbGVuZ2VzLm5lZ2F0aXZlT3JkZXJDaGFsbGVuZ2UgPSBjaGFsbGVuZ2U7\nCiAgICAgICAgfSk7CiAgICAgICAgbW9kZWxzLkNoYWxsZW5nZS5jcmVhdGUo\newogICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0FjY2VzcyBhIGNvbmZpZGVu\ndGlhbCBkb2N1bWVudC4nLAogICAgICAgICAgICBzb2x2ZWQ6IGZhbHNlCiAg\nICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAoY2hhbGxlbmdlKSB7CiAgICAg\nICAgICAgIGNoYWxsZW5nZXMuZGlyZWN0b3J5TGlzdGluZ0NoYWxsZW5nZSA9\nIGNoYWxsZW5nZTsKICAgICAgICB9KTsKICAgICAgICBtb2RlbHMuQ2hhbGxl\nbmdlLmNyZWF0ZSh7CiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQWNjZXNz\nIHRoZSBhZG1pbmlzdHJhdGlvbiBzZWN0aW9uIG9mIHRoZSBzdG9yZS4nLAog\nICAgICAgICAgICBzb2x2ZWQ6IGZhbHNlCiAgICAgICAgfSkuc3VjY2Vzcyhm\ndW5jdGlvbiAoY2hhbGxlbmdlKSB7CiAgICAgICAgICAgIGNoYWxsZW5nZXMu\nYWRtaW5TZWN0aW9uQ2hhbGxlbmdlID0gY2hhbGxlbmdlOwogICAgICAgIH0p\nOwogICAgICAgIG1vZGVscy5DaGFsbGVuZ2UuY3JlYXRlKHsKICAgICAgICAg\nICAgZGVzY3JpcHRpb246ICdDaGFuZ2UgQmVuZGVyXCdzIHBhc3N3b3JkIGlu\ndG8gPGk+c2x1cm1DbDRzc2ljPC9pPi4nLAogICAgICAgICAgICBzb2x2ZWQ6\nIGZhbHNlCiAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAoY2hhbGxlbmdl\nKSB7CiAgICAgICAgICAgIGNoYWxsZW5nZXMuY3NyZkNoYWxsZW5nZSA9IGNo\nYWxsZW5nZTsKICAgICAgICB9KTsKICAgICAgICBtb2RlbHMuQ2hhbGxlbmdl\nLmNyZWF0ZSh7CiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ2hhbmdlIHRo\nZSBsaW5rIGluIHRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgPGEgaHJlZj0iLyMv\nc2VhcmNoP3E9Ty1TYWZ0Ij5PLVNhZnQgcHJvZHVjdDwvYT4gdG8gPGk+aHR0\ncDovL2tpbW1pbmljaC5kZTwvaT4uJywKICAgICAgICAgICAgc29sdmVkOiBm\nYWxzZQogICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKGNoYWxsZW5nZSkg\newogICAgICAgICAgICBjaGFsbGVuZ2VzLmNoYW5nZVByb2R1Y3RDaGFsbGVu\nZ2UgPSBjaGFsbGVuZ2U7CiAgICAgICAgfSk7CiAgICAgICAgbW9kZWxzLkNo\nYWxsZW5nZS5jcmVhdGUoewogICAgICAgICAgICBkZXNjcmlwdGlvbjogJzxh\nIGhyZWY9Ii8jL2NvbnRhY3QiPkluZm9ybSB0aGUgc2hvcDwvYT4gYWJvdXQg\nYSB2dWxuZXJhYmxlIGxpYnJhcnkgaXQgaXMgdXNpbmcuIChNZW50aW9uIHRo\nZSBleGFjdCBsaWJyYXJ5IG5hbWUgYW5kIHZlcnNpb24gaW4geW91ciBjb21w\nbGFpbnQuKScsCiAgICAgICAgICAgIHNvbHZlZDogZmFsc2UKICAgICAgICB9\nKS5zdWNjZXNzKGZ1bmN0aW9uIChjaGFsbGVuZ2UpIHsKICAgICAgICAgICAg\nY2hhbGxlbmdlcy5rbm93blZ1bG5lcmFibGVDb21wb25lbnRDaGFsbGVuZ2Ug\nPSBjaGFsbGVuZ2U7CiAgICAgICAgfSk7CiAgICAgICAgbW9kZWxzLkNoYWxs\nZW5nZS5jcmVhdGUoewogICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0ZpbmQg\ndGhlIGhpZGRlbiA8YSBocmVmPSJodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93\naWtpL0Vhc3Rlcl9lZ2dfKG1lZGlhKSIgdGFyZ2V0PSJfYmxhbmsiPmVhc3Rl\nciBlZ2c8L2E+LicsCiAgICAgICAgICAgIHNvbHZlZDogZmFsc2UKICAgICAg\nICB9KS5zdWNjZXNzKGZ1bmN0aW9uIChjaGFsbGVuZ2UpIHsKICAgICAgICAg\nICAgY2hhbGxlbmdlcy5lYXN0ZXJFZ2dMZXZlbE9uZUNoYWxsZW5nZSA9IGNo\nYWxsZW5nZTsKICAgICAgICB9KTsKICAgICAgICBtb2RlbHMuQ2hhbGxlbmdl\nLmNyZWF0ZSh7CiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQXBwbHkgc29t\nZSBhZHZhbmNlZCBjcnlwdGFuYWx5c2lzIHRvIGZpbmQgPGk+dGhlIHJlYWw8\nL2k+IGVhc3RlciBlZ2cuJywKICAgICAgICAgICAgc29sdmVkOiBmYWxzZQog\nICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKGNoYWxsZW5nZSkgewogICAg\nICAgICAgICBjaGFsbGVuZ2VzLmVhc3RlckVnZ0xldmVsVHdvQ2hhbGxlbmdl\nID0gY2hhbGxlbmdlOwogICAgICAgIH0pOwogICAgfQogICAgZnVuY3Rpb24g\nY3JlYXRlVXNlcnMoKSB7CiAgICAgICAgbW9kZWxzLlVzZXIuY3JlYXRlKHsK\nICAgICAgICAgICAgZW1haWw6ICdhZG1pbkBqdWljZS1zaC5vcCcsCiAgICAg\nICAgICAgIHBhc3N3b3JkOiAnYWRtaW4xMjMnCiAgICAgICAgfSk7CiAgICAg\nICAgbW9kZWxzLlVzZXIuY3JlYXRlKHsKICAgICAgICAgICAgZW1haWw6ICdq\naW1AanVpY2Utc2gub3AnLAogICAgICAgICAgICBwYXNzd29yZDogJ25jYy0x\nNzAxJwogICAgICAgIH0pOwogICAgICAgIG1vZGVscy5Vc2VyLmNyZWF0ZSh7\nCiAgICAgICAgICAgIGVtYWlsOiAnYmVuZGVyQGp1aWNlLXNoLm9wJywKICAg\nICAgICAgICAgcGFzc3dvcmQ6ICdib296ZScKICAgICAgICB9KS5zdWNjZXNz\nKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgICAgIHVzZXJzLmJlbmRlciA9\nIHVzZXI7CiAgICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gY3JlYXRl\nUHJvZHVjdHMoKSB7CiAgICAgICAgbW9kZWxzLlByb2R1Y3QuY3JlYXRlKHsK\nICAgICAgICAgICAgbmFtZTogJ0FwcGxlIEp1aWNlICgxMDAwbWwpJywKICAg\nICAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgYWxsLXRpbWUgY2xhc3NpYy4n\nLAogICAgICAgICAgICBwcmljZTogMS45OSwKICAgICAgICAgICAgaW1hZ2U6\nICdhcHBsZV9qdWljZS5qcGcnCiAgICAgICAgfSk7CiAgICAgICAgbW9kZWxz\nLlByb2R1Y3QuY3JlYXRlKHsKICAgICAgICAgICAgbmFtZTogJ09yYW5nZSBK\ndWljZSAoMTAwMG1sKScsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnTWFk\nZSBmcm9tIG9yYW5nZXMgaGFuZC1waWNrZWQgYnkgVW5jbGUgRGl0dG1leWVy\nLicsCiAgICAgICAgICAgIHByaWNlOiAyLjk5LAogICAgICAgICAgICBpbWFn\nZTogJ29yYW5nZV9qdWljZS5qcGcnCiAgICAgICAgfSk7CiAgICAgICAgbW9k\nZWxzLlByb2R1Y3QuY3JlYXRlKHsKICAgICAgICAgICAgbmFtZTogJ0VnZ2Zy\ndWl0IEp1aWNlICg1MDBtbCknLAogICAgICAgICAgICBkZXNjcmlwdGlvbjog\nJ05vdyB3aXRoIGV2ZW4gbW9yZSBleG90aWMgZmxhdm91ci4nLAogICAgICAg\nICAgICBwcmljZTogOC45OSwKICAgICAgICAgICAgaW1hZ2U6ICdlZ2dmcnVp\ndF9qdWljZS5qcGcnCiAgICAgICAgfSk7CiAgICAgICAgbW9kZWxzLlByb2R1\nY3QuY3JlYXRlKHsKICAgICAgICAgICAgbmFtZTogJ1Jhc3BiZXJyeSBKdWlj\nZSAoMTAwMG1sKScsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnTWFkZSBm\ncm9tIGJsZW5kZWQgUmFzcGJlcnJ5IFBpLCB3YXRlciBhbmQgc3VnYXIuJywK\nICAgICAgICAgICAgcHJpY2U6IDQuOTksCiAgICAgICAgICAgIGltYWdlOiAn\ncmFzcGJlcnJ5X2p1aWNlLmpwZycKICAgICAgICB9KTsKICAgICAgICBtb2Rl\nbHMuUHJvZHVjdC5jcmVhdGUoewogICAgICAgICAgICBuYW1lOiAnTGVtb24g\nSnVpY2UgKDUwMG1sKScsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnU291\nciBidXQgZnVsbCBvZiB2aXRhbWlucy4nLAogICAgICAgICAgICBwcmljZTog\nMi45OSwKICAgICAgICAgICAgaW1hZ2U6ICdsZW1vbl9qdWljZS5qcGcnCiAg\nICAgICAgfSk7CiAgICAgICAgbW9kZWxzLlByb2R1Y3QuY3JlYXRlKHsKICAg\nICAgICAgICAgbmFtZTogJ0JhbmFuYSBKdWljZSAoMTAwMG1sKScsCiAgICAg\nICAgICAgIGRlc2NyaXB0aW9uOiAnTW9ua2V5cyBsb3ZlIGl0IHRoZSBtb3N0\nLicsCiAgICAgICAgICAgIHByaWNlOiAxLjk5LAogICAgICAgICAgICBpbWFn\nZTogJ2JhbmFuYV9qdWljZS5qcGcnCiAgICAgICAgfSk7CiAgICAgICAgbW9k\nZWxzLlByb2R1Y3QuY3JlYXRlKHsKICAgICAgICAgICAgbmFtZTogJ0xlbW9u\nIEp1aWNlICg1MDBtbCknLAogICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1Nv\ndXIgYnV0IGZ1bGwgb2Ygdml0YW1pbnMuJywKICAgICAgICAgICAgcHJpY2U6\nIDIuOTksCiAgICAgICAgICAgIGltYWdlOiAnbGVtb25fanVpY2UuanBnJwog\nICAgICAgIH0pOwogICAgICAgIG1vZGVscy5Qcm9kdWN0LmNyZWF0ZSh7CiAg\nICAgICAgICAgIG5hbWU6ICdKdWljZSBTaG9wIFQtU2hpcnQgKDNYTCknLAog\nICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1JlYWwgZmFucyB3ZWFyIGl0IDI0\nLzchJywKICAgICAgICAgICAgcHJpY2U6IDI0Ljk5LAogICAgICAgICAgICBp\nbWFnZTogJ2Zhbl9zaGlydC5qcGcnCiAgICAgICAgfSk7CiAgICAgICAgbW9k\nZWxzLlByb2R1Y3QuY3JlYXRlKHsKICAgICAgICAgICAgbmFtZTogJ09XQVNQ\nIFNTTCBBZHZhbmNlZCBGb3JlbnNpYyBUb29sIChPLVNhZnQpJywKICAgICAg\nICAgICAgZGVzY3JpcHRpb246ICdPLVNhZnQgaXMgYW4gZWFzeSB0byB1c2Ug\ndG9vbCB0byBzaG93IGluZm9ybWF0aW9uIGFib3V0IFNTTCBjZXJ0aWZpY2F0\nZSBhbmQgdGVzdHMgdGhlIFNTTCBjb25uZWN0aW9uIGFjY29yZGluZyBnaXZl\nbiBsaXN0IG9mIGNpcGhlcnMgYW5kIHZhcmlvdXMgU1NMIGNvbmZpZ3VyYXRp\nb25zLiA8YSBocmVmPSJodHRwczovL3d3dy5vd2FzcC5vcmcvaW5kZXgucGhw\nL08tU2FmdCIgdGFyZ2V0PSJfYmxhbmsiPk1vcmUuLi48L2E+JywKICAgICAg\nICAgICAgcHJpY2U6IDAuMDEsCiAgICAgICAgICAgIGltYWdlOiAnb3dhc3Bf\nb3NhZnQuanBnJwogICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKHByb2R1\nY3QpIHsKICAgICAgICAgICAgcHJvZHVjdHMub3NhZnQgPSBwcm9kdWN0Owog\nICAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIGNyZWF0ZUJhc2tldHMo\nKSB7CiAgICAgICAgbW9kZWxzLkJhc2tldC5jcmVhdGUoewogICAgICAgICAg\nICBVc2VySWQ6IDEKICAgICAgICB9KTsKICAgICAgICBtb2RlbHMuQmFza2V0\nLmNyZWF0ZSh7CiAgICAgICAgICAgIFVzZXJJZDogMgogICAgICAgIH0pOwog\nICAgICAgIG1vZGVscy5CYXNrZXQuY3JlYXRlKHsKICAgICAgICAgICAgVXNl\ncklkOiAzCiAgICAgICAgfSk7CiAgICAgICAgbW9kZWxzLkJhc2tldEl0ZW0u\nY3JlYXRlKHsKICAgICAgICAgICAgQmFza2V0SWQ6IDEsCiAgICAgICAgICAg\nIFByb2R1Y3RJZDogMSwKICAgICAgICAgICAgcXVhbnRpdHk6IDIKICAgICAg\nICB9KTsKICAgICAgICBtb2RlbHMuQmFza2V0SXRlbS5jcmVhdGUoewogICAg\nICAgICAgICBCYXNrZXRJZDogMSwKICAgICAgICAgICAgUHJvZHVjdElkOiAy\nLAogICAgICAgICAgICBxdWFudGl0eTogMwogICAgICAgIH0pOwogICAgICAg\nIG1vZGVscy5CYXNrZXRJdGVtLmNyZWF0ZSh7CiAgICAgICAgICAgIEJhc2tl\ndElkOiAxLAogICAgICAgICAgICBQcm9kdWN0SWQ6IDMsCiAgICAgICAgICAg\nIHF1YW50aXR5OiAxCiAgICAgICAgfSk7CiAgICAgICAgbW9kZWxzLkJhc2tl\ndEl0ZW0uY3JlYXRlKHsKICAgICAgICAgICAgQmFza2V0SWQ6IDIsCiAgICAg\nICAgICAgIFByb2R1Y3RJZDogNCwKICAgICAgICAgICAgcXVhbnRpdHk6IDIK\nICAgICAgICB9KTsKICAgICAgICBtb2RlbHMuQmFza2V0SXRlbS5jcmVhdGUo\newogICAgICAgICAgICBCYXNrZXRJZDogMywKICAgICAgICAgICAgUHJvZHVj\ndElkOiA1LAogICAgICAgICAgICBxdWFudGl0eTogMQogICAgICAgIH0pOwog\nICAgfQoKICAgIGZ1bmN0aW9uIGNyZWF0ZUZlZWRiYWNrKCkgewogICAgICAg\nIG1vZGVscy5GZWVkYmFjay5jcmVhdGUoewogICAgICAgICAgICBVc2VySWQ6\nIDEsCiAgICAgICAgICAgIGNvbW1lbnQ6ICdJIGxvdmUgdGhpcyBzaG9wISBC\nZXN0IGp1aWNlIGluIHRvd24hIEhpZ2hseSByZWNvbW1lbmRlZCEnLAogICAg\nICAgICAgICByYXRpbmc6IDUKICAgICAgICB9KTsKICAgICAgICBtb2RlbHMu\nRmVlZGJhY2suY3JlYXRlKHsKICAgICAgICAgICAgVXNlcklkOiAyLAogICAg\nICAgICAgICBjb21tZW50OiAnR3JlYXQgc2hvcCEgVGhlIE8tU2FmdCBpcyBo\naWdobHkgcmVjb21tZW5kZWQhJywKICAgICAgICAgICAgcmF0aW5nOiA0CiAg\nICAgICAgfSk7CiAgICAgICAgbW9kZWxzLkZlZWRiYWNrLmNyZWF0ZSh7CiAg\nICAgICAgICAgIGNvbW1lbnQ6ICdXaHkgaXNuXCd0IHRoZXJlIGEgVC1TaGly\ndCBmb3Igc2tpbm55IHBlb3BsZSBhdmFpbGFibGU/IScsCiAgICAgICAgICAg\nIHJhdGluZzogMgogICAgICAgIH0pOwogICAgICAgIG1vZGVscy5GZWVkYmFj\nay5jcmVhdGUoewogICAgICAgICAgICBjb21tZW50OiAnVGhpcyBpcyA8Yj50\naGU8L2I+IHN0b3JlIGZvciBqdWljZXMgb2YgYWxsIGtpbmRzIScsCiAgICAg\nICAgICAgIHJhdGluZzogNAogICAgICAgIH0pOwogICAgICAgIG1vZGVscy5G\nZWVkYmFjay5jcmVhdGUoewogICAgICAgICAgICBjb21tZW50OiAnTmV2ZXIg\nZ29ubmEgYnV5IG15IGp1aWNlIGFueXdoZXJlIGVsc2UgZnJvbSBub3cgb24h\nIFRoYW5rcyBmb3IgdGhlIGdyZWF0IHNlcnZpY2UhJywKICAgICAgICAgICAg\ncmF0aW5nOiA0CiAgICAgICAgfSk7CiAgICAgICAgbW9kZWxzLkZlZWRiYWNr\nLmNyZWF0ZSh7CiAgICAgICAgICAgIGNvbW1lbnQ6ICdLZWVwIHVwIHRoZSBn\nb29kIHdvcmshJywKICAgICAgICAgICAgcmF0aW5nOiAzCiAgICAgICAgfSk7\nCiAgICAgICAgbW9kZWxzLkZlZWRiYWNrLmNyZWF0ZSh7CiAgICAgICAgICAg\nIFVzZXJJZDogMywKICAgICAgICAgICAgY29tbWVudDogJ05vIHJlYWwgZHJp\nbmtzIGF2YWlsYWJsZSBoZXJlIScsCiAgICAgICAgICAgIHJhdGluZzogMQog\nICAgICAgIH0pOwogICAgfQp9Ow==\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/lib/datacreator.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/3996b9e8d47cc3d32356423a48618762a86bf12e","html":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/lib/datacreator.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:51:59 GMT
      ETag:
      - W/"3996b9e8d47cc3d32356423a48618762a86bf12e"
      Last-Modified:
      - Fri, 24 Oct 2014 09:24:52 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C3AC:11E56F:1CF6D:1E3E7:66E29D9E
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4953'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '47'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/lib/utils.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1
  response:
    body:
      string: '{"name":"utils.js","path":"lib/utils.js","sha":"b18be69d76c6274b2bf972de5067cd0c95baff90","size":1569,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/lib/utils.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","html_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/lib/utils.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/b18be69d76c6274b2bf972de5067cd0c95baff90","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/lib/utils.js","type":"file","content":"Lypqc2xpbnQgbm9kZTogdHJ1ZSAqLwondXNlIHN0cmljdCc7Cgp2YXIgcGFj\na2FnZUpzb24gPSByZXF1aXJlKCcuLi9wYWNrYWdlLmpzb24nKTsKCmV4cG9y\ndHMucXVlcnlSZXN1bHRUb0pzb24gPSBmdW5jdGlvbihkYXRhLCBzdGF0dXMp\nIHsKICAgIHZhciB3cmFwcGVkRGF0YSA9IHt9OwogICAgaWYgKGRhdGEpIHsK\nICAgICAgICBpZiAoIWRhdGEubGVuZ3RoICYmIGRhdGEuZGF0YVZhbHVlcykg\newogICAgICAgICAgICB3cmFwcGVkRGF0YSA9IGRhdGEuZGF0YVZhbHVlczsK\nICAgICAgICB9IGVsc2UgaWYgKGRhdGEubGVuZ3RoID4gMCkgewogICAgICAg\nICAgICB3cmFwcGVkRGF0YSA9IFtdOwogICAgICAgICAgICBmb3IgKHZhciBp\nPTA7IGk8ZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgd3Jh\ncHBlZERhdGEucHVzaChkYXRhW2ldLmRhdGFWYWx1ZXMgPyBkYXRhW2ldLmRh\ndGFWYWx1ZXMgOiBkYXRhW2ldKTsKICAgICAgICAgICAgfQogICAgICAgIH0g\nZWxzZSB7CiAgICAgICAgICAgIHdyYXBwZWREYXRhID0gZGF0YTsKICAgICAg\nICB9CiAgICB9CiAgICByZXR1cm4gewogICAgICAgIHN0YXR1czogc3RhdHVz\nIHx8ICdzdWNjZXNzJywKICAgICAgICBkYXRhOiB3cmFwcGVkRGF0YQogICAg\nfTsKfTsKCmV4cG9ydHMuc3RhcnRzV2l0aCA9IGZ1bmN0aW9uKHN0ciwgcHJl\nZml4KSB7CiAgICByZXR1cm4gc3RyLmluZGV4T2YocHJlZml4KSA9PT0gMDsK\nfTsKCmV4cG9ydHMuZW5kc1dpdGggPSBmdW5jdGlvbihzdHIsIHN1ZmZpeCkg\newogICAgcmV0dXJuIHN0ci5pbmRleE9mKHN1ZmZpeCwgc3RyLmxlbmd0aCAt\nIHN1ZmZpeC5sZW5ndGgpICE9PSAtMTsKfTsKCmV4cG9ydHMuY29udGFpbnMg\nPSBmdW5jdGlvbihzdHIsIGVsZW1lbnQpIHsKICAgIHJldHVybiBzdHIuaW5k\nZXhPZihlbGVtZW50KSAhPT0gLTE7Cn07CgpleHBvcnRzLnVucXVvdGUgPSBm\ndW5jdGlvbihzdHIpIHsKICAgIGlmIChzdHIgJiYgdGhpcy5zdGFydHNXaXRo\nKHN0ciwgJyInKSAmJiB0aGlzLmVuZHNXaXRoKHN0ciwgJyInKSkgewogICAg\nICAgIHJldHVybiBzdHIuc3Vic3RyaW5nKDEsIHN0ci5sZW5ndGgtMSk7CiAg\nICB9CiAgICBlbHNlIHsKICAgICAgICByZXR1cm4gc3RyOwogICAgfQp9OwoK\nZXhwb3J0cy52ZXJzaW9uID0gZnVuY3Rpb24obW9kdWxlKSB7CiAgICBpZiAo\nbW9kdWxlKSB7CiAgICAgICAgcmV0dXJuIHBhY2thZ2VKc29uLmRlcGVuZGVu\nY2llc1ttb2R1bGVdOwogICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gcGFj\na2FnZUpzb24udmVyc2lvbjsKICAgIH0KfTsKCmV4cG9ydHMuc29sdmUgPSBm\ndW5jdGlvbihjaGFsbGVuZ2UpIHsKICAgIGNoYWxsZW5nZS5zb2x2ZWQgPSB0\ncnVlOwogICAgY2hhbGxlbmdlLnNhdmUoKS5zdWNjZXNzKGZ1bmN0aW9uKCkg\newogICAgICAgIGNvbnNvbGUubG9nKCdTb2x2ZWQgY2hhbGxlbmdlICInICsg\nY2hhbGxlbmdlLmRlc2NyaXB0aW9uICsgJyInKTsKICAgIH0pOwp9OwoKZXhw\nb3J0cy5ub3RTb2x2ZWQgPSBmdW5jdGlvbihjaGFsbGVuZ2UpIHsKICAgIHJl\ndHVybiBjaGFsbGVuZ2UgJiYgIWNoYWxsZW5nZS5zb2x2ZWQ7Cn07\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/lib/utils.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/b18be69d76c6274b2bf972de5067cd0c95baff90","html":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/lib/utils.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:52:00 GMT
      ETag:
      - W/"b18be69d76c6274b2bf972de5067cd0c95baff90"
      Last-Modified:
      - Fri, 24 Oct 2014 09:24:52 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C3B1:21CD6:2B15975:2DCC37E:66E29D9F
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4952'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '48'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/middleware.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1
  response:
    body:
      string: '{"name":"middleware.js","path":"middleware.js","sha":"56f76077f3f448478b7d02e9462b2d73d412ada7","size":14052,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/middleware.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","html_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/middleware.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/56f76077f3f448478b7d02e9462b2d73d412ada7","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/middleware.js","type":"file","content":"Lypqc2xpbnQgbm9kZTogdHJ1ZSAqLwondXNlIHN0cmljdCc7Cgp2YXIgZnMg\nPSByZXF1aXJlKCdmcycpLAogICAgUERGRG9jdW1lbnQgPSByZXF1aXJlKCdw\nZGZraXQnKSwKICAgIHV0aWxzID0gcmVxdWlyZSgnLi9saWIvdXRpbHMnKSwK\nICAgIGluc2VjdXJpdHkgPSByZXF1aXJlKCcuL2xpYi9pbnNlY3VyaXR5Jyks\nCiAgICBtb2RlbHMgPSByZXF1aXJlKCcuL21vZGVscycpLAogICAgY2FjaGUg\nPSByZXF1aXJlKCcuL2xpYi9kYXRhY2FjaGUnKSwKICAgIGNoYWxsZW5nZXMg\nPSBjYWNoZS5jaGFsbGVuZ2VzOwoKZXhwb3J0cy52ZXJpZnlGb3JnZWRGZWVk\nYmFja0NoYWxsZW5nZSA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIGZ1bmN0\naW9uKHJlcSwgcmVzLCBuZXh0KSB7CiAgICAgICAgaWYgKHV0aWxzLm5vdFNv\nbHZlZChjaGFsbGVuZ2VzLmZvcmdlZEZlZWRiYWNrQ2hhbGxlbmdlKSkgewog\nICAgICAgICAgICB2YXIgdXNlciA9IGluc2VjdXJpdHkuYXV0aGVudGljYXRl\nZFVzZXJzLmZyb20ocmVxKTsKICAgICAgICAgICAgdmFyIHVzZXJJZCA9IHVz\nZXIgPyB1c2VyLmRhdGEuaWQgOiB1bmRlZmluZWQ7CiAgICAgICAgICAgIGlm\nIChyZXEuYm9keS5Vc2VySWQgJiYgcmVxLmJvZHkuVXNlcklkICE9IHVzZXJJ\nZCkgewogICAgICAgICAgICAgICAgdXRpbHMuc29sdmUoY2hhbGxlbmdlcy5m\nb3JnZWRGZWVkYmFja0NoYWxsZW5nZSk7CiAgICAgICAgICAgIH0KICAgICAg\nICB9CiAgICAgICAgbmV4dCgpOwogICAgfTsKfTsKCmV4cG9ydHMudmVyaWZ5\nQWNjZXNzQ29udHJvbENoYWxsZW5nZXMgPSBmdW5jdGlvbigpIHsKICAgIHJl\ndHVybiBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHsKICAgICAgICBpZiAo\ndXRpbHMubm90U29sdmVkKGNoYWxsZW5nZXMuc2NvcmVCb2FyZENoYWxsZW5n\nZSkgJiYgdXRpbHMuZW5kc1dpdGgocmVxLnVybCwgJy9zY29yZWJvYXJkLnBu\nZycpKSB7CiAgICAgICAgICAgIHV0aWxzLnNvbHZlKGNoYWxsZW5nZXMuc2Nv\ncmVCb2FyZENoYWxsZW5nZSk7CiAgICAgICAgfSBlbHNlIGlmICh1dGlscy5u\nb3RTb2x2ZWQoY2hhbGxlbmdlcy5hZG1pblNlY3Rpb25DaGFsbGVuZ2UpICYm\nIHV0aWxzLmVuZHNXaXRoKHJlcS51cmwsICcvYWRtaW5pc3RyYXRpb24ucG5n\nJykpIHsKICAgICAgICAgICAgdXRpbHMuc29sdmUoY2hhbGxlbmdlcy5hZG1p\nblNlY3Rpb25DaGFsbGVuZ2UpOwogICAgICAgIH0KICAgICAgICBuZXh0KCk7\nCiAgICB9Owp9OwoKZXhwb3J0cy5yZXRyaWV2ZUxvZ2dlZEluVXNlcnNJZCA9\nIGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChyZXEsIHJlcykg\newogICAgICAgIHZhciB1c2VyID0gaW5zZWN1cml0eS5hdXRoZW50aWNhdGVk\nVXNlcnMuZnJvbShyZXEpOwogICAgICAgIHJlcy5qc29uKHtpZDogKHVzZXIg\nPyB1c2VyLmRhdGEuaWQgOiB1bmRlZmluZWQpLCBlbWFpbDogKHVzZXIgPyB1\nc2VyLmRhdGEuZW1haWwgOiB1bmRlZmluZWQpfSk7CiAgICB9Owp9OwoKZXhw\nb3J0cy5yZXRyaWV2ZUFwcFZlcnNpb24gPSBmdW5jdGlvbigpIHsKICAgIHJl\ndHVybiBmdW5jdGlvbiAocmVxLCByZXMpIHsKICAgICAgICByZXMuanNvbih7\ndmVyc2lvbjogdXRpbHMudmVyc2lvbigpfSk7CiAgICB9Owp9OwoKZXhwb3J0\ncy5zZXJ2ZUFuZ3VsYXJDbGllbnQgPSBmdW5jdGlvbigpIHsKICAgIHJldHVy\nbiBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHsKICAgICAgICBpZiAoIXV0\naWxzLnN0YXJ0c1dpdGgocmVxLnVybCwgJy9hcGknKSAmJiAhdXRpbHMuc3Rh\ncnRzV2l0aChyZXEudXJsLCAnL3Jlc3QnKSkgewogICAgICAgICAgICByZXMu\nc2VuZEZpbGUoX19kaXJuYW1lICsgJy9hcHAvaW5kZXguaHRtbCcpOwogICAg\nICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG5leHQobmV3IEVycm9yKCdVbmV4\ncGVjdGVkIHBhdGg6ICcgKyByZXEudXJsKSk7CiAgICAgICAgfQogICAgfTsK\nfTsKCmV4cG9ydHMudmVyaWZ5RXJyb3JIYW5kbGluZ0NoYWxsZW5nZSA9IGZ1\nbmN0aW9uKCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlcnIsIHJlcSwgcmVz\nLCBuZXh0KSB7CiAgICAgICAgaWYgKHV0aWxzLm5vdFNvbHZlZChjaGFsbGVu\nZ2VzLmVycm9ySGFuZGxpbmdDaGFsbGVuZ2UpICYmIGVyciAmJiByZXMuc3Rh\ndHVzQ29kZSA+IDQwMSkgewogICAgICAgICAgICB1dGlscy5zb2x2ZShjaGFs\nbGVuZ2VzLmVycm9ySGFuZGxpbmdDaGFsbGVuZ2UpOwogICAgICAgIH0KICAg\nICAgICBuZXh0KGVycik7CiAgICB9Owp9OwoKZXhwb3J0cy5zZXJ2ZUVhc3Rl\nckVnZyA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChyZXEs\nIHJlcykgewogICAgICAgIGlmICh1dGlscy5ub3RTb2x2ZWQoY2hhbGxlbmdl\ncy5lYXN0ZXJFZ2dMZXZlbFR3b0NoYWxsZW5nZSkpIHsKICAgICAgICAgICAg\ndXRpbHMuc29sdmUoY2hhbGxlbmdlcy5lYXN0ZXJFZ2dMZXZlbFR3b0NoYWxs\nZW5nZSk7CiAgICAgICAgfQogICAgICAgIHJlcy5zZW5kRmlsZShfX2Rpcm5h\nbWUgKyAnL2FwcC9wcml2YXRlL3RocmVlanMtZGVtby5odG1sJyk7CiAgICB9\nOwp9OwoKZXhwb3J0cy5wZXJmb3JtUmVkaXJlY3QgPSBmdW5jdGlvbigpIHsK\nICAgIHJldHVybiBmdW5jdGlvbihyZXEsIHJlcykgewogICAgICAgIHZhciB0\nbyA9IHJlcS5xdWVyeS50bzsKICAgICAgICB2YXIgZ2l0aHViVXJsID0gJ2h0\ndHBzOi8vZ2l0aHViLmNvbS9ia2ltbWluaWNoL2p1aWNlLXNob3AnOwogICAg\nICAgIGlmICh0by5pbmRleE9mKGdpdGh1YlVybCkgPiAtMSkgewogICAgICAg\nICAgICBpZiAodXRpbHMubm90U29sdmVkKGNoYWxsZW5nZXMucmVkaXJlY3RD\naGFsbGVuZ2UpICYmIHRvICE9PSBnaXRodWJVcmwpIHsgLy8gVE9ETyBJbnN0\nZWFkIG1hdGNoIGFnYWluc3Qgc29tZXRoaW5nIGxpa2UgPGFub3RoZXJVcmw+\nWz8mXT1naXRodWJVcmwKICAgICAgICAgICAgICAgIHV0aWxzLnNvbHZlKGNo\nYWxsZW5nZXMucmVkaXJlY3RDaGFsbGVuZ2UpOwogICAgICAgICAgICB9CiAg\nICAgICAgICAgIHJlcy5yZWRpcmVjdCh0byk7CiAgICAgICAgfSBlbHNlIHsK\nICAgICAgICAgICAgcmVzLnJlZGlyZWN0KGdpdGh1YlVybCk7CiAgICAgICAg\nfQogICAgfTsKfTsKCmV4cG9ydHMucmV0cmlldmVCYXNrZXQgPSBmdW5jdGlv\nbigpIHsKICAgIHJldHVybiBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCl7CiAg\nICAgICAgdmFyIGlkID0gcmVxLnBhcmFtcy5pZDsKICAgICAgICBtb2RlbHMu\nQmFza2V0LmZpbmQoe3doZXJlOiB7aWQ6IGlkfSwgaW5jbHVkZTogWyBtb2Rl\nbHMuUHJvZHVjdCBdfSkKICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24o\nYmFza2V0KSB7CiAgICAgICAgICAgICAgICBpZiAodXRpbHMubm90U29sdmVk\nKGNoYWxsZW5nZXMuYmFza2V0Q2hhbGxlbmdlKSkgewogICAgICAgICAgICAg\nICAgICAgIHZhciB1c2VyID0gaW5zZWN1cml0eS5hdXRoZW50aWNhdGVkVXNl\ncnMuZnJvbShyZXEpOwogICAgICAgICAgICAgICAgICAgIGlmICh1c2VyICYm\nIHVzZXIuYmlkICE9IGlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHV0\naWxzLnNvbHZlKGNoYWxsZW5nZXMuYmFza2V0Q2hhbGxlbmdlKTsKICAgICAg\nICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAg\nICAgICByZXMuanNvbih1dGlscy5xdWVyeVJlc3VsdFRvSnNvbihiYXNrZXQp\nKTsKICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGVycm9yKSB7CiAg\nICAgICAgICAgICAgICBuZXh0KGVycm9yKTsKICAgICAgICAgICAgfSk7CiAg\nICB9Owp9OwoKZXhwb3J0cy5yZXRyaWV2ZVVzZXJMaXN0ID0gZnVuY3Rpb24o\nKSB7CiAgICByZXR1cm4gZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpewogICAg\nICAgIG1vZGVscy5Vc2VyLmZpbmRBbGwoKS5zdWNjZXNzKGZ1bmN0aW9uKHVz\nZXJzKSB7CiAgICAgICAgICAgIHZhciB1c2Vyc1dpdGhMb2dpblN0YXR1cyA9\nIHV0aWxzLnF1ZXJ5UmVzdWx0VG9Kc29uKHVzZXJzKTsKICAgICAgICAgICAg\ndXNlcnNXaXRoTG9naW5TdGF0dXMuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKHVz\nZXIpIHsKICAgICAgICAgICAgICAgIHVzZXIudG9rZW4gPSBpbnNlY3VyaXR5\nLmF1dGhlbnRpY2F0ZWRVc2Vycy50b2tlbk9mKHVzZXIpOwogICAgICAgICAg\nICB9KTsKICAgICAgICAgICAgcmVzLmpzb24odXNlcnNXaXRoTG9naW5TdGF0\ndXMpOwogICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uIChlcnJvcikgewogICAg\nICAgICAgICBuZXh0KGVycm9yKTsKICAgICAgICB9KTsKICAgIH07Cn07Cgpl\neHBvcnRzLmNyZWF0ZU9yZGVyUGRmID0gZnVuY3Rpb24oKSB7CiAgICByZXR1\ncm4gZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpewogICAgICAgIHZhciBpZCA9\nIHJlcS5wYXJhbXMuaWQ7CiAgICAgICAgbW9kZWxzLkJhc2tldC5maW5kKHt3\naGVyZToge2lkOiBpZH0sIGluY2x1ZGU6IFsgbW9kZWxzLlByb2R1Y3QgXX0p\nCiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGJhc2tldCkgewogICAg\nICAgICAgICAgICAgaWYgKGJhc2tldCkgewogICAgICAgICAgICAgICAgICAg\nIHZhciBjdXN0b21lciA9IGluc2VjdXJpdHkuYXV0aGVudGljYXRlZFVzZXJz\nLmZyb20ocmVxKTsKICAgICAgICAgICAgICAgICAgICB2YXIgb3JkZXJObyA9\nIGluc2VjdXJpdHkuaGFzaChuZXcgRGF0ZSgpKydfJytpZCk7CiAgICAgICAg\nICAgICAgICAgICAgdmFyIHBkZkZpbGUgPSAnb3JkZXJfJyArIG9yZGVyTm8g\nKyAnLnBkZic7CiAgICAgICAgICAgICAgICAgICAgdmFyIGRvYyA9IG5ldyBQ\nREZEb2N1bWVudCgpOwogICAgICAgICAgICAgICAgICAgIHZhciBmaWxlV3Jp\ndGVyID0gZG9jLnBpcGUoZnMuY3JlYXRlV3JpdGVTdHJlYW0oX19kaXJuYW1l\nICsgJy9hcHAvcHVibGljL2Z0cC8nICsgcGRmRmlsZSkpOwoKICAgICAgICAg\nICAgICAgICAgICBkb2MudGV4dCgnSnVpY2UtU2hvcCAtIE9yZGVyIENvbmZp\ncm1hdGlvbicpOwogICAgICAgICAgICAgICAgICAgIGRvYy5tb3ZlRG93bigp\nOwogICAgICAgICAgICAgICAgICAgIGRvYy5tb3ZlRG93bigpOwogICAgICAg\nICAgICAgICAgICAgIGRvYy5tb3ZlRG93bigpOwogICAgICAgICAgICAgICAg\nICAgIGRvYy50ZXh0KCdDdXN0b21lcjogJyArIChjdXN0b21lciA/IGN1c3Rv\nbWVyLmRhdGEgPyBjdXN0b21lci5kYXRhLmVtYWlsIDogdW5kZWZpbmVkIDog\ndW5kZWZpbmVkKSk7CiAgICAgICAgICAgICAgICAgICAgZG9jLm1vdmVEb3du\nKCk7CiAgICAgICAgICAgICAgICAgICAgZG9jLnRleHQoJ09yZGVyICM6ICcg\nKyBvcmRlck5vKTsKICAgICAgICAgICAgICAgICAgICBkb2MubW92ZURvd24o\nKTsKICAgICAgICAgICAgICAgICAgICBkb2MubW92ZURvd24oKTsKICAgICAg\nICAgICAgICAgICAgICB2YXIgdG90YWxQcmljZSA9IDA7CiAgICAgICAgICAg\nICAgICAgICAgYmFza2V0LnByb2R1Y3RzLmZvckVhY2goZnVuY3Rpb24ocHJv\nZHVjdCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbVRvdGFs\nID0gcHJvZHVjdC5wcmljZSpwcm9kdWN0LmJhc2tldEl0ZW0ucXVhbnRpdHk7\nCiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy50ZXh0KHByb2R1Y3QuYmFz\na2V0SXRlbS5xdWFudGl0eSArICd4ICcgKyBwcm9kdWN0Lm5hbWUgKyAnIGVh\nLiAnICsgcHJvZHVjdC5wcmljZSArICcgPSAnICsgaXRlbVRvdGFsKTsKICAg\nICAgICAgICAgICAgICAgICAgICAgZG9jLm1vdmVEb3duKCk7CiAgICAgICAg\nICAgICAgICAgICAgICAgIHRvdGFsUHJpY2UgKz0gaXRlbVRvdGFsOwogICAg\nICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGRvYy5t\nb3ZlRG93bigpOwogICAgICAgICAgICAgICAgICAgIGRvYy50ZXh0KCdUb3Rh\nbCBQcmljZTogJyArIHRvdGFsUHJpY2UpOwogICAgICAgICAgICAgICAgICAg\nIGRvYy5tb3ZlRG93bigpOwogICAgICAgICAgICAgICAgICAgIGRvYy5tb3Zl\nRG93bigpOwogICAgICAgICAgICAgICAgICAgIGRvYy50ZXh0KCdUaGFuayB5\nb3UgZm9yIHlvdXIgb3JkZXIhJyk7CiAgICAgICAgICAgICAgICAgICAgZG9j\nLmVuZCgpOwoKICAgICAgICAgICAgICAgICAgICBpZiAodXRpbHMubm90U29s\ndmVkKGNoYWxsZW5nZXMubmVnYXRpdmVPcmRlckNoYWxsZW5nZSkgJiYgdG90\nYWxQcmljZSA8IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHMu\nc29sdmUoY2hhbGxlbmdlcy5uZWdhdGl2ZU9yZGVyQ2hhbGxlbmdlKTsKICAg\nICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGZpbGVX\ncml0ZXIub24oJ2ZpbmlzaCcsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAg\nICAgICAgICAgICBtb2RlbHMuQmFza2V0SXRlbS5kZXN0cm95KHtCYXNrZXRJ\nZDogaWR9KTsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnNlbmQoJy9w\ndWJsaWMvZnRwLycgKyBwZGZGaWxlKTsKICAgICAgICAgICAgICAgICAgICB9\nKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAg\nICAgbmV4dChuZXcgRXJyb3IoJ0Jhc2tldCB3aXRoIGlkPScgKyBpZCArICcg\nZG9lcyBub3QgZXhpc3QuJykpOwogICAgICAgICAgICAgICAgfQogICAgICAg\nICAgICB9KS5lcnJvcihmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAg\nICAgIG5leHQoZXJyb3IpOwogICAgICAgICAgICB9KTsKICAgIH07Cn07Cgpl\neHBvcnRzLnNlYXJjaFByb2R1Y3RzID0gZnVuY3Rpb24oKSB7CiAgICByZXR1\ncm4gZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpewogICAgICAgIHZhciBjcml0\nZXJpYSA9IHJlcS5xdWVyeS5xID09PSAndW5kZWZpbmVkJyA/ICcnIDogcmVx\nLnF1ZXJ5LnEgfHwgJyc7CiAgICAgICAgaWYgKHV0aWxzLm5vdFNvbHZlZChj\naGFsbGVuZ2VzLmxvY2FsWHNzQ2hhbGxlbmdlKSAmJiB1dGlscy5jb250YWlu\ncyhjcml0ZXJpYSwgJzxzY3JpcHQ+YWxlcnQoIlhTUzEiKTwvc2NyaXB0Picp\nKSB7CiAgICAgICAgICAgIHV0aWxzLnNvbHZlKGNoYWxsZW5nZXMubG9jYWxY\nc3NDaGFsbGVuZ2UpOwogICAgICAgIH0KICAgICAgICBtb2RlbHMuc2VxdWVs\naXplLnF1ZXJ5KCdTRUxFQ1QgKiBGUk9NIFByb2R1Y3RzIFdIRVJFIChuYW1l\nIExJS0UgXCclJyArIGNyaXRlcmlhICsgJyVcJykgT1IgKGRlc2NyaXB0aW9u\nIExJS0UgXCclJyArIGNyaXRlcmlhICsgJyVcJyknKQogICAgICAgICAgICAu\nc3VjY2VzcyhmdW5jdGlvbihwcm9kdWN0cykgewogICAgICAgICAgICAgICAg\naWYgKHV0aWxzLm5vdFNvbHZlZChjaGFsbGVuZ2VzLnVuaW9uU3FsSW5qZWN0\naW9uQ2hhbGxlbmdlKSkgewogICAgICAgICAgICAgICAgICAgIHZhciBkYXRh\nU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkocHJvZHVjdHMpOwogICAgICAgICAg\nICAgICAgICAgIHZhciBzb2x2ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAg\nICAgIG1vZGVscy5Vc2VyLmZpbmRBbGwoKS5zdWNjZXNzKGZ1bmN0aW9uKGRh\ndGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJzID0gdXRp\nbHMucXVlcnlSZXN1bHRUb0pzb24oZGF0YSk7CiAgICAgICAgICAgICAgICAg\nICAgICAgIGlmICh1c2Vycy5kYXRhICYmIHVzZXJzLmRhdGEubGVuZ3RoKSB7\nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8\ndXNlcnMuZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgIHV0aWxzLnNvbHZlZCA9IHV0aWxzLnNvbHZlZCAmJiB1\ndGlscy5jb250YWlucyhkYXRhU3RyaW5nLCB1c2Vycy5kYXRhW2ldLmVtYWls\nKSAmJiB1dGlscy5jb250YWlucyhkYXRhU3RyaW5nLCB1c2Vycy5kYXRhW2ld\nLnBhc3N3b3JkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBp\nZiAoIXNvbHZlZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg\nICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9\nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAg\nICAgICAgICAgICAgICBpZiAoc29sdmVkKSB7CiAgICAgICAgICAgICAgICAg\nICAgICAgICAgICAgICAgdXRpbHMuc29sdmUoY2hhbGxlbmdlcy51bmlvblNx\nbEluamVjdGlvbkNoYWxsZW5nZSk7CiAgICAgICAgICAgICAgICAgICAgICAg\nICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAg\nICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAg\nIHJlcy5qc29uKHV0aWxzLnF1ZXJ5UmVzdWx0VG9Kc29uKHByb2R1Y3RzKSk7\nCiAgICAgICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uIChlcnJvcikgewogICAg\nICAgICAgICAgICAgbmV4dChlcnJvcik7CiAgICAgICAgICAgIH0pOwogICAg\nfTsKfTsKCmV4cG9ydHMuY2hhbmdlUGFzc3dvcmQgPSBmdW5jdGlvbigpIHsK\nICAgIHJldHVybiBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCl7CiAgICAgICAg\ndmFyIHBhc3N3b3JkID0gcmVxLnF1ZXJ5Lm5ldzsKICAgICAgICB2YXIgcmVw\nZWF0UGFzc3dvcmQgPSByZXEucXVlcnkucmVwZWF0OwogICAgICAgIGlmICgh\ncGFzc3dvcmQgfHwgcGFzc3dvcmQgPT09ICd1bmRlZmluZWQnKSB7CiAgICAg\nICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKCdQYXNzd29yZCBjYW5ub3Qg\nYmUgZW1wdHkuJyk7CiAgICAgICAgfSBlbHNlIGlmIChwYXNzd29yZCAhPT0g\ncmVwZWF0UGFzc3dvcmQpIHsKICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEp\nLnNlbmQoJ05ldyBhbmQgcmVwZWF0ZWQgcGFzc3dvcmQgZG8gbm90IG1hdGNo\nLicpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBsb2dnZWRJ\nblVzZXIgPSBpbnNlY3VyaXR5LmF1dGhlbnRpY2F0ZWRVc2Vycy5nZXQocmVx\nLmNvb2tpZXMudG9rZW4pOwogICAgICAgICAgICBpZiAobG9nZ2VkSW5Vc2Vy\nKSB7CiAgICAgICAgICAgICAgICBtb2RlbHMuVXNlci5maW5kKGxvZ2dlZElu\nVXNlci5kYXRhLmlkKS5zdWNjZXNzKGZ1bmN0aW9uKHVzZXIpIHsKICAgICAg\nICAgICAgICAgICAgICB1c2VyLnVwZGF0ZUF0dHJpYnV0ZXMoe3Bhc3N3b3Jk\nOiBwYXNzd29yZH0pLnN1Y2Nlc3MoZnVuY3Rpb24odXNlcikgewogICAgICAg\nICAgICAgICAgICAgICAgICByZXMuc2VuZCh1c2VyKTsKICAgICAgICAgICAg\nICAgICAgICB9KS5lcnJvcihmdW5jdGlvbihlcnJvcikgewogICAgICAgICAg\nICAgICAgICAgICAgICBuZXh0KGVycm9yKTsKICAgICAgICAgICAgICAgICAg\nICB9KTsKICAgICAgICAgICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uKGVycm9y\nKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dChlcnJvcik7CiAgICAgICAg\nICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAg\nICAgIG5leHQobmV3IEVycm9yKCdCbG9ja2VkIGlsbGVnYWwgYWN0aXZpdHkg\nYnkgJyArIHJlcS5jb25uZWN0aW9uLnJlbW90ZUFkZHJlc3MpKTsKICAgICAg\nICAgICAgfQogICAgICAgIH0KICAgIH07Cn07CgpleHBvcnRzLmxvZ2luVXNl\nciA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIGZ1bmN0aW9uKHJlcSwgcmVz\nLCBuZXh0KXsKICAgICAgICBpZiAodXRpbHMubm90U29sdmVkKGNoYWxsZW5n\nZXMud2Vha1Bhc3N3b3JkQ2hhbGxlbmdlKSAmJiByZXEuYm9keS5lbWFpbCA9\nPT0gJ2FkbWluQGp1aWNlLXNoLm9wJyAmJiByZXEuYm9keS5wYXNzd29yZCA9\nPT0gJ2FkbWluMTIzJykgewogICAgICAgICAgICB1dGlscy5zb2x2ZShjaGFs\nbGVuZ2VzLndlYWtQYXNzd29yZENoYWxsZW5nZSk7CiAgICAgICAgfQogICAg\nICAgIG1vZGVscy5zZXF1ZWxpemUucXVlcnkoJ1NFTEVDVCAqIEZST00gVXNl\ncnMgV0hFUkUgZW1haWwgPSBcJycgKyAocmVxLmJvZHkuZW1haWwgfHwgJycp\nICsgJ1wnIEFORCBwYXNzd29yZCA9IFwnJyArIGluc2VjdXJpdHkuaGFzaChy\nZXEuYm9keS5wYXNzd29yZCB8fCAnJykgKyAnXCcnLCBtb2RlbHMuVXNlciwg\ne3BsYWluOiB0cnVlfSkKICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24o\nYXV0aGVudGljYXRlZFVzZXIpIHsKICAgICAgICAgICAgICAgIHZhciB1c2Vy\nID0gdXRpbHMucXVlcnlSZXN1bHRUb0pzb24oYXV0aGVudGljYXRlZFVzZXIp\nOwogICAgICAgICAgICAgICAgaWYgKHVzZXIuZGF0YSAmJiB1c2VyLmRhdGEu\naWQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodXRpbHMubm90U29sdmVk\nKGNoYWxsZW5nZXMubG9naW5BZG1pbkNoYWxsZW5nZSkgJiYgdXNlci5kYXRh\nLmlkID09PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzLnNv\nbHZlKGNoYWxsZW5nZXMubG9naW5BZG1pbkNoYWxsZW5nZSk7CiAgICAgICAg\nICAgICAgICAgICAgfSBlbHNlIGlmICh1dGlscy5ub3RTb2x2ZWQoY2hhbGxl\nbmdlcy5sb2dpbkppbUNoYWxsZW5nZSkgJiYgdXNlci5kYXRhLmlkID09PSAy\nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzLnNvbHZlKGNoYWxs\nZW5nZXMubG9naW5KaW1DaGFsbGVuZ2UpOwogICAgICAgICAgICAgICAgICAg\nIH0gZWxzZSBpZiAgKHV0aWxzLm5vdFNvbHZlZChjaGFsbGVuZ2VzLmxvZ2lu\nQmVuZGVyQ2hhbGxlbmdlKSAmJiB1c2VyLmRhdGEuaWQgPT09IDMpIHsKICAg\nICAgICAgICAgICAgICAgICAgICAgdXRpbHMuc29sdmUoY2hhbGxlbmdlcy5s\nb2dpbkJlbmRlckNoYWxsZW5nZSk7CiAgICAgICAgICAgICAgICAgICAgfQog\nICAgICAgICAgICAgICAgICAgIG1vZGVscy5CYXNrZXQuZmluZE9yQ3JlYXRl\nKHtVc2VySWQ6IHVzZXIuZGF0YS5pZH0pLnN1Y2Nlc3MoZnVuY3Rpb24oYmFz\na2V0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IGlu\nc2VjdXJpdHkuYXV0aG9yaXplKHVzZXIpOwogICAgICAgICAgICAgICAgICAg\nICAgICB1c2VyLmJpZCA9IGJhc2tldC5pZDsgLy8ga2VlcCB0cmFjayBvZiBv\ncmlnaW5hbCBiYXNrZXQgZm9yIGNoYWxsZW5nZSBzb2x1dGlvbiBjaGVjawog\nICAgICAgICAgICAgICAgICAgICAgICBpbnNlY3VyaXR5LmF1dGhlbnRpY2F0\nZWRVc2Vycy5wdXQodG9rZW4sIHVzZXIpOwogICAgICAgICAgICAgICAgICAg\nICAgICByZXMuanNvbih7IHRva2VuOiB0b2tlbiwgYmlkOiBiYXNrZXQuaWQg\nfSk7CiAgICAgICAgICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGVy\ncm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoZXJyb3IpOwog\nICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNl\nIHsKICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCgn\nSW52YWxpZCBlbWFpbCBvciBwYXNzd29yZC4nKTsKICAgICAgICAgICAgICAg\nIH0KICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGVycm9yKSB7CiAg\nICAgICAgICAgICAgICBuZXh0KGVycm9yKTsKICAgICAgICAgICAgfSk7CiAg\nICB9Owp9OwoKZXhwb3J0cy5zZXJ2ZUZpbGVzID0gZnVuY3Rpb24oKSB7CiAg\nICByZXR1cm4gZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHsKICAgICAgICB2\nYXIgZmlsZSA9IHJlcS5wYXJhbXMuZmlsZTsKICAgICAgICBpZiAoZmlsZSAm\nJiAodXRpbHMuZW5kc1dpdGgoZmlsZSwgJy5tZCcpIHx8ICh1dGlscy5lbmRz\nV2l0aChmaWxlLCAnLnBkZicpKSkpIHsKICAgICAgICAgICAgZmlsZSA9IGlu\nc2VjdXJpdHkuY3V0T2ZmUG9pc29uTnVsbEJ5dGUoZmlsZSk7CiAgICAgICAg\nICAgIGlmICh1dGlscy5ub3RTb2x2ZWQoY2hhbGxlbmdlcy5lYXN0ZXJFZ2dM\nZXZlbE9uZUNoYWxsZW5nZSkgJiYgZmlsZS50b0xvd2VyQ2FzZSgpID09PSAn\nZWFzdGVyZS5nZycpIHsKICAgICAgICAgICAgICAgIHV0aWxzLnNvbHZlKGNo\nYWxsZW5nZXMuZWFzdGVyRWdnTGV2ZWxPbmVDaGFsbGVuZ2UpOwogICAgICAg\nICAgICB9IGVsc2UgaWYgKHV0aWxzLm5vdFNvbHZlZChjaGFsbGVuZ2VzLmRp\ncmVjdG9yeUxpc3RpbmdDaGFsbGVuZ2UpICYmIGZpbGUudG9Mb3dlckNhc2Uo\nKSA9PT0gJ2FjcXVpc2l0aW9ucy5tZCcpIHsKICAgICAgICAgICAgICAgIHV0\naWxzLnNvbHZlKGNoYWxsZW5nZXMuZGlyZWN0b3J5TGlzdGluZ0NoYWxsZW5n\nZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVzLnNlbmRGaWxlKF9f\nZGlybmFtZSArICcvYXBwL3B1YmxpYy9mdHAvJyArIGZpbGUpOwogICAgICAg\nIH0gZWxzZSB7CiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAzKTsKICAgICAg\nICAgICAgbmV4dChuZXcgRXJyb3IoJ09ubHkgLm1kIGFuZCAucGRmIGZpbGVz\nIGFyZSBhbGxvd2VkIScpKTsKICAgICAgICB9CiAgICB9Owp9OwoKZXhwb3J0\ncy52ZXJpZnlEYXRhYmFzZVJlbGF0ZWRDaGFsbGVuZ2VzID0gZnVuY3Rpb24o\nKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7CiAg\nICAgICAgaWYgKHV0aWxzLm5vdFNvbHZlZChjaGFsbGVuZ2VzLmNoYW5nZVBy\nb2R1Y3RDaGFsbGVuZ2UpICYmIGNhY2hlLnByb2R1Y3RzLm9zYWZ0KSB7CiAg\nICAgICAgICAgIGNhY2hlLnByb2R1Y3RzLm9zYWZ0LnJlbG9hZCgpLnN1Y2Nl\nc3MoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgaWYgKCF1dGlscy5j\nb250YWlucyhjYWNoZS5wcm9kdWN0cy5vc2FmdC5kZXNjcmlwdGlvbiwgJzxh\nIGhyZWY9Imh0dHBzOi8vd3d3Lm93YXNwLm9yZy9pbmRleC5waHAvTy1TYWZ0\nIiB0YXJnZXQ9Il9ibGFuayI+JykpIHsKICAgICAgICAgICAgICAgICAgICBp\nZiAodXRpbHMuY29udGFpbnMoY2FjaGUucHJvZHVjdHMub3NhZnQuZGVzY3Jp\ncHRpb24sICc8YSBocmVmPSJodHRwOi8va2ltbWluaWNoLmRlIiB0YXJnZXQ9\nIl9ibGFuayI+JykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHMu\nc29sdmUoY2hhbGxlbmdlcy5jaGFuZ2VQcm9kdWN0Q2hhbGxlbmdlKTsKICAg\nICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAg\nICAgIH0pOwogICAgICAgIH0KICAgICAgICBpZiAodXRpbHMubm90U29sdmVk\nKGNoYWxsZW5nZXMuY3NyZkNoYWxsZW5nZSkgJiYgY2FjaGUudXNlcnMuYmVu\nZGVyKSB7CiAgICAgICAgICAgIGNhY2hlLnVzZXJzLmJlbmRlci5yZWxvYWQo\nKS5zdWNjZXNzKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgaWYgKGNh\nY2hlLnVzZXJzLmJlbmRlci5wYXNzd29yZCA9PT0gaW5zZWN1cml0eS5oYXNo\nKCdzbHVybUNsNHNzaWMnKSkgewogICAgICAgICAgICAgICAgICAgIHV0aWxz\nLnNvbHZlKGNoYWxsZW5nZXMuY3NyZkNoYWxsZW5nZSk7CiAgICAgICAgICAg\nICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBpZiAo\ndXRpbHMubm90U29sdmVkKGNoYWxsZW5nZXMuZmVlZGJhY2tDaGFsbGVuZ2Up\nKSB7CiAgICAgICAgICAgIG1vZGVscy5GZWVkYmFjay5maW5kQW5kQ291bnRB\nbGwoe3doZXJlOiB7cmF0aW5nOiA1fX0pLnN1Y2Nlc3MoZnVuY3Rpb24gKGZl\nZWRiYWNrcykgewogICAgICAgICAgICAgICAgaWYgKGZlZWRiYWNrcy5jb3Vu\ndCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIHV0aWxzLnNvbHZlKGNo\nYWxsZW5nZXMuZmVlZGJhY2tDaGFsbGVuZ2UpOwogICAgICAgICAgICAgICAg\nfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgaWYgKHV0aWxz\nLm5vdFNvbHZlZChjaGFsbGVuZ2VzLmtub3duVnVsbmVyYWJsZUNvbXBvbmVu\ndENoYWxsZW5nZSkpIHsKICAgICAgICAgICAgbW9kZWxzLkZlZWRiYWNrLmZp\nbmRBbmRDb3VudEFsbCh7d2hlcmU6IG1vZGVscy5TZXF1ZWxpemUub3IoCiAg\nICAgICAgICAgICAgICAgICAgbW9kZWxzLlNlcXVlbGl6ZS5hbmQoWydjb21t\nZW50IExJS0UgXCclc2FuaXRpemUtaHRtbCVcJyddLCBbJ2NvbW1lbnQgTElL\nRSBcJyUxLjQuMiVcJyddKSwKICAgICAgICAgICAgICAgICAgICBtb2RlbHMu\nU2VxdWVsaXplLmFuZChbJ2NvbW1lbnQgTElLRSBcJyVodG1scGFyc2VyMiVc\nJyddLCBbJ2NvbW1lbnQgTElLRSBcJyUzLjMuMCVcJyddKSApIH0KICAgICAg\nICAgICAgKS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAg\nICAgICAgICAgaWYgKGRhdGEuY291bnQgPiAwKSB7CiAgICAgICAgICAgICAg\nICAgICAgICAgIHV0aWxzLnNvbHZlKGNoYWxsZW5nZXMua25vd25WdWxuZXJh\nYmxlQ29tcG9uZW50Q2hhbGxlbmdlKTsKICAgICAgICAgICAgICAgICAgICB9\nCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgbmV4dCgp\nOwogICAgfTsKfTsK\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/middleware.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/56f76077f3f448478b7d02e9462b2d73d412ada7","html":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/middleware.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:52:00 GMT
      ETag:
      - W/"56f76077f3f448478b7d02e9462b2d73d412ada7"
      Last-Modified:
      - Fri, 24 Oct 2014 09:24:52 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C3B2:3F0A6F:133BD20:146A512:66E29DA0
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4951'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '49'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/models/basket.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1
  response:
    body:
      string: '{"name":"basket.js","path":"models/basket.js","sha":"ea1a12aeb42afc17f3e3f240257863ad49ef319c","size":401,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/models/basket.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","html_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models/basket.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/ea1a12aeb42afc17f3e3f240257863ad49ef319c","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models/basket.js","type":"file","content":"Lypqc2xpbnQgbm9kZTogdHJ1ZSAqLwondXNlIHN0cmljdCc7Cgptb2R1bGUu\nZXhwb3J0cyA9IGZ1bmN0aW9uIChzZXF1ZWxpemUpIHsKICAgIHZhciBCYXNr\nZXQgPSBzZXF1ZWxpemUuZGVmaW5lKCdCYXNrZXQnLCB7CiAgICAgICAgfSwK\nICAgICAgICB7CiAgICAgICAgICAgIGNsYXNzTWV0aG9kczogewogICAgICAg\nICAgICAgICAgYXNzb2NpYXRlOiBmdW5jdGlvbiAobW9kZWxzKSB7CiAgICAg\nICAgICAgICAgICAgICAgQmFza2V0LmJlbG9uZ3NUbyhtb2RlbHMuVXNlcik7\nCiAgICAgICAgICAgICAgICAgICAgQmFza2V0Lmhhc01hbnkobW9kZWxzLlBy\nb2R1Y3QsIHt0aHJvdWdoOiBtb2RlbHMuQmFza2V0SXRlbX0pOwogICAgICAg\nICAgICAgICAgfX19CiAgICApOwogICAgcmV0dXJuIEJhc2tldDsKfTs=\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/models/basket.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/ea1a12aeb42afc17f3e3f240257863ad49ef319c","html":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models/basket.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:52:01 GMT
      ETag:
      - W/"ea1a12aeb42afc17f3e3f240257863ad49ef319c"
      Last-Modified:
      - Fri, 24 Oct 2014 09:24:52 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C3B3:3E8A81:2F5C2A4:324E7C8:66E29DA1
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4950'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '50'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/models/basketitem.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1
  response:
    body:
      string: '{"name":"basketitem.js","path":"models/basketitem.js","sha":"8704c7de8e364ca6747499d163f871ce2d44686d","size":369,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/models/basketitem.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","html_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models/basketitem.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/8704c7de8e364ca6747499d163f871ce2d44686d","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models/basketitem.js","type":"file","content":"Lypqc2xpbnQgbm9kZTogdHJ1ZSAqLwondXNlIHN0cmljdCc7Cgptb2R1bGUu\nZXhwb3J0cyA9IGZ1bmN0aW9uIChzZXF1ZWxpemUsIERhdGFUeXBlcykgewog\nICAgdmFyIEJhc2tldEl0ZW0gPSBzZXF1ZWxpemUuZGVmaW5lKCdCYXNrZXRJ\ndGVtJywgewogICAgICAgICAgICBpZDogewogICAgICAgICAgICAgICAgdHlw\nZTogRGF0YVR5cGVzLklOVEVHRVIsCiAgICAgICAgICAgICAgICBwcmltYXJ5\nS2V5OiB0cnVlLAogICAgICAgICAgICAgICAgYXV0b0luY3JlbWVudDogdHJ1\nZQogICAgICAgICAgICB9LAogICAgICAgICAgICBxdWFudGl0eTogRGF0YVR5\ncGVzLklOVEVHRVIKICAgICAgICB9CiAgICApOwogICAgcmV0dXJuIEJhc2tl\ndEl0ZW07Cn07\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/models/basketitem.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/8704c7de8e364ca6747499d163f871ce2d44686d","html":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models/basketitem.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:52:02 GMT
      ETag:
      - W/"8704c7de8e364ca6747499d163f871ce2d44686d"
      Last-Modified:
      - Fri, 24 Oct 2014 09:24:52 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C3B5:FB021:2A923D:2DD3D5:66E29DA2
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4947'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '53'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/models/challenge.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1
  response:
    body:
      string: '{"name":"challenge.js","path":"models/challenge.js","sha":"c080214a1054fefa3256d1a6e7f1dfdd6a4f2339","size":246,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/models/challenge.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","html_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models/challenge.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/c080214a1054fefa3256d1a6e7f1dfdd6a4f2339","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models/challenge.js","type":"file","content":"Lypqc2xpbnQgbm9kZTogdHJ1ZSAqLwondXNlIHN0cmljdCc7Cgptb2R1bGUu\nZXhwb3J0cyA9IGZ1bmN0aW9uIChzZXF1ZWxpemUsIERhdGFUeXBlcykgewog\nICAgdmFyIENoYWxsZW5nZSA9IHNlcXVlbGl6ZS5kZWZpbmUoJ0NoYWxsZW5n\nZScsIHsKICAgICAgICBkZXNjcmlwdGlvbjogRGF0YVR5cGVzLlNUUklORywK\nICAgICAgICBzb2x2ZWQ6IERhdGFUeXBlcy5CT09MRUFOCiAgICB9KTsKICAg\nIHJldHVybiBDaGFsbGVuZ2U7Cn07\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/models/challenge.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/c080214a1054fefa3256d1a6e7f1dfdd6a4f2339","html":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models/challenge.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:52:03 GMT
      ETag:
      - W/"c080214a1054fefa3256d1a6e7f1dfdd6a4f2339"
      Last-Modified:
      - Fri, 24 Oct 2014 09:24:52 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C3C1:1EF05C:32C2D65:35E08E6:66E29DA2
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4944'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '56'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/models/feedback.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1
  response:
    body:
      string: '{"name":"feedback.js","path":"models/feedback.js","sha":"fc3eb238c647ec59769e274833d743c1b8fb6c7f","size":1241,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/models/feedback.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","html_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models/feedback.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/fc3eb238c647ec59769e274833d743c1b8fb6c7f","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models/feedback.js","type":"file","content":"Lypqc2xpbnQgbm9kZTogdHJ1ZSAqLwondXNlIHN0cmljdCc7Cgp2YXIgaW5z\nZWN1cml0eSA9IHJlcXVpcmUoJy4uL2xpYi9pbnNlY3VyaXR5JyksCiAgICB1\ndGlscyA9IHJlcXVpcmUoJy4uL2xpYi91dGlscycpLAogICAgY2hhbGxlbmdl\ncyA9IHJlcXVpcmUoJy4uL2xpYi9kYXRhY2FjaGUnKS5jaGFsbGVuZ2VzOwoK\nbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc2VxdWVsaXplLCBEYXRhVHlw\nZXMpIHsKICAgIHZhciBGZWVkYmFjayA9IHNlcXVlbGl6ZS5kZWZpbmUoJ0Zl\nZWRiYWNrJywgewogICAgICAgICAgICBjb21tZW50OiBEYXRhVHlwZXMuU1RS\nSU5HLAogICAgICAgICAgICByYXRpbmc6IERhdGFUeXBlcy5JTlRFR0VSCiAg\nICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICAgIGNsYXNzTWV0aG9kczog\newogICAgICAgICAgICAgICAgYXNzb2NpYXRlOiBmdW5jdGlvbiAobW9kZWxz\nKSB7CiAgICAgICAgICAgICAgICAgICAgRmVlZGJhY2suYmVsb25nc1RvKG1v\nZGVscy5Vc2VyKTsKICAgICAgICAgICAgICAgIH19LAoKICAgICAgICAgICAg\naG9va3M6IHsKICAgICAgICAgICAgICAgIGJlZm9yZUNyZWF0ZTogZnVuY3Rp\nb24gKGZlZWRiYWNrLCBmbikgewogICAgICAgICAgICAgICAgICAgIGh0bWxT\nYW5pdGl6YXRpb25Ib29rKGZlZWRiYWNrKTsKICAgICAgICAgICAgICAgICAg\nICBmbihudWxsLCBmZWVkYmFjayk7CiAgICAgICAgICAgICAgICB9LAogICAg\nICAgICAgICAgICAgYmVmb3JlVXBkYXRlOiBmdW5jdGlvbiAoZmVlZGJhY2ss\nIGZuKSB7CiAgICAgICAgICAgICAgICAgICAgaHRtbFNhbml0aXphdGlvbkhv\nb2soZmVlZGJhY2spOwogICAgICAgICAgICAgICAgICAgIGZuKG51bGwsIGZl\nZWRiYWNrKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfX0pOwog\nICAgcmV0dXJuIEZlZWRiYWNrOwp9OwoKZnVuY3Rpb24gaHRtbFNhbml0aXph\ndGlvbkhvb2soZmVlZGJhY2spIHsKICAgIGZlZWRiYWNrLmNvbW1lbnQgPSBp\nbnNlY3VyaXR5LnNhbml0aXplSHRtbChmZWVkYmFjay5jb21tZW50KTsKICAg\nIGlmICh1dGlscy5ub3RTb2x2ZWQoY2hhbGxlbmdlcy5wZXJzaXN0ZWRYc3ND\naGFsbGVuZ2VGZWVkYmFjaykgJiYgdXRpbHMuY29udGFpbnMoZmVlZGJhY2su\nY29tbWVudCwgJzxzY3JpcHQ+YWxlcnQoIlhTUzMiKTwvc2NyaXB0PicpKSB7\nCiAgICAgICAgdXRpbHMuc29sdmUoY2hhbGxlbmdlcy5wZXJzaXN0ZWRYc3ND\naGFsbGVuZ2VGZWVkYmFjayk7CiAgICB9Cn0=\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/models/feedback.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/fc3eb238c647ec59769e274833d743c1b8fb6c7f","html":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models/feedback.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:52:03 GMT
      ETag:
      - W/"fc3eb238c647ec59769e274833d743c1b8fb6c7f"
      Last-Modified:
      - Fri, 24 Oct 2014 09:24:52 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C3C3:372E56:1CD2FB8:1E7E3BE:66E29DA3
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4943'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '57'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/models/index.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1
  response:
    body:
      string: '{"name":"index.js","path":"models/index.js","sha":"2a4032cedb2bad2f7d2438d63c2656ae1ba1ae0d","size":765,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/models/index.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","html_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models/index.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/2a4032cedb2bad2f7d2438d63c2656ae1ba1ae0d","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models/index.js","type":"file","content":"Lypqc2xpbnQgbm9kZTogdHJ1ZSAqLwondXNlIHN0cmljdCc7Cgp2YXIgZnMg\nPSByZXF1aXJlKCdmcycpLAogICAgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKSwK\nICAgIFNlcXVlbGl6ZSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpLAogICAgc2Vx\ndWVsaXplID0gbmV3IFNlcXVlbGl6ZSgnZGF0YWJhc2UnLCAndXNlcm5hbWUn\nLCAncGFzc3dvcmQnLCB7CiAgICAgICAgZGlhbGVjdDogJ3NxbGl0ZScsCiAg\nICAgICAgc3RvcmFnZTogJ2RhdGEvanVpY2VzaG9wLnNxbGl0ZScKICAgIH0p\nLAogICAgZGIgPSB7fTsKCmZzLnJlYWRkaXJTeW5jKF9fZGlybmFtZSkKICAg\nIC5maWx0ZXIoZnVuY3Rpb24gKGZpbGUpIHsKICAgICAgICByZXR1cm4gKGZp\nbGUuaW5kZXhPZignLicpICE9PSAwKSAmJiAoZmlsZSAhPT0gJ2luZGV4Lmpz\nJyk7CiAgICB9KQogICAgLmZvckVhY2goZnVuY3Rpb24gKGZpbGUpIHsKICAg\nICAgICB2YXIgbW9kZWwgPSBzZXF1ZWxpemVbJ2ltcG9ydCddKHBhdGguam9p\nbihfX2Rpcm5hbWUsIGZpbGUpKTsKICAgICAgICBkYlttb2RlbC5uYW1lXSA9\nIG1vZGVsOwogICAgfSk7CgpPYmplY3Qua2V5cyhkYikuZm9yRWFjaChmdW5j\ndGlvbiAobW9kZWxOYW1lKSB7CiAgICBpZiAoJ2Fzc29jaWF0ZScgaW4gZGJb\nbW9kZWxOYW1lXSkgewogICAgICAgIGRiW21vZGVsTmFtZV0uYXNzb2NpYXRl\nKGRiKTsKICAgIH0KfSk7CgpkYi5zZXF1ZWxpemUgPSBzZXF1ZWxpemU7CmRi\nLlNlcXVlbGl6ZSA9IFNlcXVlbGl6ZTsKCm1vZHVsZS5leHBvcnRzID0gZGI7\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/models/index.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/2a4032cedb2bad2f7d2438d63c2656ae1ba1ae0d","html":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models/index.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:52:04 GMT
      ETag:
      - W/"2a4032cedb2bad2f7d2438d63c2656ae1ba1ae0d"
      Last-Modified:
      - Fri, 24 Oct 2014 09:24:52 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C3C4:6E7C9:27A9533:2A1FBF8:66E29DA4
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4942'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '58'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/models/product.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1
  response:
    body:
      string: '{"name":"product.js","path":"models/product.js","sha":"308cdcda0ac54f903f57fcdc1bbe3d4c860ffa22","size":1211,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/models/product.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","html_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models/product.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/308cdcda0ac54f903f57fcdc1bbe3d4c860ffa22","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models/product.js","type":"file","content":"Lypqc2xpbnQgbm9kZTogdHJ1ZSAqLwondXNlIHN0cmljdCc7Cgp2YXIgdXRp\nbHMgPSByZXF1aXJlKCcuLi9saWIvdXRpbHMnKSwKICAgIGNoYWxsZW5nZXMg\nPSByZXF1aXJlKCcuLi9saWIvZGF0YWNhY2hlJykuY2hhbGxlbmdlczsKCgpt\nb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzZXF1ZWxpemUsIERhdGFUeXBl\ncykgewogICAgdmFyIFByb2R1Y3QgPSBzZXF1ZWxpemUuZGVmaW5lKCdQcm9k\ndWN0JywgewogICAgICAgICAgICBuYW1lOiBEYXRhVHlwZXMuU1RSSU5HLAog\nICAgICAgICAgICBkZXNjcmlwdGlvbjogRGF0YVR5cGVzLlNUUklORywKICAg\nICAgICAgICAgcHJpY2U6IERhdGFUeXBlcy5ERUNJTUFMLAogICAgICAgICAg\nICBpbWFnZTogRGF0YVR5cGVzLlNUUklORwogICAgICAgIH0sIHsKICAgICAg\nICAgICAgY2xhc3NNZXRob2RzOiB7CiAgICAgICAgICAgICAgICBhc3NvY2lh\ndGU6IGZ1bmN0aW9uIChtb2RlbHMpIHsKICAgICAgICAgICAgICAgICAgICBQ\ncm9kdWN0Lmhhc01hbnkobW9kZWxzLkJhc2tldCwge3Rocm91Z2g6IG1vZGVs\ncy5CYXNrZXRJdGVtfSk7CiAgICAgICAgICAgICAgICB9fSwKCiAgICAgICAg\nICAgIGhvb2tzOiB7CiAgICAgICAgICAgICAgICBiZWZvcmVDcmVhdGU6IGZ1\nbmN0aW9uIChwcm9kdWN0LCBmbikgewogICAgICAgICAgICAgICAgICAgIHhz\nc0NoYWxsZW5nZVByb2R1Y3RIb29rKHByb2R1Y3QpOwogICAgICAgICAgICAg\nICAgICAgIGZuKG51bGwsIHByb2R1Y3QpOwogICAgICAgICAgICAgICAgfSwK\nICAgICAgICAgICAgICAgIGJlZm9yZVVwZGF0ZTogZnVuY3Rpb24gKHByb2R1\nY3QsIGZuKSB7CiAgICAgICAgICAgICAgICAgICAgeHNzQ2hhbGxlbmdlUHJv\nZHVjdEhvb2socHJvZHVjdCk7CiAgICAgICAgICAgICAgICAgICAgZm4obnVs\nbCwgcHJvZHVjdCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH19\nKTsKICAgIHJldHVybiBQcm9kdWN0Owp9OwoKZnVuY3Rpb24geHNzQ2hhbGxl\nbmdlUHJvZHVjdEhvb2socHJvZHVjdCkgewogICAgIGlmICh1dGlscy5ub3RT\nb2x2ZWQoY2hhbGxlbmdlcy5yZXN0ZnVsWHNzQ2hhbGxlbmdlKSAmJiB1dGls\ncy5jb250YWlucyhwcm9kdWN0LmRlc2NyaXB0aW9uLCAnPHNjcmlwdD5hbGVy\ndCgiWFNTNCIpPC9zY3JpcHQ+JykpIHsKICAgICAgICAgdXRpbHMuc29sdmUo\nY2hhbGxlbmdlcy5yZXN0ZnVsWHNzQ2hhbGxlbmdlKTsKICAgICB9Cn0=\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/models/product.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/308cdcda0ac54f903f57fcdc1bbe3d4c860ffa22","html":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models/product.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:52:05 GMT
      ETag:
      - W/"308cdcda0ac54f903f57fcdc1bbe3d4c860ffa22"
      Last-Modified:
      - Fri, 24 Oct 2014 09:24:52 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C3C5:1ACD9:2BFB876:2EC48D8:66E29DA4
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4941'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '59'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/models/user.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1
  response:
    body:
      string: '{"name":"user.js","path":"models/user.js","sha":"458e01bfab6a21b093804487750b06bf962a315c","size":1182,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/models/user.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","html_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models/user.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/458e01bfab6a21b093804487750b06bf962a315c","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models/user.js","type":"file","content":"Lypqc2xpbnQgbm9kZTogdHJ1ZSAqLwondXNlIHN0cmljdCc7Cgp2YXIgaW5z\nZWN1cml0eSA9IHJlcXVpcmUoJy4uL2xpYi9pbnNlY3VyaXR5JyksCiAgICB1\ndGlscyA9IHJlcXVpcmUoJy4uL2xpYi91dGlscycpLAogICAgY2hhbGxlbmdl\ncyA9IHJlcXVpcmUoJy4uL2xpYi9kYXRhY2FjaGUnKS5jaGFsbGVuZ2VzOwoK\nbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc2VxdWVsaXplLCBEYXRhVHlw\nZXMpIHsKICAgIHZhciBVc2VyID0gc2VxdWVsaXplLmRlZmluZSgnVXNlcics\nIHsKICAgICAgICAgICAgZW1haWw6IERhdGFUeXBlcy5TVFJJTkcsCiAgICAg\nICAgICAgIHBhc3N3b3JkOiBEYXRhVHlwZXMuU1RSSU5HCiAgICAgICAgfSwK\nICAgICAgICB7CiAgICAgICAgICAgIGhvb2tzOiB7CiAgICAgICAgICAgICAg\nICBiZWZvcmVDcmVhdGU6IGZ1bmN0aW9uICh1c2VyLCBmbikgewogICAgICAg\nICAgICAgICAgICAgIGhhc2hQYXNzd29yZEhvb2sodXNlcik7CiAgICAgICAg\nICAgICAgICAgICAgeHNzQ2hhbGxlbmdlVXNlckhvb2sodXNlcik7CiAgICAg\nICAgICAgICAgICAgICAgZm4obnVsbCwgdXNlcik7CiAgICAgICAgICAgICAg\nICB9LAogICAgICAgICAgICAgICAgYmVmb3JlVXBkYXRlOiBmdW5jdGlvbiAo\ndXNlciwgZm4pIHsgLy8gUGl0ZmFsbDogV2lsbCBoYXNoIHRoZSBoYXNoZWQg\ncGFzc3dvcmQgYWdhaW4gaWYgcGFzc3dvcmQgd2FzIG5vdCB1cGRhdGVkIQog\nICAgICAgICAgICAgICAgICAgIGhhc2hQYXNzd29yZEhvb2sodXNlcik7CiAg\nICAgICAgICAgICAgICAgICAgZm4obnVsbCwgdXNlcik7CiAgICAgICAgICAg\nICAgICB9CiAgICAgICAgICAgIH19CiAgICApOwogICAgcmV0dXJuIFVzZXI7\nCn07CgpmdW5jdGlvbiBoYXNoUGFzc3dvcmRIb29rKHVzZXIpIHsKICAgIHVz\nZXIucGFzc3dvcmQgPSBpbnNlY3VyaXR5Lmhhc2godXNlci5wYXNzd29yZCk7\nCn0KCmZ1bmN0aW9uIHhzc0NoYWxsZW5nZVVzZXJIb29rKHVzZXIpIHsKICAg\nIGlmICh1dGlscy5ub3RTb2x2ZWQoY2hhbGxlbmdlcy5wZXJzaXN0ZWRYc3ND\naGFsbGVuZ2VVc2VyKSAmJiB1dGlscy5jb250YWlucyh1c2VyLmVtYWlsLCAn\nPHNjcmlwdD5hbGVydCgiWFNTMiIpPC9zY3JpcHQ+JykpIHsKICAgICAgICB1\ndGlscy5zb2x2ZShjaGFsbGVuZ2VzLnBlcnNpc3RlZFhzc0NoYWxsZW5nZVVz\nZXIpOwogICAgfQp9\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/models/user.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/458e01bfab6a21b093804487750b06bf962a315c","html":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/models/user.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:52:05 GMT
      ETag:
      - W/"458e01bfab6a21b093804487750b06bf962a315c"
      Last-Modified:
      - Fri, 24 Oct 2014 09:24:52 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C3C6:3DD164:318BF26:34885EF:66E29DA5
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4940'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '60'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/server.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1
  response:
    body:
      string: '{"name":"server.js","path":"server.js","sha":"8c92f051c4c4a76d42f5cd02fa657ca4b27cc228","size":5003,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/server.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","html_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/server.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/8c92f051c4c4a76d42f5cd02fa657ca4b27cc228","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/server.js","type":"file","content":"Lypqc2xpbnQgbm9kZTogdHJ1ZSAqLwondXNlIHN0cmljdCc7Cgp2YXIgYXBw\nbGljYXRpb25fcm9vdCA9IF9fZGlybmFtZS5yZXBsYWNlKC9cXC9nLCAnLycp\nLAogICAgZnMgPSByZXF1aXJlKCdmcycpLAogICAgZ2xvYiA9IHJlcXVpcmUo\nJ2dsb2InKSwKICAgIG1vcmdhbiA9IHJlcXVpcmUoJ21vcmdhbicpLAogICAg\ncmVzdGZ1bCA9IHJlcXVpcmUoJ3NlcXVlbGl6ZS1yZXN0ZnVsJyksCiAgICBl\neHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpLAogICAgZXJyb3JoYW5kbGVy\nID0gcmVxdWlyZSgnZXJyb3JoYW5kbGVyJyksCiAgICBjb29raWVQYXJzZXIg\nPSByZXF1aXJlKCdjb29raWUtcGFyc2VyJyksCiAgICBzZXJ2ZUluZGV4ID0g\ncmVxdWlyZSgnc2VydmUtaW5kZXgnKSwKICAgIGZhdmljb24gPSByZXF1aXJl\nKCdzZXJ2ZS1mYXZpY29uJyksCiAgICBib2R5UGFyc2VyID0gcmVxdWlyZSgn\nYm9keS1wYXJzZXInKSwKICAgIG1pZGRsZXdhcmUgPSByZXF1aXJlKCcuL21p\nZGRsZXdhcmUnKSwKICAgIHV0aWxzID0gcmVxdWlyZSgnLi9saWIvdXRpbHMn\nKSwKICAgIGluc2VjdXJpdHkgPSByZXF1aXJlKCcuL2xpYi9pbnNlY3VyaXR5\nJyksCiAgICBtb2RlbHMgPSByZXF1aXJlKCcuL21vZGVscycpLAogICAgZGF0\nYWNyZWF0b3IgPSByZXF1aXJlKCIuL2xpYi9kYXRhY3JlYXRvciIpLAogICAg\nYXBwID0gZXhwcmVzcygpOwoKZXJyb3JoYW5kbGVyLnRpdGxlID0gJ0p1aWNl\nIFNob3AgKEV4cHJlc3MgJyArIHV0aWxzLnZlcnNpb24oJ2V4cHJlc3MnKSAr\nICcpJzsKCi8qIERlbGV0ZSBvbGQgb3JkZXIgUERGcyAqLwpnbG9iKF9fZGly\nbmFtZSArICcvYXBwL3B1YmxpYy9mdHAvKi5wZGYnLCBmdW5jdGlvbiAoZXJy\nLCBmaWxlcykgewogICAgZmlsZXMuZm9yRWFjaChmdW5jdGlvbihmaWxlbmFt\nZSkgewogICAgICAgIGZzLnVubGluayhmaWxlbmFtZSk7CiAgICB9KTsKfSk7\nCgovKiBGYXZpY29uICovCmFwcC51c2UoZmF2aWNvbihfX2Rpcm5hbWUgKyAn\nL2FwcC9wdWJsaWMvZmF2aWNvbi5pY28nKSk7CgovKiBDaGVja3MgZm9yIHV0\naWxzLnNvbHZlZCBjaGFsbGVuZ2VzICovCmFwcC51c2UobWlkZGxld2FyZS52\nZXJpZnlEYXRhYmFzZVJlbGF0ZWRDaGFsbGVuZ2VzKCkpOwphcHAudXNlKCcv\ncHVibGljL2ltYWdlcy90cmFja2luZycsIG1pZGRsZXdhcmUudmVyaWZ5QWNj\nZXNzQ29udHJvbENoYWxsZW5nZXMoKSk7CgovKiBwdWJsaWMvZnRwIGRpcmVj\ndG9yeSBicm93c2luZyBhbmQgZmlsZSBkb3dubG9hZCAqLwphcHAudXNlKCcv\ncHVibGljL2Z0cCcsIHNlcnZlSW5kZXgoJ2FwcC9wdWJsaWMvZnRwJywgeydp\nY29ucyc6IHRydWV9KSk7CmFwcC51c2UoJy9wdWJsaWMvZnRwLzpmaWxlJywg\nbWlkZGxld2FyZS5zZXJ2ZUZpbGVzKCkpOwoKYXBwLnVzZShleHByZXNzLnN0\nYXRpYyhhcHBsaWNhdGlvbl9yb290ICsgJy9hcHAnKSk7CmFwcC51c2UobW9y\nZ2FuKCdkZXYnKSk7CmFwcC51c2UoY29va2llUGFyc2VyKCdrZWtzZScpKTsK\nYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7CgovKiBBdXRob3JpemF0aW9u\nICovCi8qIEJhc2tldHM6IFVuYXV0aG9yaXplZCB1c2VycyBhcmUgbm90IGFs\nbG93ZWQgdG8gYWNjZXNzIGJhc2tldHMgKi8KYXBwLnVzZSgnL3Jlc3QvYmFz\na2V0JywgaW5zZWN1cml0eS5pc0F1dGhvcml6ZWQoKSk7Ci8qIEJhc2tldEl0\nZW1zOiBBUEkgb25seSBhY2Nlc3NpYmxlIGZvciBhdXRoZW50aWNhdGVkIHVz\nZXJzICovCmFwcC51c2UoJy9hcGkvQmFza2V0SXRlbXMnLCBpbnNlY3VyaXR5\nLmlzQXV0aG9yaXplZCgpKTsKYXBwLnVzZSgnL2FwaS9CYXNrZXRJdGVtcy86\naWQnLCBpbnNlY3VyaXR5LmlzQXV0aG9yaXplZCgpKTsKLyogRmVlZGJhY2tz\nOiBHRVQgYWxsb3dlZCBmb3IgZmVlZGJhY2sgY2Fyb3VzZWwsIFBPU1QgYWxs\nb3dlZCBpbiBvcmRlciB0byBwcm92aWRlIGZlZWRiYWNrIHdpdGhvdXQgYmVp\nbmcgbG9nZ2VkIGluICovCmFwcC51c2UoJy9hcGkvRmVlZGJhY2tzLzppZCcs\nIGluc2VjdXJpdHkuaXNBdXRob3JpemVkKCkpOwovKiBVc2VyczogT25seSBQ\nT1NUIGlzIGFsbG93ZWQgaW4gb3JkZXIgdG8gcmVnaXN0ZXIgYSBuZXcgdWVy\nICovCmFwcC5nZXQoJy9hcGkvVXNlcnMnLCBpbnNlY3VyaXR5LmlzQXV0aG9y\naXplZCgpKTsKYXBwLmdldCgnL2FwaS9Vc2Vycy86aWQnLCBpbnNlY3VyaXR5\nLmlzQXV0aG9yaXplZCgpKTsKYXBwLnB1dCgnL2FwaS9Vc2Vycy86aWQnLCBp\nbnNlY3VyaXR5LmlzQXV0aG9yaXplZCgpKTsKYXBwLmRlbGV0ZSgnL2FwaS9V\nc2Vycy86aWQnLCBpbnNlY3VyaXR5LmRlbnlBbGwoKSk7IC8vIERlbGV0aW5n\nIHVzZXJzIGlzIGZvcmJpZGRlbiBlbnRpcmVseSB0byBrZWVwIGxvZ2luIGNo\nYWxsZW5nZXMgc29sdmFibGUKLyogUHJvZHVjdHM6IE9ubHkgR0VUIGlzIGFs\nbG93ZWQgaW4gb3JkZXIgdG8gdmlldyBwcm9kdWN0cyAqLwphcHAucG9zdCgn\nL2FwaS9Qcm9kdWN0cycsIGluc2VjdXJpdHkuaXNBdXRob3JpemVkKCkpOwov\nL2FwcC5wdXQoJy9hcGkvUHJvZHVjdHMvOmlkJywgaW5zZWN1cml0eS5pc0F1\ndGhvcml6ZWQoKSk7IC8vID0gbWlzc2luZyBmdW5jdGlvbi1sZXZlbCBhY2Nl\nc3MgY29udHJvbCB2dWxuZXJhYmlsaXR5CmFwcC5kZWxldGUoJy9hcGkvUHJv\nZHVjdHMvOmlkJywgaW5zZWN1cml0eS5kZW55QWxsKCkpOyAvLyBEZWxldGlu\nZyBwcm9kdWN0cyBpcyBmb3JiaWRkZW4gZW50aXJlbHkgdG8ga2VlcCB0aGUg\nTy1TYWZ0IHVybC1jaGFuZ2UgY2hhbGxlbmdlIHNvbHZhYmxlCi8qIENoYWxs\nZW5nZXM6IEdFVCBsaXN0IG9mIGNoYWxsZW5nZXMgYWxsb3dlZC4gRXZlcnl0\naGluZyBlbHNlIGZvcmJpZGRlbiBpbmRlcGVuZGVudCBvZiBhdXRob3JpemF0\naW9uIChoZW5jZSB0aGUgcmFuZG9tIHNlY3JldCkgKi8KYXBwLnBvc3QoJy9h\ncGkvQ2hhbGxlbmdlcycsIGluc2VjdXJpdHkuZGVueUFsbCgpKTsKYXBwLnVz\nZSgnL2FwaS9DaGFsbGVuZ2VzLzppZCcsIGluc2VjdXJpdHkuZGVueUFsbCgp\nKTsKLyogUkVTVCBBUEkgKi8KYXBwLnVzZSgnL3Jlc3QvdXNlci9hdXRoZW50\naWNhdGlvbi1kZXRhaWxzJywgaW5zZWN1cml0eS5pc0F1dGhvcml6ZWQoKSk7\nCmFwcC51c2UoJy9yZXN0L2Jhc2tldC86aWQnLCBpbnNlY3VyaXR5LmlzQXV0\naG9yaXplZCgpKTsKYXBwLnVzZSgnL3Jlc3QvYmFza2V0LzppZC9vcmRlcics\nIGluc2VjdXJpdHkuaXNBdXRob3JpemVkKCkpOwoKLyogQ2hhbGxlbmdlIGV2\nYWx1YXRpb24gYmVmb3JlIHNlcXVlbGl6ZS1yZXN0ZnVsIHRha2VzIG92ZXIg\nKi8KYXBwLnBvc3QoJy9hcGkvRmVlZGJhY2tzJywgbWlkZGxld2FyZS52ZXJp\nZnlGb3JnZWRGZWVkYmFja0NoYWxsZW5nZSgpKTsKCi8qIFNlcXVlbGl6ZSBS\nZXN0ZnVsIEFQSXMgKi8KYXBwLnVzZShyZXN0ZnVsKG1vZGVscy5zZXF1ZWxp\nemUsIHsgZW5kcG9pbnQ6ICcvYXBpJywgYWxsb3dlZDogWydVc2VycycsICdQ\ncm9kdWN0cycsICdGZWVkYmFja3MnLCAnQmFza2V0SXRlbXMnLCAnQ2hhbGxl\nbmdlcyddIH0pKTsKLyogQ3VzdG9tIFJlc3RmdWwgQVBJICovCmFwcC5wb3N0\nKCcvcmVzdC91c2VyL2xvZ2luJywgbWlkZGxld2FyZS5sb2dpblVzZXIoKSk7\nCmFwcC5nZXQoJy9yZXN0L3VzZXIvY2hhbmdlLXBhc3N3b3JkJywgbWlkZGxl\nd2FyZS5jaGFuZ2VQYXNzd29yZCgpKTsKYXBwLmdldCgnL3Jlc3QvdXNlci9h\ndXRoZW50aWNhdGlvbi1kZXRhaWxzJywgbWlkZGxld2FyZS5yZXRyaWV2ZVVz\nZXJMaXN0KCkpOwphcHAuZ2V0KCcvcmVzdC91c2VyL3dob2FtaScsIG1pZGRs\nZXdhcmUucmV0cmlldmVMb2dnZWRJblVzZXJzSWQoKSk7CmFwcC5nZXQoJy9y\nZXN0L3Byb2R1Y3Qvc2VhcmNoJywgbWlkZGxld2FyZS5zZWFyY2hQcm9kdWN0\ncygpKTsKYXBwLmdldCgnL3Jlc3QvYmFza2V0LzppZCcsIG1pZGRsZXdhcmUu\ncmV0cmlldmVCYXNrZXQoKSk7CmFwcC5wb3N0KCcvcmVzdC9iYXNrZXQvOmlk\nL29yZGVyJywgbWlkZGxld2FyZS5jcmVhdGVPcmRlclBkZigpKTsKYXBwLmdl\ndCgnL3Jlc3QvYWRtaW4vYXBwbGljYXRpb24tdmVyc2lvbicsIG1pZGRsZXdh\ncmUucmV0cmlldmVBcHBWZXJzaW9uKCkpOwphcHAuZ2V0KCcvcmVkaXJlY3Qn\nLCBtaWRkbGV3YXJlLnBlcmZvcm1SZWRpcmVjdCgpKTsKLyogRmlsZSBTZXJ2\naW5nICovCmFwcC5nZXQoJy90aGUvZGV2cy9hcmUvc28vZnVubnkvdGhleS9o\naWQvYW4vZWFzdGVyL2VnZy93aXRoaW4vdGhlL2Vhc3Rlci9lZ2cnLCBtaWRk\nbGV3YXJlLnNlcnZlRWFzdGVyRWdnKCkpOwphcHAudXNlKG1pZGRsZXdhcmUu\nc2VydmVBbmd1bGFyQ2xpZW50KCkpOwovKiBFcnJvciBIYW5kbGluZyAqLwph\ncHAudXNlKG1pZGRsZXdhcmUudmVyaWZ5RXJyb3JIYW5kbGluZ0NoYWxsZW5n\nZSgpKTsKYXBwLnVzZShlcnJvcmhhbmRsZXIoKSk7CgpleHBvcnRzLnN0YXJ0\nID0gZnVuY3Rpb24gKGNvbmZpZywgcmVhZHlDYWxsYmFjaykgewogICAgaWYg\nKCF0aGlzLnNlcnZlcikgewogICAgICAgIG1vZGVscy5zZXF1ZWxpemUuZHJv\ncCgpOwogICAgICAgIG1vZGVscy5zZXF1ZWxpemUuc3luYygpLnN1Y2Nlc3Mo\nZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGRhdGFjcmVhdG9yKCk7CiAgICAg\nICAgICAgIHRoaXMuc2VydmVyID0gYXBwLmxpc3Rlbihjb25maWcucG9ydCwg\nZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0xp\nc3RlbmluZyBvbiBwb3J0ICVkJywgY29uZmlnLnBvcnQpOwogICAgICAgICAg\nICAgICAgLy8gY2FsbGJhY2sgdG8gY2FsbCB3aGVuIHRoZSBzZXJ2ZXIgaXMg\ncmVhZHkKICAgICAgICAgICAgICAgIGlmIChyZWFkeUNhbGxiYWNrKSB7CiAg\nICAgICAgICAgICAgICAgICAgcmVhZHlDYWxsYmFjaygpOwogICAgICAgICAg\nICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0KfTsK\nCmV4cG9ydHMuY2xvc2UgPSBmdW5jdGlvbiAoZXhpdENvZGUpIHsKICAgIHRo\naXMuc2VydmVyLmNsb3NlKCk7CiAgICBpZiAoZXhpdENvZGUgJiYgZXhpdENv\nZGUgIT09IDApIHsKICAgICAgICBwcm9jZXNzLmV4aXQoZXhpdENvZGUpOwog\nICAgfQp9Owo=\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/server.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/8c92f051c4c4a76d42f5cd02fa657ca4b27cc228","html":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/server.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:52:06 GMT
      ETag:
      - W/"8c92f051c4c4a76d42f5cd02fa657ca4b27cc228"
      Last-Modified:
      - Fri, 24 Oct 2014 09:24:52 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C3C7:8E067:25275D1:2779BD6:66E29DA6
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4939'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '61'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/test/server/apiSpec.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1
  response:
    body:
      string: '{"name":"apiSpec.js","path":"test/server/apiSpec.js","sha":"7f53460e4cffa6f4e3310cc0916f900878905c8b","size":1206,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/server/apiSpec.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","html_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/test/server/apiSpec.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/7f53460e4cffa6f4e3310cc0916f900878905c8b","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/test/server/apiSpec.js","type":"file","content":"Lypqc2xpbnQgbm9kZTogdHJ1ZSAqLwoKdmFyIGZyaXNieSA9IHJlcXVpcmUo\nJ2ZyaXNieScpOwoKdmFyIEFQSV9VUkwgPSAnaHR0cDovL2xvY2FsaG9zdDoz\nMDAwL2FwaSc7CnZhciBSRVNUX1VSTCA9ICdodHRwOi8vbG9jYWxob3N0OjMw\nMDAvcmVzdCc7CgpmcmlzYnkuY3JlYXRlKCdHRVQgYWxsIG1vZGVscyBkZWNs\nYXJlZCBpbiBBUEknKQogICAgLmdldChBUElfVVJMKQogICAgLmV4cGVjdFN0\nYXR1cygyMDApCiAgICAuZXhwZWN0SGVhZGVyQ29udGFpbnMoJ2NvbnRlbnQt\ndHlwZScsICdhcHBsaWNhdGlvbi9qc29uJykKICAgIC5leHBlY3RKU09OVHlw\nZXMoJ2RhdGEuKicsIHsKICAgICAgICBuYW1lOiBTdHJpbmcsCiAgICAgICAg\ndGFibGVOYW1lOiBTdHJpbmcKICAgIH0pCiAgICAuZXhwZWN0SlNPTignZGF0\nYS4/JywgewogICAgICAgIG5hbWU6ICdCYXNrZXRJdGVtJywKICAgICAgICB0\nYWJsZU5hbWU6ICdCYXNrZXRJdGVtcycKICAgIH0pCiAgICAuZXhwZWN0SlNP\nTignZGF0YS4/JywgewogICAgICAgIG5hbWU6ICdDaGFsbGVuZ2UnLAogICAg\nICAgIHRhYmxlTmFtZTogJ0NoYWxsZW5nZXMnCiAgICB9KQogICAgLmV4cGVj\ndEpTT04oJ2RhdGEuPycsIHsKICAgICAgICBuYW1lOiAnRmVlZGJhY2snLAog\nICAgICAgIHRhYmxlTmFtZTogJ0ZlZWRiYWNrcycKICAgIH0pCiAgICAuZXhw\nZWN0SlNPTignZGF0YS4/JywgewogICAgICAgIG5hbWU6ICdQcm9kdWN0JywK\nICAgICAgICB0YWJsZU5hbWU6ICdQcm9kdWN0cycKICAgIH0pCiAgICAuZXhw\nZWN0SlNPTignZGF0YS4/JywgewogICAgICAgIG5hbWU6ICdVc2VyJywKICAg\nICAgICB0YWJsZU5hbWU6ICdVc2VycycKICAgIH0pCiAgICAudG9zcygpOwoK\nZnJpc2J5LmNyZWF0ZSgnR0VUIGVycm9yIG1lc3NhZ2Ugd2l0aCBpbmZvcm1h\ndGlvbiBsZWFrYWdlIHdoZW4gY2FsbGluZyB1bnJlY29nbml6ZWQgcGF0aCB3\naXRoIC9yZXN0IGluIGl0JykKICAgIC5nZXQoUkVTVF9VUkwgKyAiL3VucmVj\nb2duaXplZCIpCiAgICAuZXhwZWN0U3RhdHVzKDUwMCkKICAgIC5leHBlY3RI\nZWFkZXJDb250YWlucygnY29udGVudC10eXBlJywgJ3RleHQvaHRtbCcpCiAg\nICAuZXhwZWN0Qm9keUNvbnRhaW5zKCc8aDE+SnVpY2UgU2hvcCAoRXhwcmVz\ncyB+JykKICAgIC5leHBlY3RCb2R5Q29udGFpbnMoJ1VuZXhwZWN0ZWQgcGF0\naDogL3Jlc3QvdW5yZWNvZ25pemVkJykKICAgIC50b3NzKCk7\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/server/apiSpec.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/7f53460e4cffa6f4e3310cc0916f900878905c8b","html":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/test/server/apiSpec.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:52:07 GMT
      ETag:
      - W/"7f53460e4cffa6f4e3310cc0916f900878905c8b"
      Last-Modified:
      - Fri, 24 Oct 2014 09:24:52 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C3C8:19304A:14E6F92:1632F53:66E29DA7
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4938'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '62'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - PyGithub/Python
    method: GET
    uri: https://api.github.com/repos/juice-shop/juice-shop/contents/test/serverTests.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1
  response:
    body:
      string: '{"name":"serverTests.js","path":"test/serverTests.js","sha":"14098337b23ed668e7cc7390a59e725278493537","size":560,"url":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/serverTests.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","html_url":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/test/serverTests.js","git_url":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/14098337b23ed668e7cc7390a59e725278493537","download_url":"https://raw.githubusercontent.com/juice-shop/juice-shop/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/test/serverTests.js","type":"file","content":"Lypqc2xpbnQgbm9kZTogdHJ1ZSAqLwondXNlIHN0cmljdCc7Cgp2YXIgc3Bh\nd24gPSByZXF1aXJlKCd3aW4tc3Bhd24nKTsKdmFyIHNlcnZlciA9IHJlcXVp\ncmUoJy4vLi4vc2VydmVyLmpzJyk7CgpzZXJ2ZXIuc3RhcnQoeyBwb3J0OiAz\nMDAwIH0sIGZ1bmN0aW9uICgpIHsKICAgIHZhciBqYXNtaW5lTm9kZSA9IHNw\nYXduKCdqYXNtaW5lLW5vZGUnLCBbICd0ZXN0L3NlcnZlcicgXSk7CgogICAg\nZnVuY3Rpb24gbG9nVG9Db25zb2xlKGRhdGEpIHsKICAgICAgICBjb25zb2xl\nLmxvZyhTdHJpbmcoZGF0YSkpOwogICAgfQoKICAgIGphc21pbmVOb2RlLnN0\nZG91dC5vbignZGF0YScsIGxvZ1RvQ29uc29sZSk7CiAgICBqYXNtaW5lTm9k\nZS5zdGRlcnIub24oJ2RhdGEnLCBsb2dUb0NvbnNvbGUpOwoKICAgIGphc21p\nbmVOb2RlLm9uKCdleGl0JywgZnVuY3Rpb24gKGV4aXRDb2RlKSB7CiAgICAg\nICAgY29uc29sZS5sb2coJ0phc21pbmUtTm9kZSBleGl0ZWQgd2l0aCBjb2Rl\nICcgKyBleGl0Q29kZSArICcuJyk7CiAgICAgICAgcHJvY2Vzcy5leGl0KGV4\naXRDb2RlKTsKICAgIH0pOwp9KTs=\n","encoding":"base64","_links":{"self":"https://api.github.com/repos/juice-shop/juice-shop/contents/test/serverTests.js?ref=6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1","git":"https://api.github.com/repos/juice-shop/juice-shop/git/blobs/14098337b23ed668e7cc7390a59e725278493537","html":"https://github.com/juice-shop/juice-shop/blob/6fb9138d66432be9f3f7b4be6b46aaa07bba1ca1/test/serverTests.js"}}'
    headers:
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO,
        X-GitHub-Request-Id, Deprecation, Sunset
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Encoding:
      - gzip
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Thu, 12 Sep 2024 07:52:08 GMT
      ETag:
      - W/"14098337b23ed668e7cc7390a59e725278493537"
      Last-Modified:
      - Fri, 24 Oct 2014 09:24:52 GMT
      Referrer-Policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      Server:
      - github.com
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains; preload
      Transfer-Encoding:
      - chunked
      Vary:
      - Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      X-GitHub-Media-Type:
      - github.v3; format=json
      X-GitHub-Request-Id:
      - C3C9:11582E:12EAF6:13B87C:66E29DA7
      X-RateLimit-Limit:
      - '5000'
      X-RateLimit-Remaining:
      - '4937'
      X-RateLimit-Reset:
      - '1726130374'
      X-RateLimit-Resource:
      - core
      X-RateLimit-Used:
      - '63'
      X-XSS-Protection:
      - '0'
      github-authentication-token-expiration:
      - 2024-11-02 19:41:24 +0530
      x-accepted-github-permissions:
      - contents=read
      x-github-api-version-selected:
      - '2022-11-28'
    status:
      code: 200
      message: OK
version: 1
